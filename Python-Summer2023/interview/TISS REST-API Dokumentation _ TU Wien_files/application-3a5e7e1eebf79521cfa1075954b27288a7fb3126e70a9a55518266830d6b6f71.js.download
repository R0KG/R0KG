/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
function highlightPath(t){for(this.menu.select(".aktiv").each(function(t){$(t).removeClassName("aktiv")});t.identify()!==this.menu.identify();)t.identify().startsWith(this.opts.prefix)&&t.addClassName("aktiv"),t=t.up()}function setFocusToFirstInputInForm(t){window.location.hash||"yes"==$j("body").data("rtiss-do-not-focus-first-element")||t("#content form:first select:first,textarea:first,:input:not(:hidden):not(:button):not(.datePicker):first").first().focus()}function al(t){alert(JSON.stringify(t))}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=ft.type(t);return"function"!==i&&!ft.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(ft.isFunction(e))return ft.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ft.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(kt.test(e))return ft.filter(e,t,i);e=ft.filter(e,t)}return ft.grep(t,function(t){return ft.inArray(t,e)>-1!==i})}function o(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e={};return ft.each(t.match(At)||[],function(t,i){e[i]=!0}),e}function s(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(s(),ft.ready())}function l(t,e,i){if(i===undefined&&1===t.nodeType){var n="data-"+e.replace(Lt,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:It.test(i)?ft.parseJSON(i):i)}catch(o){}ft.data(t,e,i)}else i=undefined}return i}function h(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,i,n){if(Et(t)){var o,r,s=ft.expando,a=t.nodeType,l=a?ft.cache:t,h=a?t[s]:t[s]&&s;if(h&&l[h]&&(n||l[h].data)||i!==undefined||"string"!=typeof e)return h||(h=a?t[s]=it.pop()||ft.guid++:s),l[h]||(l[h]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[h]=ft.extend(l[h],e):l[h].data=ft.extend(l[h].data,e)),r=l[h],n||(r.data||(r.data={}),r=r.data),i!==undefined&&(r[ft.camelCase(e)]=i),"string"==typeof e?null==(o=r[e])&&(o=r[ft.camelCase(e)]):o=r,o}}function d(t,e,i){if(Et(t)){var n,o,r=t.nodeType,s=r?ft.cache:t,a=r?t[ft.expando]:ft.expando;if(s[a]){if(e&&(n=i?s[a]:s[a].data)){o=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in n?[e]:(e=ft.camelCase(e))in n?[e]:e.split(" ")).length;for(;o--;)delete n[e[o]];if(i?!h(n):!ft.isEmptyObject(n))return}(i||(delete s[a].data,h(s[a])))&&(r?ft.cleanData([t],!0):dt.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function u(t,e,i,n){var o,r=1,s=20,a=n?function(){return n.cur()}:function(){return ft.css(t,e,"")},l=a(),h=i&&i[3]||(ft.cssNumber[e]?"":"px"),c=(ft.cssNumber[e]||"px"!==h&&+l)&&Rt.exec(ft.css(t,e));if(c&&c[3]!==h){h=h||c[3],i=i||[],c=+l||1;do{c/=r=r||".5",ft.style(t,e,c+h)}while(r!==(r=a()/l)&&1!==r&&--s)}return i&&(c=+c||+l||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=o)),o}function f(t){var e=Vt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){var i,n,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[o]);o++)!e||ft.nodeName(n,e)?r.push(n):ft.merge(r,p(n,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],r):r}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)ft._data(i,"globalEval",!e||ft._data(e[n],"globalEval"))}function m(t){$t.test(t.type)&&(t.defaultChecked=t.checked)}function _(t,e,i,n,o){for(var r,s,a,l,h,c,d,u=t.length,_=f(e),v=[],y=0;y<u;y++)if((s=t[y])||0===s)if("object"===ft.type(s))ft.merge(v,s.nodeType?[s]:s);else if(Kt.test(s)){for(l=l||_.appendChild(e.createElement("div")),h=(Yt.exec(s)||["",""])[1].toLowerCase(),d=Zt[h]||Zt._default,l.innerHTML=d[1]+ft.htmlPrefilter(s)+d[2],r=d[0];r--;)l=l.lastChild;if(!dt.leadingWhitespace&&Ut.test(s)&&v.push(e.createTextNode(Ut.exec(s)[0])),!dt.tbody)for(r=(s="table"!==h||Gt.test(s)?"<table>"!==d[1]||Gt.test(s)?0:l:l.firstChild)&&s.childNodes.length;r--;)ft.nodeName(c=s.childNodes[r],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ft.merge(v,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=_.lastChild}else v.push(e.createTextNode(s));for(l&&_.removeChild(l),dt.appendChecked||ft.grep(p(v,"input"),m),y=0;s=v[y++];)if(n&&ft.inArray(s,n)>-1)o&&o.push(s);else if(a=ft.contains(s.ownerDocument,s),l=p(_.appendChild(s),"script"),a&&g(l),i)for(r=0;s=l[r++];)qt.test(s.type||"")&&i.push(s);return l=null,_}function v(){return!0}function y(){return!1}function b(){try{return nt.activeElement}catch(t){}}function x(t,e,i,n,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=undefined),e)x(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=undefined):null==o&&("string"==typeof i?(o=n,n=undefined):(o=n,n=i,i=undefined)),!1===o)o=y;else if(!o)return t;return 1===r&&(s=o,(o=function(t){return ft().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,o,n,i)})}function w(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&ft.hasData(t)){var i,n,o,r=ft._data(t),s=ft._data(e,r),a=r.events;if(a)for(i in delete s.handle,s.events={},a)for(n=0,o=a[i].length;n<o;n++)ft.event.add(e,i,a[i][n]);s.data&&(s.data=ft.extend({},s.data))}}function M(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ft.expando]){for(n in(o=ft._data(e)).events)ft.removeEvent(e,n,o.handle);e.removeAttribute(ft.expando)}"script"===i&&e.text!==t.text?(k(e).text=t.text,C(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&$t.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function S(t,e,i,n){e=rt.apply([],e);var o,r,s,a,l,h,c=0,d=t.length,u=d-1,f=e[0],g=ft.isFunction(f);if(g||d>1&&"string"==typeof f&&!dt.checkClone&&se.test(f))return t.each(function(o){var r=t.eq(o);g&&(e[0]=f.call(this,o,r.html())),S(r,e,i,n)});if(d&&(o=(h=_(e,t[0].ownerDocument,!1,t,n)).firstChild,1===h.childNodes.length&&(h=o),o||n)){for(s=(a=ft.map(p(h,"script"),k)).length;c<d;c++)r=h,c!==u&&(r=ft.clone(r,!0,!0),s&&ft.merge(a,p(r,"script"))),i.call(t[c],r,c);if(s)for(l=a[a.length-1].ownerDocument,ft.map(a,C),c=0;c<s;c++)r=a[c],qt.test(r.type||"")&&!ft._data(r,"globalEval")&&ft.contains(l,r)&&(r.src?ft._evalUrl&&ft._evalUrl(r.src):ft.globalEval((r.text||r.textContent||r.innerHTML||"").replace(le,"")));h=o=null}return t}function D(t,e,i){for(var n,o=e?ft.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||ft.cleanData(p(n)),n.parentNode&&(i&&ft.contains(n.ownerDocument,n)&&g(p(n,"script")),n.parentNode.removeChild(n));return t}function j(t,e){var i=ft(e.createElement(t)).appendTo(e.body),n=ft.css(i[0],"display");return i.detach(),n}function A(t){var e=nt,i=de[t];return i||("none"!==(i=j(t,e))&&i||((e=((ce=(ce||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),i=j(t,e),ce.detach()),de[t]=i),i}function P(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function E(t){if(t in Me)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=Te.length;i--;)if((t=Te[i]+e)in Me)return t}function I(t,e){for(var i,n,o,r=[],s=0,a=t.length;s<a;s++)(n=t[s]).style&&(r[s]=ft._data(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Bt(n)&&(r[s]=ft._data(n,"olddisplay",A(n.nodeName)))):(o=Bt(n),(i&&"none"!==i||!o)&&ft._data(n,"olddisplay",o?i:ft.css(n,"display"))));for(s=0;s<a;s++)(n=t[s]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function L(t,e,i){var n=we.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function O(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===i&&(s+=ft.css(t,i+Ht[r],!0,o)),n?("content"===i&&(s-=ft.css(t,"padding"+Ht[r],!0,o)),"margin"!==i&&(s-=ft.css(t,"border"+Ht[r]+"Width",!0,o))):(s+=ft.css(t,"padding"+Ht[r],!0,o),"padding"!==i&&(s+=ft.css(t,"border"+Ht[r]+"Width",!0,o)));return s}function z(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=me(t),s=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=_e(t,e,r))<0||null==o)&&(o=t.style[e]),fe.test(o))return o;n=s&&(dt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+O(t,e,i||(s?"border":"content"),n,r)+"px"}function N(t,e,i,n,o){return new N.prototype.init(t,e,i,n,o)}function F(){return t.setTimeout(function(){Se=undefined}),Se=ft.now()}function R(t,e){var i,n={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)n["margin"+(i=Ht[o])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function H(t,e,i){for(var n,o=($.tweeners[e]||[]).concat($.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,e,t))return n}function B(t,e,i){var n,o,r,s,a,l,h,c=this,d={},u=t.style,f=t.nodeType&&Bt(t),p=ft._data(t,"fxshow");for(n in i.queue||(null==(a=ft._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ft.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===("none"===(h=ft.css(t,"display"))?ft._data(t,"olddisplay")||A(t.nodeName):h)&&"none"===ft.css(t,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==A(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",dt.shrinkWrapBlocks()||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]})),e)if(o=e[n],je.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[n]===undefined)continue;f=!0}d[n]=p&&p[n]||ft.style(t,n)}else h=undefined;if(ft.isEmptyObject(d))"inline"===("none"===h?A(t.nodeName):h)&&(u.display=h);else for(n in p?"hidden"in p&&(f=p.hidden):p=ft._data(t,"fxshow",{}),r&&(p.hidden=!f),f?ft(t).show():c.done(function(){ft(t).hide()}),c.done(function(){var e;for(e in ft._removeData(t,"fxshow"),d)ft.style(t,e,d[e])}),d)s=H(f?p[n]:0,n,c),n in p||(p[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}function W(t,e){var i,n,o,r,s;for(i in t)if(o=e[n=ft.camelCase(i)],r=t[i],ft.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(s=ft.cssHooks[n])&&"expand"in s)for(i in r=s.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=o);else e[n]=o}function $(t,e,i){var n,o,r=0,s=$.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Se||F(),i=Math.max(0,h.startTime+h.duration-e),n=1-(i/h.duration||0),r=0,s=h.tweens.length;r<s;r++)h.tweens[r].run(n);return a.notifyWith(t,[h,n,i]),n<1&&s?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},i),originalProperties:e,originalOptions:i,startTime:Se||F(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ft.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)h.tweens[i].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),c=h.props;for(W(c,h.opts.specialEasing);r<s;r++)if(n=$.prefilters[r].call(h,t,c,h.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(h.elem,h.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(c,H,h),ft.isFunction(h.opts.start)&&h.opts.start.call(t,h),ft.fx.timer(ft.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function Y(t){return ft.attr(t,"class")||""}function q(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(At)||[];if(ft.isFunction(i))for(;n=r[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function U(t,e,i,n){function o(a){var l;return r[a]=!0,ft.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||s||r[h]?s?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)}),l}var r={},s=t===ti;return o(e.dataTypes[0])||!r["*"]&&o("*")}function V(t,e){var i,n,o=ft.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&ft.extend(!0,t,i),t}function Z(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}n||(n=s)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),i[r]}function K(t,e,i,n){var o,r,s,a,l,h={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=h[l+" "+r]||h["* "+r]))for(o in h)if((a=o.split(" "))[1]===r&&(s=h[l+" "+a[0]]||h["* "+a[0]])){!0===s?s=h[o]:!0!==h[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function G(t){return t.style&&t.style.display||ft.css(t,"display")}function X(t){if(!ft.contains(t.ownerDocument||nt,t))return!0;for(;t&&1===t.nodeType;){if("none"===G(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function J(t,e,i,n){var o;if(ft.isArray(e))ft.each(e,function(e,o){i||ri.test(t)?n(t,o):J(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==ft.type(e))n(t,e);else for(o in e)J(t+"["+o+"]",e[o],i,n)}function Q(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,ot=it.slice,rt=it.concat,st=it.push,at=it.indexOf,lt={},ht=lt.toString,ct=lt.hasOwnProperty,dt={},ut="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,_t=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ut,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:it.sort,splice:it.splice},ft.extend=ft.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(o=arguments[a]))for(n in o)t=s[n],s!==(i=o[n])&&(h&&i&&(ft.isPlainObject(i)||(e=ft.isArray(i)))?(e?(e=!1,r=t&&ft.isArray(t)?t:[]):r=t&&ft.isPlainObject(t)?t:{},s[n]=ft.extend(h,r,i)):i!==undefined&&(s[n]=i));return s},ft.extend({expando:"jQuery"+(ut+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(!dt.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ht.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,_t)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;)t[o++]=e[n++];if(i!=i)for(;e[n]!==undefined;)t[o++]=e[n++];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,r=t.length,s=!i;o<r;o++)!e(t[o],o)!==s&&n.push(t[o]);return n},map:function(t,e,n){var o,r,s=0,a=[];if(i(t))for(o=t.length;s<o;s++)null!=(r=e(t[s],s,n))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,n))&&a.push(r);return rt.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t)?(i=ot.call(arguments,2),(n=function(){return t.apply(e||this,i.concat(ot.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,n):undefined},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=it[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var vt=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,i,n){var o,r,s,a,l,h,d,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:H)!==E&&P(e),e=e||E,L)){if(11!==g&&(h=_t.exec(t)))if(o=h[1]){if(9===g){if(!(s=e.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(p&&(s=p.getElementById(o))&&F(e,s)&&s.id===o)return i.push(s),i}else{if(h[2])return J.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(o)),i}if(x.qsa&&!q[t+" "]&&(!O||!O.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(yt,"\\$&"):e.setAttribute("id",a=R),r=(d=T(t)).length,l=ut.test(a)?"#"+a:"[id='"+a+"']";r--;)d[r]=l+" "+u(d[r]);f=d.join(","),p=vt.test(t)&&c(e.parentNode)||e}if(f)try{return J.apply(i,p.querySelectorAll(f)),i}catch(m){}finally{a===R&&e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[R]=!0,t}function o(t){var e=E.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=W++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,l,h,c=[B,r];if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if((a=(l=(h=e[R]||(e[R]={}))[e.uniqueID]||(h[e.uniqueID]={}))[n])&&a[0]===B&&a[1]===r)return c[2]=a[2];if(l[n]=c,c[2]=t(e,i,s))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var o=0,r=i.length;o<r;o++)e(t,i[o],n);return n}function m(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,h=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),h&&e.push(a)));return s}function _(t,e,i,o,r,s){return o&&!o[R]&&(o=_(o)),r&&!r[R]&&(r=_(r,s)),n(function(n,s,a,l){var h,c,d,u=[],f=[],p=s.length,_=n||g(e||"*",a.nodeType?[a]:a,[]),v=!t||!n&&e?_:m(_,u,t,a,l),y=i?r||(n?t:p||o)?[]:s:v;if(i&&i(v,y,a,l),o)for(h=m(y,f),o(h,[],a,l),c=h.length;c--;)(d=h[c])&&(y[f[c]]=!(v[f[c]]=d));if(n){if(r||t){if(r){for(h=[],c=y.length;c--;)(d=y[c])&&h.push(v[c]=d);r(null,y=[],h,l)}for(c=y.length;c--;)(d=y[c])&&(h=r?tt(n,d):u[c])>-1&&(n[h]=!(s[h]=d))}}else y=m(y===s?y.splice(p,y.length):y),r?r(null,s,y,l):J.apply(s,y)})}function v(t){for(var e,i,n,o=t.length,r=w.relative[t[0].type],s=r||w.relative[" "],a=r?1:0,l=f(function(t){return t===e},s,!0),h=f(function(t){return tt(e,t)>-1},s,!0),c=[function(t,i,n){var o=!r&&(n||i!==D)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,o}];a<o;a++)if(i=w.relative[t[a].type])c=[f(p(c),i)];else{if((i=w.filter[t[a].type].apply(null,t[a].matches))[R]){for(n=++a;n<o&&!w.relative[t[n].type];n++);return _(a>1&&p(c),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&v(t.slice(a,n)),n<o&&v(t=t.slice(n)),n<o&&u(t))}c.push(i)}return p(c)}function y(t,i){var o=i.length>0,r=t.length>0,s=function(n,s,a,l,h){var c,d,u,f=0,p="0",g=n&&[],_=[],v=D,y=n||r&&w.find.TAG("*",h),b=B+=null==v?1:Math.random()||.1,x=y.length;for(h&&(D=s===E||s||h);p!==x&&null!=(c=y[p]);p++){if(r&&c){for(d=0,s||c.ownerDocument===E||(P(c),a=!L);u=t[d++];)if(u(c,s||E,a)){l.push(c);break}h&&(B=b)}o&&((c=!u&&c)&&f--,n&&g.push(c))}if(f+=p,o&&p!==f){for(d=0;u=i[d++];)u(g,_,s,a);if(n){if(f>0)for(;p--;)g[p]||_[p]||(_[p]=G.call(l));_=m(_)}J.apply(l,_),h&&!n&&_.length>0&&f+i.length>1&&e.uniqueSort(l)}return h&&(B=b,D=v),g};return o?n(s):s}var b,x,w,k,C,T,M,S,D,j,A,P,E,I,L,O,z,N,F,R="sizzle"+1*new Date,H=t.document,B=0,W=0,$=i(),Y=i(),q=i(),U=function(t,e){return t===e&&(A=!0),0},V=1<<31,Z={}.hasOwnProperty,K=[],G=K.pop,X=K.push,J=K.push,Q=K.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(rt),ut=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},wt=function(){P()};try{J.apply(K=Q.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(kt){J={apply:K.length?function(t,e){X.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}for(b in x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:H;return n!==E&&9===n.nodeType&&n.documentElement?(I=(E=n).documentElement,L=!C(E),(i=E.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(E.getElementsByClassName),x.getById=o(function(t){return I.appendChild(t).id=R,!E.getElementsByName||!E.getElementsByName(R).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var i=e.getElementById(t);return i?[i]:[]}},w.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},z=[],O=[],(x.qsa=mt.test(E.querySelectorAll))&&(o(function(t){I.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+R+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||O.push(".#.+[+~]")}),o(function(t){var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=mt.test(N=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(t){x.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),z.push("!=",rt)}),O=O.length&&new RegExp(O.join("|")),z=z.length&&new RegExp(z.join("|")),e=mt.test(I.compareDocumentPosition),F=e||mt.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return A=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===E||t.ownerDocument===H&&F(H,t)?-1:e===E||e.ownerDocument===H&&F(H,e)?1:j?tt(j,t)-tt(j,e):0:4&i?-1:1)}:function(t,e){if(t===e)return A=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,a=[t],l=[e];if(!o||!r)return t===E?-1:e===E?1:o?-1:r?1:j?tt(j,t)-tt(j,e):0;if(o===r)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===H?-1:l[n]===H?1:0},E):E},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==E&&P(t),i=i.replace(ct,"='$1']"),x.matchesSelector&&L&&!q[i+" "]&&(!z||!z.test(i))&&(!O||!O.test(i)))try{var n=N.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(kt){}return e(i,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&P(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&P(t);var i=w.attrHandle[e.toLowerCase()],n=i&&Z.call(w.attrHandle,e.toLowerCase())?i(t,e,!L):undefined;return n!==undefined?n:x.attributes||!L?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(A=!x.detectDuplicates,j=!x.sortStable&&t.slice(0),t.sort(U),A){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return j=null,t},k=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},(w=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&dt.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(st," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var h,c,d,u,f,p,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,_=a&&e.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(m){if(r){for(;g;){for(u=e;u=u[g];)if(a?u.nodeName.toLowerCase()===_:1===u.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&v){for(y=(f=(h=(c=(d=(u=m)[R]||(u[R]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]||[])[0]===B&&h[1])&&h[2],u=f&&m.childNodes[f];u=++f&&u&&u[g]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===e){c[t]=[B,f,y];break}}else if(v&&(y=f=(h=(c=(d=(u=e)[R]||(u[R]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]||[])[0]===B&&h[1]),!1===y)for(;(u=++f&&u&&u[g]||(y=f=0)||p.pop())&&((a?u.nodeName.toLowerCase()!==_:1!==u.nodeType)||!++y||(v&&((c=(d=u[R]||(u[R]={}))[u.uniqueID]||(d[u.uniqueID]={}))[t]=[B,y]),u!==e)););return(y-=o)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,i){var o,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[R]?r(i):r.length>1?(o=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)t[n=tt(t,o[s])]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=M(t.replace(at,"$1"));return o[R]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(bt,xt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,xt).toLowerCase(),function(e){var i;do{if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[i<0?i+e:i]}),even:h(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,T=e.tokenize=function(t,i){var n,o,r,s,a,l,h,c=Y[t+" "];if(c)return i?0:c.slice(0);for(a=t,l=[],h=w.preFilter;a;){for(s in n&&!(o=lt.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=ht.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length)),w.filter)!(o=ft[s].exec(a))||h[s]&&!(o=h[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):Y(t,l).slice(0)},M=e.compile=function(t,e){var i,n=[],o=[],r=q[t+" "];if(!r){for(e||(e=T(t)),i=e.length;i--;)(r=v(e[i]))[R]?n.push(r):o.push(r);(r=q(t,y(o,n))).selector=t}return r},S=e.select=function(t,e,i,n){var o,r,s,a,l,h="function"==typeof t&&t,d=!n&&T(t=h.selector||t);if(i=i||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&x.getById&&9===e.nodeType&&L&&w.relative[r[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(bt,xt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!w.relative[a=s.type]);)if((l=w.find[a])&&(n=l(s.matches[0].replace(bt,xt),vt.test(r[0].type)&&c(e.parentNode)||e))){if(r.splice(o,1),!(t=n.length&&u(r)))return J.apply(i,n),i;break}}return(h||M(t,d))(n,e,!L,i,!e||vt.test(t)&&c(e.parentNode)||e),i},x.sortStable=R.split("").sort(U).join("")===R,x.detectDuplicates=!!A,P(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ft.find=vt,ft.expr=vt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=vt.uniqueSort,ft.text=vt.getText,ft.isXMLDoc=vt.isXML,ft.contains=vt.contains;var yt=function(t,e,i){for(var n=[],o=i!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(i))break;n.push(t)}return n},bt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},xt=ft.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ft.find.matchesSelector(n,t)?[n]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<o;e++)if(ft.contains(n[e],this))return!0}));for(e=0;e<o;e++)ft.find(t,n[e],i);return(i=this.pushStack(o>1?ft.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&xt.test(t)?ft(t):t||[],!1).length}});var Ct,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||Ct,"string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Tt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),wt.test(n[1])&&ft.isPlainObject(e))for(n in e)ft.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((o=nt.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return Ct.find(t);this.length=1,this[0]=o}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))}).prototype=ft.fn,Ct=ft(nt);var Mt=/^(?:parents|prev(?:Until|All))/,St={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,i=ft(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(ft.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=xt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ft.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?ft.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,i){return yt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,i){return yt(t,"nextSibling",i)},prevUntil:function(t,e,i){return yt(t,"previousSibling",i)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(i,n){var o=ft.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ft.filter(n,o)),this.length>1&&(St[t]||(o=ft.uniqueSort(o)),Mt.test(t)&&(o=o.reverse())),this.pushStack(o)}});var Dt,jt,At=/\S+/g;for(jt in ft.Callbacks=function(t){t="string"==typeof t?r(t):ft.extend({},t);var e,i,n,o,s=[],a=[],l=-1,h=function(){for(o=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)!1===s[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=s.length,i=!1);t.memory||(i=!1),e=!1,o&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(l=s.length-1,a.push(i)),function n(e){ft.each(e,function(e,i){ft.isFunction(i)?t.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==ft.type(i)&&n(i)})}(arguments),i&&!e&&h()),this},remove:function(){return ft.each(arguments,function(t,e){for(var i;(i=ft.inArray(e,s,i))>-1;)s.splice(i,1),i<=l&&l--}),this},has:function(t){return t?ft.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=!0,i||c.disable(),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||h()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred(function(i){ft.each(e,function(e,r){var s=ft.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ft.extend(t,n):n}},o={};return n.pipe=n.then,ft.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=ot.call(arguments),s=r.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,l=1===a?t:ft.Deferred(),h=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?ot.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);o<s;o++)r[o]&&ft.isFunction(r[o].promise)?r[o].promise().progress(h(o,i,e)).done(h(o,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0,!0!==t&&--ft.readyWait>0||(Dt.resolveWith(nt,[ft]),ft.fn.triggerHandler&&(ft(nt).triggerHandler("ready"),ft(nt).off("ready"))))}}),ft.ready.promise=function(e){if(!Dt)if(Dt=ft.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(ft.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(n){}i&&i.doScroll&&function e(){if(!ft.isReady){try{i.doScroll("left")}catch(n){return t.setTimeout(e,50)}s(),ft.ready()}}()}return Dt.promise(e)},ft.ready.promise(),ft(dt))break;dt.ownFirst="0"===jt,dt.inlineBlockNeedsLayout=!1,ft(function(){var t,e,i,n;(i=nt.getElementsByTagName("body")[0])&&i.style&&(e=nt.createElement("div"),(n=nt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(e){dt.deleteExpando=!1}t=null}();var Pt,Et=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!h(t)},data:function(t,e,i){return c(t,e,i)},removeData:function(t,e){return d(t,e)},_data:function(t,e,i){return c(t,e,i,!0)},_removeData:function(t,e){return d(t,e,!0)}}),ft.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(t===undefined){if(this.length&&(o=ft.data(r),1===r.nodeType&&!ft._data(r,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&l(r,n=ft.camelCase(n.slice(5)),o[n]);ft._data(r,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ft.data(this,t)}):arguments.length>1?this.each(function(){ft.data(this,t,e)}):r?l(r,t,ft.data(r,t)):undefined},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=ft._data(t,e),i&&(!n||ft.isArray(i)?n=ft._data(t,e,ft.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=ft.queue(t,e),n=i.length,o=i.shift(),r=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ft._data(t,i)||ft._data(t,i,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,i)})})}}),ft.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ft.queue(this[0],t):e===undefined?this:this.each(function(){var i=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=ft.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(i=ft._data(r[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=Pt?Pt:(Pt=!1,(e=nt.getElementsByTagName("body")[0])&&e.style?(t=nt.createElement("div"),(i=nt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(nt.createElement("div")).style.width="5px",Pt=3!==t.offsetWidth),e.removeChild(i),Pt):void 0);var t,e,i};var Ot,zt,Nt,Ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rt=new RegExp("^(?:([+-])=|)("+Ft+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],Bt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Wt=function(t,e,i,n,o,r,s){var a=0,l=t.length,h=null==i;if("object"===ft.type(i))for(a in o=!0,i)Wt(t,e,a,i[a],!0,r,s);else if(n!==undefined&&(o=!0,ft.isFunction(n)||(s=!0),h&&(s?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(ft(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:h?e.call(t):l?e(t[0],i):r},$t=/^(?:checkbox|radio)$/i,Yt=/<([\w:-]+)/,qt=/^$|\/(?:java|ecma)script/i,Ut=/^\s+/,Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ot=nt.createElement("div"),zt=nt.createDocumentFragment(),Nt=nt.createElement("input"),Ot.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===Ot.firstChild.nodeType,dt.tbody=!Ot.getElementsByTagName("tbody").length,dt.htmlSerialize=!!Ot.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,Nt.type="checkbox",Nt.checked=!0,zt.appendChild(Nt),dt.appendChecked=Nt.checked,Ot.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Ot.cloneNode(!0).lastChild.defaultValue,zt.appendChild(Ot),(Nt=nt.createElement("input")).setAttribute("type","radio"),Nt.setAttribute("checked","checked"),Nt.setAttribute("name","t"),Ot.appendChild(Nt),dt.checkClone=Ot.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!Ot.addEventListener,Ot[ft.expando]=1,dt.attributes=!Ot.getAttribute(ft.expando);var Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td;var Kt=/<|&#?\w+;/,Gt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(dt[e]=i in t)||(n.setAttribute(i,"t"),dt[e]=!1===n.attributes[i].expando);n=null}();var Xt=/^(?:input|select|textarea)$/i,Jt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,h,c,d,u,f,p,g,m=ft._data(t);if(m){for(i.handler&&(i=(l=i).handler,o=l.selector),i.guid||(i.guid=ft.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||((c=m.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(c.elem,arguments)}).elem=t),a=(e=(e||"").match(At)||[""]).length;a--;)f=g=(r=ee.exec(e[a])||[])[1],p=(r[2]||"").split(".").sort(),f&&(h=ft.event.special[f]||{},f=(o?h.delegateType:h.bindType)||f,h=ft.event.special[f]||{},d=ft.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:o,
needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(u=s[f])||((u=s[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),ft.event.global[f]=!0);t=null}},remove:function(t,e,i,n,o){var r,s,a,l,h,c,d,u,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(c=m.events)){for(h=(e=(e||"").match(At)||[""]).length;h--;)if(f=g=(a=ee.exec(e[h])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},u=c[f=(n?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=u.length;r--;)s=u[r],!o&&g!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(u.splice(r,1),s.selector&&u.delegateCount--,d.remove&&d.remove.call(t,s));l&&!u.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||ft.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)ft.event.remove(t,f+e[h],i,n,!0);ft.isEmptyObject(c)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(e,i,n,o){var r,s,a,l,h,c,d,u=[n||nt],f=ct.call(e,"type")?e.type:e,p=ct.call(e,"namespace")?e.namespace.split("."):[];if(a=c=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!te.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(f=(p=f.split(".")).shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),i=null==i?[e]:ft.makeArray(i,[e]),h=ft.event.special[f]||{},o||!h.trigger||!1!==h.trigger.apply(n,i))){if(!o&&!h.noBubble&&!ft.isWindow(n)){for(l=h.delegateType||f,te.test(l+f)||(a=a.parentNode);a;a=a.parentNode)u.push(a),c=a;c===(n.ownerDocument||nt)&&u.push(c.defaultView||c.parentWindow||t)}for(d=0;(a=u[d++])&&!e.isPropagationStopped();)e.type=d>1?l:h.bindType||f,(r=(ft._data(a,"events")||{})[e.type]&&ft._data(a,"handle"))&&r.apply(a,i),(r=s&&a[s])&&r.apply&&Et(a)&&(e.result=r.apply(a,i),!1===e.result&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!h._default||!1===h._default.apply(u.pop(),i))&&Et(n)&&s&&n[f]&&!ft.isWindow(n)){(c=n[s])&&(n[s]=null),ft.event.triggered=f;try{n[f]()}catch(g){}ft.event.triggered=undefined,c&&(n[s]=c)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,i,n,o,r,s=[],a=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],h=ft.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,t)){for(s=ft.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(n=((ft.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))!==undefined&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<a;i++)n[o=(r=e[i]).selector+" "]===undefined&&(n[o]=r.needsContext?ft(o,this).index(l)>-1:ft.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Qt.test(o)?this.mouseHooks:Jt.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new ft.Event(r),e=n.length;e--;)t[i=n[e]]=r[i];return t.target||(t.target=r.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(n=t.target.ownerDocument||nt).documentElement,i=n.body,t.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=ft.extend(new ft.Event,i,{type:t,isSimulated:!0});ft.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},ft.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?v:y):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||ft.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),dt.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;i&&!ft._data(i,"submit")&&(ft.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),ft._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){if(Xt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Xt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Xt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=ft._data(n,e);o||n.addEventListener(t,i,!0),ft._data(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=ft._data(n,e)-1;o?ft._data(n,e,o):(n.removeEventListener(t,i,!0),ft._removeData(n,e))}}}),ft.fn.extend({on:function(t,e,i,n){return x(this,t,e,i,n)},one:function(t,e,i,n){return x(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ft(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=undefined),!1===i&&(i=y),this.each(function(){ft.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return ft.event.trigger(t,e,i,!0)}});var ie=/ jQuery\d+="(?:null|\d+)"/g,ne=new RegExp("<(?:"+Vt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,re=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,he=f(nt).appendChild(nt.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a,l=ft.contains(t.ownerDocument,t);if(dt.html5Clone||ft.isXMLDoc(t)||!ne.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(he.innerHTML=t.outerHTML,he.removeChild(r=he.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(n=p(r),a=p(t),s=0;null!=(o=a[s]);++s)n[s]&&M(o,n[s]);if(e)if(i)for(a=a||p(t),n=n||p(r),s=0;null!=(o=a[s]);s++)T(o,n[s]);else T(t,r);return(n=p(r,"script")).length>0&&g(n,!l&&p(t,"script")),n=a=o=null,r},cleanData:function(t,e){for(var i,n,o,r,s=0,a=ft.expando,l=ft.cache,h=dt.attributes,c=ft.event.special;null!=(i=t[s]);s++)if((e||Et(i))&&(r=(o=i[a])&&l[o])){if(r.events)for(n in r.events)c[n]?ft.event.remove(i,n):ft.removeEvent(i,n,r.handle);l[o]&&(delete l[o],h||"undefined"==typeof i.removeAttribute?i[a]=undefined:i.removeAttribute(a),it.push(o))}}}),ft.fn.extend({domManip:S,detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return Wt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return S(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,t).appendChild(t)})},prepend:function(){return S(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return S(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Wt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ie,""):undefined;if("string"==typeof t&&!re.test(t)&&(dt.htmlSerialize||!ne.test(t))&&(dt.leadingWhitespace||!Ut.test(t))&&!Zt[(Yt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return S(this,arguments,function(e){var i=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),i&&i.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var i,n=0,o=[],r=ft(t),s=r.length-1;n<=s;n++)i=n===s?this:this.clone(!0),ft(r[n])[e](i),st.apply(o,i.get());return this.pushStack(o)}});var ce,de={HTML:"block",BODY:"block"},ue=/^margin/,fe=new RegExp("^("+Ft+")(?!px)[a-z%]+$","i"),pe=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=i.apply(t,n||[]),e)t.style[r]=s[r];return o},ge=nt.documentElement;!function(){function e(){var e,c,d=nt.documentElement;d.appendChild(l),h.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=a=!1,n=s=!0,t.getComputedStyle&&(c=t.getComputedStyle(h),i="1%"!==(c||{}).top,a="2px"===(c||{}).marginLeft,o="4px"===(c||{width:"4px"}).width,h.style.marginRight="50%",n="4px"===(c||{marginRight:"4px"}).marginRight,(e=h.appendChild(nt.createElement("div"))).style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",h.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),h.removeChild(e)),h.style.display="none",(r=0===h.getClientRects().length)&&(h.style.display="",h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",h.childNodes[0].style.borderCollapse="separate",(e=h.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),d.removeChild(l)}var i,n,o,r,s,a,l=nt.createElement("div"),h=nt.createElement("div");h.style&&(h.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===h.style.opacity,dt.cssFloat=!!h.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===h.style.backgroundClip,(l=nt.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.innerHTML="",l.appendChild(h),dt.boxSizing=""===h.style.boxSizing||""===h.style.MozBoxSizing||""===h.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==i&&e(),r},boxSizingReliable:function(){return null==i&&e(),o},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),s},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var me,_e,ve=/^(top|right|bottom|left)$/;t.getComputedStyle?(me=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},_e=function(t,e,i){var n,o,r,s,a=t.style;return""!==(s=(i=i||me(t))?i.getPropertyValue(e)||i[e]:undefined)&&s!==undefined||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),i&&!dt.pixelMarginRight()&&fe.test(s)&&ue.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r),s===undefined?s:s+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},_e=function(t,e,i){var n,o,r,s,a=t.style;return null==(s=(i=i||me(t))?i[e]:undefined)&&a&&a[e]&&(s=a[e]),fe.test(s)&&!ve.test(e)&&(n=a.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=n,r&&(o.left=r)),s===undefined?s:s+""||"auto"});var ye=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/i,xe=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+Ft+")(.*)$","i"),ke={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},Te=["Webkit","O","Moz","ms"],Me=nt.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=_e(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=ft.camelCase(e),l=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=E(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],i===undefined)return s&&"get"in s&&(o=s.get(t,!1,n))!==undefined?o:l[e];if("string"===(r=typeof i)&&(o=Rt.exec(i))&&o[1]&&(i=u(t,e,o),r="number"),null!=i&&i==i&&("number"===r&&(i+=o&&o[3]||(ft.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&(i=s.set(t,i,n))===undefined)))try{l[e]=i}catch(h){}}},css:function(t,e,i,n){var o,r,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=E(a)||a),(s=ft.cssHooks[e]||ft.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,i)),r===undefined&&(r=_e(t,e,n)),"normal"===r&&e in Ce&&(r=Ce[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,i,n){if(i)return xe.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,ke,function(){return z(t,e,n)}):z(t,e,n)},set:function(t,i,n){var o=n&&me(t);return L(t,i,n?O(t,e,n,dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o),o):0)}}}),dt.opacity||(ft.cssHooks.opacity={get:function(t,e){return be.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ft.trim(r.replace(ye,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ye.test(r)?r.replace(ye,o):r+" "+o)}}),ft.cssHooks.marginRight=P(dt.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},_e,[t,"marginRight"])}),ft.cssHooks.marginLeft=P(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(_e(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+Ht[n]+e]=r[n]||r[n-2]||r[0];return o}},ue.test(t)||(ft.cssHooks[t+e].set=L)}),ft.fn.extend({css:function(t,e){return Wt(this,function(t,e,i){var n,o,r={},s=0;if(ft.isArray(e)){for(n=me(t),o=e.length;s<o;s++)r[e[s]]=ft.css(t,e[s],!1,n);return r}return i!==undefined?ft.style(t,e,i):ft.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Bt(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=N,N.prototype={constructor:N,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(ft.cssNumber[i]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,i=N.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=N.prototype.init,ft.fx.step={};var Se,De,je=/^(?:toggle|show|hide)$/,Ae=/queueHooks$/;ft.Animation=ft.extend($,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return u(i.elem,t,Rt.exec(e),i),i}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(At);for(var i,n=0,o=t.length;n<o;n++)i=t[n],$.tweeners[i]=$.tweeners[i]||[],$.tweeners[i].unshift(e)},prefilters:[B],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),ft.speed=function(t,e,i){var n=t&&"object"==typeof t?ft.extend({},t):{complete:i||!i&&e||ft.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ft.isFunction(e)&&e};return n.duration=ft.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ft.fx.speeds?ft.fx.speeds[n.duration]:ft.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ft.isFunction(n.old)&&n.old.call(this),n.queue&&ft.dequeue(this,n.queue)},n},ft.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Bt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=ft.isEmptyObject(t),r=ft.speed(e,i,n),s=function(){var e=$(this,ft.extend({},t),r);(o||ft._data(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=ft.timers,s=ft._data(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&Ae.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||ft.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=ft._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=ft.timers,s=n?n.length:0;for(i.finish=!0,ft.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var i=ft.fn[e];ft.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(R(e,!0),t,n,o)}}),ft.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,i=0;for(Se=ft.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||ft.fx.stop(),Se=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){De||(De=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(De),De=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,i){return e=ft.fx&&ft.fx.speeds[e]||e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),o=n.appendChild(nt.createElement("option"));(i=nt.createElement("div")).setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),(t=i.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==i.className,dt.style=/top/.test(t.getAttribute("style")),dt.hrefNormalized="/a"===t.getAttribute("href"),dt.checkOn=!!e.value,dt.optSelected=o.selected,dt.enctype=!!nt.createElement("form").enctype,n.disabled=!0,dt.optDisabled=!o.disabled,(e=nt.createElement("input")).setAttribute("value",""),dt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),dt.radioValue="t"===e.value}();var Pe=/\r/g,Ee=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=ft.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(null==(o=n?t.call(this,i,ft(this).val()):t)?o="":"number"==typeof o?o+="":ft.isArray(o)&&(o=ft.map(o,function(t){return null==t?"":t+""})),(e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,o,"value")!==undefined||(this.value=o))})):o?(e=ft.valHooks[o.type]||ft.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&(i=e.get(o,"value"))!==undefined?i:"string"==typeof(i=o.value)?i.replace(Pe,""):null==i?"":i:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Ee," ")}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,s=r?null:[],a=r?o+1:n.length,l=o<0?a:r?o:0;l<a;l++)if(((i=n[l]).selected||l===o)&&(dt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ft.nodeName(i.parentNode,"optgroup"))){if(e=ft(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=ft.makeArray(e),s=o.length;s--;)if(n=o[s],ft.inArray(ft.valHooks.option.get(n),r)>-1)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},dt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ie,Le,Oe=ft.expr.attrHandle,ze=/^(?:checked|selected)$/i,Ne=dt.getSetAttribute,Fe=dt.input;ft.fn.extend({attr:function(t,e){return Wt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?ft.prop(t,e,i):(1===r&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Le:Ie)),i!==undefined?null===i?void ft.removeAttr(t,e):o&&"set"in o&&(n=o.set(t,i,e))!==undefined?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:null==(n=ft.find.attr(t,e))?undefined:n)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(At);if(r&&1===t.nodeType)for(;i=r[o++];)n=ft.propFix[i]||i,ft.expr.match.bool.test(i)?Fe&&Ne||!ze.test(i)?t[n]=!1:t[ft.camelCase("default-"+i)]=t[n]=!1:ft.attr(t,i,""),t.removeAttribute(Ne?i:n)}}),Le={set:function(t,e,i){return!1===e?ft.removeAttr(t,i):Fe&&Ne||!ze.test(i)?t.setAttribute(!Ne&&ft.propFix[i]||i,i):t[ft.camelCase("default-"+i)]=t[i]=!0,i}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Oe[e]||ft.find.attr;Fe&&Ne||!ze.test(e)?Oe[e]=function(t,e,n){var o,r;return n||(r=Oe[e],Oe[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,Oe[e]=r),o}:Oe[e]=function(t,e,i){if(!i)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),Fe&&Ne||(ft.attrHooks.value={set:function(t,e,i){if(!ft.nodeName(t,"input"))return Ie&&Ie.set(t,e,i);t.defaultValue=e}}),Ne||(Ie={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},Oe.id=Oe.name=Oe.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},ft.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:Ie.set},ft.attrHooks.contenteditable={set:function(t,e,i){Ie.set(t,""!==e&&e,i)}},ft.each(["width","height"],function(t,e){ft.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}})),dt.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Re=/^(?:input|select|textarea|button|object)$/i,He=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Wt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),ft.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),i!==undefined?o&&"set"in o&&(n=o.set(t,i,e))!==undefined?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Re.test(t.nodeName)||He.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),dt.enctype||(ft.propFix.enctype="encoding");var Be=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,Y(this)))});if("string"==typeof t&&t)for(e=t.match(At)||[];i=this[l++];)if(o=Y(i),n=1===i.nodeType&&(" "+o+" ").replace(Be," ")){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(a=ft.trim(n))&&ft.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(At)||[];i=this[l++];)if(o=Y(i),n=1===i.nodeType&&(" "+o+" ").replace(Be," ")){for(s=0;r=e[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");o!==(a=ft.trim(n))&&ft.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(i){ft(this).toggleClass(t.call(this,i,Y(this),e),e)}):this.each(function(){var e,n,o,r;if("string"===i)for(n=0,o=ft(this),r=t.match(At)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==i||((e=Y(this))&&ft._data(this,"__className__",e),ft.attr(this,"class",e||!1===t?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+Y(i)+" ").replace(Be," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var We=t.location,$e=ft.now(),Ye=/\?/,qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,o=ft.trim(e+"");return o&&!ft.trim(o.replace(qe,function(t,e,o,r){return i&&e&&(n=0),0===n?t:(i=o||e,n+=!r-!o,"")}))?Function("return "+o)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?i=(new t.DOMParser).parseFromString(e,"text/xml"):((i=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(e))}catch(n){i=undefined}
return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),i};var Ue=/#.*$/,Ve=/([?&])_=[^&]*/,Ze=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ke=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ge=/^(?:GET|HEAD)$/,Xe=/^\/\//,Je=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qe={},ti={},ei="*/".concat("*"),ii=We.href,ni=Je.exec(ii.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ii,type:"GET",isLocal:Ke.test(ni[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ei,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,ft.ajaxSettings),e):V(ft.ajaxSettings,t)},ajaxPrefilter:q(Qe),ajaxTransport:q(ti),ajax:function(e,i){function n(e,i,n,o){var r,d,v,y,x,k=i;2!==b&&(b=2,l&&t.clearTimeout(l),c=undefined,a=o||"",w.readyState=e>0?4:0,r=e>=200&&e<300||304===e,n&&(y=Z(u,w,n)),y=K(u,y,w,r),r?(u.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(ft.lastModified[s]=x),(x=w.getResponseHeader("etag"))&&(ft.etag[s]=x)),204===e||"HEAD"===u.type?k="nocontent":304===e?k="notmodified":(k=y.state,d=y.data,r=!(v=y.error))):(v=k,!e&&k||(k="error",e<0&&(e=0))),w.status=e,w.statusText=(i||k)+"",r?g.resolveWith(f,[d,k,w]):g.rejectWith(f,[w,k,v]),w.statusCode(_),_=undefined,h&&p.trigger(r?"ajaxSuccess":"ajaxError",[w,u,r?d:v]),m.fireWith(f,[w,k]),h&&(p.trigger("ajaxComplete",[w,u]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=undefined),i=i||{};var o,r,s,a,l,h,c,d,u=ft.ajaxSetup({},i),f=u.context||u,p=u.context&&(f.nodeType||f.jquery)?ft(f):ft.event,g=ft.Deferred(),m=ft.Callbacks("once memory"),_=u.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!d)for(d={};e=Ze.exec(a);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return b||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)_[e]=[_[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return c&&c.abort(e),n(0,e),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||ii)+"").replace(Ue,"").replace(Xe,ni[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=ft.trim(u.dataType||"*").toLowerCase().match(At)||[""],null==u.crossDomain&&(o=Je.exec(u.url.toLowerCase()),u.crossDomain=!(!o||o[1]===ni[1]&&o[2]===ni[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(ni[3]||("http:"===ni[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ft.param(u.data,u.traditional)),U(Qe,u,i,w),2===b)return w;for(r in(h=ft.event&&u.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ge.test(u.type),s=u.url,u.hasContent||(u.data&&(s=u.url+=(Ye.test(s)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=Ve.test(s)?s.replace(Ve,"$1_="+$e++):s+(Ye.test(s)?"&":"?")+"_="+$e++)),u.ifModified&&(ft.lastModified[s]&&w.setRequestHeader("If-Modified-Since",ft.lastModified[s]),ft.etag[s]&&w.setRequestHeader("If-None-Match",ft.etag[s])),(u.data&&u.hasContent&&!1!==u.contentType||i.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ei+"; q=0.01":""):u.accepts["*"]),u.headers)w.setRequestHeader(r,u.headers[r]);if(u.beforeSend&&(!1===u.beforeSend.call(f,w,u)||2===b))return w.abort();for(r in x="abort",{success:1,error:1,complete:1})w[r](u[r]);if(c=U(ti,u,i,w)){if(w.readyState=1,h&&p.trigger("ajaxSend",[w,u]),2===b)return w;u.async&&u.timeout>0&&(l=t.setTimeout(function(){w.abort("timeout")},u.timeout));try{b=1,c.send(v,n)}catch(k){if(!(b<2))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return ft.get(t,e,i,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,i,n,o){return ft.isFunction(i)&&(o=o||n,n=i,i=undefined),ft.ajax(ft.extend({url:t,type:e,dataType:o,data:i,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each(function(e){ft(this).wrapAll(t.call(this,e))});if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(i){ft(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:X(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var oi=/%20/g,ri=/\[\]$/,si=/\r?\n/g,ai=/^(?:submit|button|image|reset|file)$/i,li=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var i,n=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){o(this.name,this.value)});else for(i in t)J(i,t[i],e,o);return n.join("&").replace(oi,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&li.test(this.nodeName)&&!ai.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var i=ft(this).val();return null==i?null:ft.isArray(i)?ft.map(i,function(t){return{name:e.name,value:t.replace(si,"\r\n")}}):{name:e.name,value:i.replace(si,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():nt.documentMode>8?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||tt()}:Q;var hi=0,ci={},di=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ci)ci[t](undefined,!0)}),dt.cors=!!di&&"withCredentials"in di,(di=dt.ajax=!!di)&&ft.ajaxTransport(function(e){var i;if(!e.crossDomain||dt.cors)return{send:function(n,o){var r,s=e.xhr(),a=++hi;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];for(r in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)n[r]!==undefined&&s.setRequestHeader(r,n[r]+"");s.send(e.hasContent&&e.data||null),i=function(t,n){var r,l,h;if(i&&(n||4===s.readyState))if(delete ci[a],i=undefined,s.onreadystatechange=ft.noop,n)4!==s.readyState&&s.abort();else{h={},r=s.status,"string"==typeof s.responseText&&(h.text=s.responseText);try{l=s.statusText}catch(c){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=h.text?200:404}h&&o(r,l,h,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(i):s.onreadystatechange=ci[a]=i:i()},abort:function(){i&&i(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||ft("head")[0]||nt.documentElement;return{send:function(n,o){(e=nt.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||o(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var ui=[],fi=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ui.pop()||ft.expando+"_"+$e++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,s,a=!1!==e.jsonp&&(fi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&fi.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(fi,"$1"+o):!1!==e.jsonp&&(e.url+=(Ye.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||ft.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},n.always(function(){r===undefined?ft(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,ui.push(o)),s&&ft.isFunction(r)&&r(s[0]),s=r=undefined}),"script"}),ft.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||nt;var n=wt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=_([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],n.childNodes))};var pi=ft.fn.load;ft.fn.load=function(t,e,i){if("string"!=typeof t&&pi)return pi.apply(this,arguments);var n,o,r,s=this,a=t.indexOf(" ");return a>-1&&(n=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(i=e,e=undefined):e&&"object"==typeof e&&(o="POST"),s.length>0&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?ft("<div>").append(ft.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,h=ft.css(t,"position"),c=ft(t),d={};"static"===h&&(t.style.position="relative"),a=c.offset(),r=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===h||"fixed"===h)&&ft.inArray("auto",[r,l])>-1?(s=(n=c.position()).top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,i,ft.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):c.css(d)}},ft.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(e=r.documentElement,ft.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(n=o.getBoundingClientRect()),i=et(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ft.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(i=t.offset()),i.top+=ft.css(t[0],"borderTopWidth",!0),i.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ft.css(n,"marginTop",!0),left:e.left-i.left-ft.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||ge})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);ft.fn[t]=function(n){return Wt(this,function(t,n,o){var r=et(t);if(o===undefined)return r?e in r?r[e]:r.document.documentElement[n]:t[n];r?r.scrollTo(i?ft(r).scrollLeft():o,i?o:ft(r).scrollTop()):t[n]=o},t,n,arguments.length,null)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=P(dt.pixelPosition,function(t,i){if(i)return i=_e(t,e),fe.test(i)?ft(t).position()[e]+"px":i})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ft.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===o?"margin":"border");return Wt(this,function(e,i,n){var o;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):n===undefined?ft.css(e,i,s):ft.style(e,i,n,s)},e,r?n:undefined,r,null)}})}),ft.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var gi=t.jQuery,mi=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=mi),e&&t.jQuery===ft&&(t.jQuery=gi),ft},e||(t.jQuery=t.$=ft),ft});var TISS=TISS||{},$j=jQuery.noConflict(),$doc=$j(document);!function(t,e){"use strict";var i;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(n){var o,r,s,a,l,h;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),s=t(n[0]).serializeArray();var c=n.data("ujs:submit-button");c&&(s.push(c),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(o=n.data("method"),r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",r=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(o=n.data("method"),r=i.href(n),s=n.data("params")||null);return h={type:o||"GET",data:s,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!i.fire(n,"ajax:beforeSend",[t,o]))return!1;n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},a&&(h.xhrFields={withCredentials:a}),r&&(h.url=r),i.ajax(h)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),r=n.data("method"),s=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),h=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||i.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&h.attr("target",s),h.hide().append(c).appendTo("body"),h.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",(n=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),o=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{o=i.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=i.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,i,n){var o,r,s,a=t(),l=i||"input,textarea",h=e.find(l),c={};return h.each(function(){(o=t(this)).is("input[type=radio]")?(s=o.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),a=a.add(r)),c[s]=s)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===n&&(a=a.add(o))}),!!a.length&&a},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.on("ajax:complete",i.linkDisableSelector,function(){i.enableElement(t(this))}),n.on("ajax:complete",i.buttonDisableSelector,function(){i.enableFormElement(t(this))}),n.on("click.rails",i.linkClickSelector,function(e){var n=t(this),o=n.data("method"),r=n.data("params"),s=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!s&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(s&&(!o||"GET"===o)&&!r)return!0;var a=i.handleRemote(n);return!1===a?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.on("click.rails",i.buttonClickSelector,function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return!1===o?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.on("change.rails",i.inputChangeSelector,function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.on("submit.rails",i.formSubmitSelector,function(n){var o,r,s=t(this),a=i.isRemote(s);if(!i.allowAction(s))return i.stopEverything(n);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((o=i.blankInputs(s,i.requiredInputSelector,!1))&&i.fire(s,"ajax:aborted:required",[o]))return i.stopEverything(n)}else s.data("ujs:formnovalidate-button",e);if(a){if(r=i.nonBlankInputs(s,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(s)},13);var l=i.fire(s,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(s)},13),l}return i.handleRemote(s),!1}setTimeout(function(){i.disableFormElements(s)},13)}),n.on("click.rails",i.formInputClickSelector,function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),r=o?{name:o,value:n.val()}:null,s=n.closest("form");0===s.length&&(s=t("#"+n.attr("form"))),s.data("ujs:submit-button",r),s.data("ujs:formnovalidate-button",n.attr("formnovalidate")),s.data("ujs:submit-button-formaction",n.attr("formaction")),s.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.on("ajax:send.rails",i.formSubmitSelector,function(e){this===e.target&&i.disableFormElements(t(this))}),n.on("ajax:complete.rails",i.formSubmitSelector,function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),
/*
 * qTip2 - Pretty powerful tooltips - v2.2.1
 * http://qtip2.com
 *
 * Copyright (c) 2014 
 * Released under the MIT licenses
 * http://jquery.org/license
 *
 * Date: Sat Sep 6 2014 06:25 EDT-0400
 * Plugins: tips viewport imagemap svg modal ie6
 * Styles: core basic css3
 */
function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function(n){"use strict";function o(t,e,i,o){this.id=i,this.target=t,this.tooltip=P,this.elements={target:t},this._id=Y+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:n(),disabled:A,attr:o,onTooltip:A,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=A}function r(t){return t===P||"object"!==n.type(t)}function s(t){return!(n.isFunction(t)||t&&t.attr||t.length||"object"===n.type(t)&&(t.jquery||t.then))}function a(t){var e,i,o,a;return r(t)?A:(r(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(r(e=t.content)||e.jquery||e.done?e=t.content={text:i=s(e)?A:e}:i=e.text,"ajax"in e&&(o=e.ajax,a=o&&o.once!==A,delete e.ajax,e.text=function(t,e){var r=i||n(this).attr(e.options.content.attr)||"Loading...",s=n.ajax(n.extend({},o,{context:e})).then(o.success,P,o.error).then(function(t){return t&&a&&e.set("content.text",t),t},function(t,i,n){e.destroyed||0===t.status||e.set("content.text",i+": "+n)});return a?r:(e.set("content.text",r),s)}),"title"in e&&(n.isPlainObject(e.title)&&(e.button=e.title.button,e.title=e.title.text),s(e.title||A)&&(e.title=A))),"position"in t&&r(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&r(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===j?{ready:j}:{event:t.show}),"hide"in t&&r(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&r(t.style)&&(t.style={classes:t.style}),n.each($,function(){this.sanitize&&this.sanitize(t)}),t)}function l(t,e){for(var i,n=0,o=t,r=e.split(".");o=o[r[n++]];)n<r.length&&(i=o);return[i||t,r.pop()]}function h(t,e){var i,n,o;for(i in this.checks)for(n in this.checks[i])(o=new RegExp(n,"i").exec(t))&&(e.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,e))}function c(t){return V.concat("").join(t?"-"+t+" ":" ")}function d(t,e){if(e>0)return setTimeout(n.proxy(t,this),e);t.call(this)}function u(t){this.tooltip.hasClass(tt)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=d.call(this,function(){this.toggle(j,t)},this.options.show.delay))}function f(t){if(!this.tooltip.hasClass(tt)&&!this.destroyed){var e=n(t.relatedTarget),i=e.closest(Z)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(r){}else this.timers.hide=d.call(this,function(){this.toggle(A,t)},this.options.hide.delay,this)}}function p(t){!this.tooltip.hasClass(tt)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=d.call(this,function(){this.hide(t)},this.options.hide.inactive))}function g(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function m(t,i,o){n(e.body).delegate(t,(i.split?i:i.join("."+Y+" "))+"."+Y,function(){var t=C.api[n.attr(this,U)];t&&!t.disabled&&o.apply(t,arguments)})}function _(t,i,r){var s,l,h,c,d,u=n(e.body),f=t[0]===e?u:t,p=t.metadata?t.metadata(r.metadata):P,g="html5"===r.metadata.type&&p?p[r.metadata.name]:P,m=t.data(r.metadata.name||"qtipopts");try{m="string"==typeof m?n.parseJSON(m):m}catch(_){}if(l=(c=n.extend(j,{},C.defaults,r,"object"==typeof m?a(m):P,a(g||p))).position,c.id=i,"boolean"==typeof c.content.text){if(h=t.attr(c.content.attr),c.content.attr===A||!h)return A;c.content.text=h}if(l.container.length||(l.container=u),l.target===A&&(l.target=f),c.show.target===A&&(c.show.target=f),c.show.solo===j&&(c.show.solo=l.container.closest("body")),c.hide.target===A&&(c.hide.target=f),c.position.viewport===j&&(c.position.viewport=l.container),l.container=l.container.eq(0),l.at=new M(l.at,j),l.my=new M(l.my),t.data(Y))if(c.overwrite)t.qtip("destroy",!0);else if(c.overwrite===A)return A;return t.attr(q,i),c.suppress&&(d=t.attr("title"))&&t.removeAttr("title").attr(it,d).attr("title",""),s=new o(t,c,i,!!h),t.data(Y,s),s}function v(t){return t.charAt(0).toUpperCase()+t.slice(1)}function y(t,e){var n,o,r=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+vt.join(r+" ")+r).split(" "),a=0;if(_t[e])return t.css(_t[e]);for(;n=s[a++];)if((o=t.css(n))!==i)return _t[e]=n,o}function b(t,e){return Math.ceil(parseFloat(y(t,e)))}function x(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function w(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function k(t){this._ns="ie6",this.init(this.qtip=t)}var C,T,M,S,D,j=!0,A=!1,P=null,E="x",I="y",L="width",O="height",z="top",N="left",F="bottom",R="right",H="center",B="flipinvert",W="shift",$={},Y="qtip",q="data-hasqtip",U="data-qtip-id",V=["ui-widget","ui-tooltip"],Z="."+Y,K="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),G=Y+"-fixed",X=Y+"-default",J=Y+"-focus",Q=Y+"-hover",tt=Y+"-disabled",et="_replacedByqTip",it="oldtitle",nt={ie:function(){for(var t=4,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||A};(T=o.prototype)._when=function(t){return n.when.apply(n,t)},T.render=function(t){if(this.rendered||this.destroyed)return this;var e=this,i=this.options,o=this.cache,r=this.elements,s=i.content.text,a=i.content.title,l=i.content.button,h=i.position,c=(this._id,[]);return n.attr(this.target[0],"aria-describedby",this._id),o.posClass=this._createPosClass((this.position={my:h.my,at:h.at}).my),this.tooltip=r.tooltip=n("<div/>",{id:this._id,"class":[Y,X,i.style.classes,o.posClass].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===h.target&&h.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":A,"aria-describedby":this._id+"-content","aria-hidden":j}).toggleClass(tt,this.disabled).attr(U,this.id).data(Y,this).appendTo(h.container).append(r.content=n("<div />",{"class":Y+"-content",id:this._id+"-content","aria-atomic":j})),this.rendered=-1,this.positioning=j,a&&(this._createTitle(),n.isFunction(a)||c.push(this._updateTitle(a,A))),l&&this._createButton(),n.isFunction(s)||c.push(this._updateContent(s,A)),this.rendered=j,this._setWidget(),n.each($,function(t){var i;"render"===this.initialize&&(i=this(e))&&(e.plugins[t]=i)}),this._unassignEvents(),this._assignEvents(),this._when(c).then(function(){e._trigger("render"),e.positioning=A,e.hiddenDuringWait||!i.show.ready&&!t||e.toggle(j,o.event,A),e.hiddenDuringWait=A}),C.api[this.id]=this,this},T.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=j;var t,e=this.target,i=e.attr(it);for(t in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,function(){this.destroy&&this.destroy()}),this.timers)clearTimeout(this.timers[t]);e.removeData(Y).removeAttr(U).removeAttr(q).removeAttr("aria-describedby"),this.options.suppress&&i&&e.attr("title",i).removeAttr(it),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=P,delete C.api[this.id]}}return this.destroyed?this.target:(t===j&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",n.proxy(e,this)),!this.triggering&&this.hide()),this.target)},S=T.checks={builtin:{"^id$":function(t,e,i,o){var r=i===j?C.nextid:i,s=Y+"-"+r;r!==A&&r.length>0&&!n("#"+s).length?(this._id=s,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=o},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){if(!i)return this._removeTitle();i&&!this.elements.title&&this._createTitle(),this._updateTitle(i)},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(this.position[e]=t[e]=new M(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(j)||this.toggle(j))},"^style.classes$":function(t,e,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(X,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},T.get=function(t){if(this.destroyed)return this;var e=l(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var ot=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,rt=/^prerender|show\.ready/i;T.set=function(t,e){if(this.destroyed)return this;var i,o=this.rendered,r=A,s=this.options;this.checks;return"string"==typeof t?(i=t,(t={})[i]=e):t=n.extend({},t),n.each(t,function(e,i){if(o&&rt.test(e))delete t[e];else{var a,h=l(s,e.toLowerCase());a=h[0][h[1]],h[0][h[1]]=i&&i.nodeType?n(i):i,r=ot.test(e)||r,t[e]=[h[0],h[1],i,a]}}),a(s),this.positioning=j,n.each(t,n.proxy(h,this)),this.positioning=A,this.rendered&&this.tooltip[0].offsetWidth>0&&r&&this.reposition("mouse"===s.position.target?P:this.cache.event),this},T._update=function(t,e){var i=this,o=this.cache;return this.rendered&&t?(n.isFunction(t)&&(t=t.call(this.elements.target,o.event,this)||""),n.isFunction(t.then)?(o.waiting=j,t.then(function(t){return o.waiting=A,i._update(t,e)},P,function(t){return i._update(t,e)})):t===A||!t&&""!==t?A:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!t.length)}))):A},T._waitForContent=function(t){var e=this.cache;return e.waiting=j,(n.fn.imagesLoaded?t.imagesLoaded():n.Deferred().resolve([])).done(function(){e.waiting=A}).promise()},T._updateContent=function(t,e){this._update(t,this.elements.content,e)},T._updateTitle=function(t,e){this._update(t,this.elements.title,e)===A&&this._removeTitle(A)},T._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=n("<div />",{"class":Y+"-titlebar "+(this.options.style.widget?c("header"):"")}).append(t.title=n("<div />",{id:e,"class":Y+"-title","aria-atomic":j})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){n(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){n(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},T._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=P,t!==A&&this.reposition())},T._createPosClass=function(t){return Y+"-pos-"+(t||this.options.position.my).abbrev()},T.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=j;var r,s,a,l,h=this.cache,c=this.tooltip,d=this.options.position,u=d.target,f=d.my,p=d.at,g=d.viewport,m=d.container,_=d.adjust,v=_.method.split(" "),y=c.outerWidth(A),b=c.outerHeight(A),x=0,w=0,k=c.css("position"),C={left:0,top:0},T=c[0].offsetWidth>0,M=i&&"scroll"===i.type,S=n(t),D=m[0].ownerDocument,P=this.mouse;if(n.isArray(u)&&2===u.length)p={x:N,y:z},C={left:u[0],top:u[1]};else if("mouse"===u)p={x:N,y:z},(!_.mouse||this.options.hide.distance)&&h.origin&&h.origin.pageX?i=h.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=h.event:P&&P.pageX&&(i=P),"static"!==k&&(C=m.offset()),D.body.offsetWidth!==(t.innerWidth||D.documentElement.clientWidth)&&(s=n(e.body).offset()),C={left:i.pageX-C.left+(s&&s.left||0),top:i.pageY-C.top+(s&&s.top||0)},_.mouse&&M&&P&&(C.left-=(P.scrollX||0)-S.scrollLeft(),C.top-=(P.scrollY||0)-S.scrollTop());else{if("event"===u?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?h.target=n(i.target):i.target||(h.target=this.elements.target):"event"!==u&&(h.target=n(u.jquery?u:this.elements.target)),u=h.target,0===(u=n(u).eq(0)).length)return this;u[0]===e||u[0]===t?(x=nt.iOS?t.innerWidth:u.width(),w=nt.iOS?t.innerHeight:u.height(),u[0]===t&&(C={top:(g||u).scrollTop(),left:(g||u).scrollLeft()})):$.imagemap&&u.is("area")?r=$.imagemap(this,u,p,$.viewport?v:A):$.svg&&u&&u[0].ownerSVGElement?r=$.svg(this,u,p,$.viewport?v:A):(x=u.outerWidth(A),w=u.outerHeight(A),C=u.offset()),r&&(x=r.width,w=r.height,s=r.offset,C=r.position),C=this.reposition.offset(u,C,m),(nt.iOS>3.1&&nt.iOS<4.1||nt.iOS>=4.3&&nt.iOS<4.33||!nt.iOS&&"fixed"===k)&&(C.left-=S.scrollLeft(),C.top-=S.scrollTop()),(!r||r&&r.adjustable!==A)&&(C.left+=p.x===R?x:p.x===H?x/2:0,C.top+=p.y===F?w:p.y===H?w/2:0)}return C.left+=_.x+(f.x===R?-y:f.x===H?-y/2:0),C.top+=_.y+(f.y===F?-b:f.y===H?-b/2:0),$.viewport?(a=C.adjusted=$.viewport(this,C,d,x,w,y,b),s&&a.left&&(C.left+=s.left),s&&a.top&&(C.top+=s.top),a.my&&(this.position.my=a.my)):C.adjusted={left:0,top:0},h.posClass!==(l=this._createPosClass(this.position.my))&&c.removeClass(h.posClass).addClass(h.posClass=l),this._trigger("move",[C,g.elem||g],i)?(delete C.adjusted,o===A||!T||isNaN(C.left)||isNaN(C.top)||"mouse"===u||!n.isFunction(d.effect)?c.css(C):n.isFunction(d.effect)&&(d.effect.call(c,this,n.extend({},C)),c.queue(function(t){n(this).css({opacity:"",height:""}),nt.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=A,this):this},T.reposition.offset=function(t,i,o){function r(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!o[0])return i;var s,a,l,h,c=n(t[0].ownerDocument),d=!!nt.ie&&"CSS1Compat"!==e.compatMode,u=o[0];do{"static"!==(a=n.css(u,"position"))&&("fixed"===a?(l=u.getBoundingClientRect(),r(c,-1)):((l=n(u).position()).left+=parseFloat(n.css(u,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(u,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(u,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(u,"marginTop"))||0),s||"hidden"===(h=n.css(u,"overflow"))||"visible"===h||(s=n(u)))}while(u=u.offsetParent);return s&&(s[0]!==c[0]||d)&&r(s,1),i};var st=(M=T.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,H).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?I:E}).prototype;st.invert=function(t,e){this[t]=this[t]===N?R:this[t]===R?N:e||this[t]},st.string=function(t){var e=this.x,i=this.y,n=e!==i?"center"===e||"center"!==i&&(this.precedance===I||this.forceY)?[i,e]:[e,i]:[e];return!1!==t?n.join(" "):n},st.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},st.clone=function(){return new M(this.string(),this.forceY)},T.toggle=function(t,i){var o=this.cache,r=this.options,s=this.tooltip;if(i){if(/over|enter/.test(i.type)&&o.event&&/out|leave/.test(o.event.type)&&r.show.target.add(i.target).length===r.show.target.length&&s.has(i.relatedTarget).length)return this;o.event=n.event.fix(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=j),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,l,h,c=t?"show":"hide",d=this.options[c],u=(this.options[t?"hide":"show"],this.options.position),f=this.options.content,p=this.tooltip.css("width"),g=this.tooltip.is(":visible"),m=t||1===d.target.length,_=!i||d.target.length<2||o.target[0]===i.target;return(typeof t).search("boolean|number")&&(t=!g),l=(a=!s.is(":animated")&&g===t&&_)?P:!!this._trigger(c,[90]),this.destroyed?this:(l!==A&&t&&this.focus(i),!l||a?this:(n.attr(s[0],"aria-hidden",!t),t?(this.mouse&&(o.origin=n.event.fix(this.mouse)),n.isFunction(f.text)&&this._updateContent(f.text,A),n.isFunction(f.title)&&this._updateTitle(f.title,A),!D&&"mouse"===u.target&&u.adjust.mouse&&(n(e).bind("mousemove."+Y,this._storeMouse),D=j),p||s.css("width",s.outerWidth(A)),this.reposition(i,arguments[2]),p||s.css("width",""),d.solo&&("string"==typeof d.solo?n(d.solo):n(Z,d.solo)).not(s).not(d.target).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,D&&!n(Z+'[tracking="true"]:visible',d.solo).not(s).length&&(n(e).unbind("mousemove."+Y),D=A),this.blur(i)),h=n.proxy(function(){t?(nt.ie&&s[0].style.removeAttribute("filter"),s.css("overflow",""),"string"==typeof d.autofocus&&n(this.options.show.autofocus,s).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):s.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),d.effect===A||m===A?(s[c](),h()):n.isFunction(d.effect)?(s.stop(1,1),d.effect.call(s,this),s.queue("fx",function(t){h(),t()})):s.fadeTo(90,t?1:0,h),t&&d.target.trigger("qtip-"+this.id+"-inactive"),this))},T.show=function(t){return this.toggle(j,t)},T.hide=function(t){return this.toggle(A,t)},T.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=n(Z),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),r=C.zindex+e.length;return i.hasClass(J)||this._trigger("focus",[r],t)&&(o!==r&&(e.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+J).qtip("blur",t)),i.addClass(J)[0].style.zIndex=r),this},T.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(J),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},T.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(tt):this.disabled):"boolean"!=typeof t&&(t=j),this.rendered&&this.tooltip.toggleClass(tt,t).attr("aria-disabled",t),this.disabled=!!t,this)},T.enable=function(){return this.disable(A)},T._createButton=function(){var t=this,e=this.elements,i=e.tooltip,o=this.options.content.button,r="string"==typeof o?o:"Close tooltip";e.button&&e.button.remove(),o.jquery?e.button=o:e.button=n("<a />",{"class":"qtip-close "+(this.options.style.widget?"":Y+"-icon"),title:r,"aria-label":r}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(tt)||t.hide(e),A})},T._updateButton=function(t){if(!this.rendered)return A;var e=this.elements.button;t?this._createButton():e.remove()},T._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,n=i.hasClass(tt);i.removeClass(tt),tt=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(tt,n),i.toggleClass("ui-helper-reset "+c(),t).toggleClass(X,this.options.style.def&&!t),e.content&&e.content.toggleClass(c("content"),t),e.titlebar&&e.titlebar.toggleClass(c("header"),t),e.button&&e.button.toggleClass(Y+"-icon",!t)},T._storeMouse=function(t){return(this.mouse=n.event.fix(t)).type="mousemove",this},T._bind=function(t,e,i,o,r){if(t&&i&&e.length){var s="."+this._id+(o?"-"+o:"");return n(t).bind((e.split?e:e.join(s+" "))+s,n.proxy(i,r||this)),this}},T._unbind=function(t,e){return t&&n(t).unbind("."+this._id+(e?"-"+e:"")),this},T._trigger=function(t,e,i){var o=n.Event("tooltip"+t);return o.originalEvent=i&&n.extend({},i)||this.cache.event||P,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=A,!o.isDefaultPrevented()},T._bindEvents=function(t,e,i,o,r,s){var a=i.filter(o).add(o.filter(i)),l=[];a.length&&(n.each(e,function(e,i){var o=n.inArray(i,t);o>-1&&l.push(t.splice(o,1)[0])}),l.length&&(this._bind(a,l,function(t){(!!this.rendered&&this.tooltip[0].offsetWidth>0?s:r).call(this,t)}),i=i.not(a),o=o.not(a))),this._bind(i,t,r),this._bind(o,e,s)},T._assignInitialEvents=function(t){function e(t){if(this.disabled||this.destroyed)return A;this.cache.event=t&&n.event.fix(t),this.cache.target=t&&n(t.target),clearTimeout(this.timers.show),this.timers.show=d.call(this,function(){this.render("object"==typeof t||i.show.ready)},i.prerender?0:i.show.delay)}var i=this.options,o=i.show.target,r=i.hide.target,s=i.show.event?n.trim(""+i.show.event).split(" "):[],a=i.hide.event?n.trim(""+i.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&a.push("mouseleave"),this._bind(o,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=j}),this._bindEvents(s,a,o,r,e,function(){if(!this.timers)return A;clearTimeout(this.timers.show)}),(i.show.ready||i.prerender)&&e.call(this,t)},T._assignEvents=function(){var i=this,o=this.options,r=o.position,s=this.tooltip,a=o.show.target,l=o.hide.target,h=r.container,c=r.viewport,d=n(e),m=(n(e.body),n(t)),_=o.show.event?n.trim(""+o.show.event).split(" "):[],v=o.hide.event?n.trim(""+o.hide.event).split(" "):[];n.each(o.events,function(t,e){i._bind(s,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,s)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(d,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),o.hide.fixed?l=l.add(s.addClass(G)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&this._bind(h.closest("html"),["mousedown","touchstart"],function(t){var e=n(t.target),i=this.rendered&&!this.tooltip.hasClass(tt)&&this.tooltip[0].offsetWidth>0,o=e.parents(Z).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof o.hide.inactive&&(this._bind(a,"qtip-"+this.id+"-inactive",p,"inactive"),this._bind(l.add(s),C.inactiveEvents,p)),this._bindEvents(_,v,a,l,u,f),this._bind(a.add(s),"mousemove",function(t){if("number"==typeof o.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=i||n(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===r.target&&r.adjust.mouse&&(o.hide.event&&this._bind(a,["mouseenter","mouseleave"],function(t){if(!this.cache)return A;this.cache.onTarget="mouseenter"===t.type}),this._bind(d,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(tt)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(r.adjust.resize||c.length)&&this._bind(n.event.special.resize?c:m,"resize",g),r.adjust.scroll&&this._bind(m.add(r.container),"scroll",g)},T._unassignEvents=function(){var i=this.options,o=i.show.target,r=i.hide.target,s=n.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],t,e],function(t){return"object"==typeof t});o&&o.toArray&&(s=s.concat(o.toArray())),r&&r.toArray&&(s=s.concat(r.toArray())),this._unbind(s)._unbind(s,"destroy")._unbind(s,"inactive")},n(function(){m(Z,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=n(t.currentTarget),o=n(t.relatedTarget||t.target),r=this.options;e?(this.focus(t),i.hasClass(G)&&!i.hasClass(tt)&&clearTimeout(this.timers.hide)):"mouse"===r.position.target&&r.position.adjust.mouse&&r.hide.event&&r.show.target&&!o.closest(r.show.target[0]).length&&this.hide(t),i.toggleClass(Q,e)}),m("["+U+"]",K,p)}),C=n.fn.qtip=function(t,e,o){var r=(""+t).toLowerCase(),s=P,l=n.makeArray(arguments).slice(1),h=l[l.length-1],c=this[0]?n.data(this[0],Y):P;return!arguments.length&&c||"api"===r?c:"string"==typeof t?(this.each(function(){var t=n.data(this,Y);if(!t)return j;if(h&&h.timeStamp&&(t.cache.event=h),!e||"option"!==r&&"options"!==r)t[r]&&t[r].apply(t,l);else{if(o===i&&!n.isPlainObject(e))return s=t.get(e),A;t.set(e,o)}}),s!==P?s:this):"object"!=typeof t&&arguments.length?void 0:(c=a(n.extend(j,{},t)),this.each(function(t){var e,i;if(i=!(i=n.isArray(c.id)?c.id[t]:c.id)||i===A||i.length<1||C.api[i]?C.nextid++:i,(e=_(n(this),i,c))===A)return j;C.api[i]=e,n.each($,function(){"initialize"===this.initialize&&this(e)}),e._assignInitialEvents(h)}))},n.qtip=o,C.api={},n.each({attr:function(t,e){if(this.length){var i=this[0],o="title",r=n.data(i,"qtip");if(t===o&&r&&"object"==typeof r&&r.options.suppress)return arguments.length<2?n.attr(i,it):(r&&r.options.content.attr===o&&r.cache.attr&&r.set("content.text",e),this.attr(it,e))}return n.fn["attr"+et].apply(this,arguments)},clone:function(t){n([]);var e=n.fn["clone"+et].apply(this,arguments);return t||e.filter("["+it+"]").attr("title",function(){return n.attr(this,it)}).removeAttr(it),e}},function(t,e){if(!e||n.fn[t+et])return j;var i=n.fn[t+et]=n.fn[t];n.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+et]=n.cleanData,n.cleanData=function(t){for(var e,i=0;(e=n(t[i])).length;i++)if(e.attr(q))try{e.triggerHandler("removeqtip")}catch(o){}n["cleanData"+et].apply(this,arguments)}),C.version="2.2.1",C.nextid=0,C.inactiveEvents=K,C.zindex=15e3,C.defaults={prerender:A,id:A,overwrite:j,suppress:j,content:{text:j,attr:"title",title:A,button:A},position:{my:"top left",at:"bottom right",target:A,container:A,viewport:A,adjust:{x:0,y:0,mouse:j,scroll:j,resize:j,method:"flipinvert flipinvert"},effect:function(t,e){n(this).animate(e,{duration:200,queue:A})}},show:{target:A,event:"mouseenter",effect:j,delay:90,solo:A,ready:A,autofocus:A},hide:{target:A,event:"mouseleave",effect:j,delay:0,fixed:A,inactive:A,leave:"window",distance:A},style:{classes:"",widget:A,width:A,height:A,def:j},events:{render:P,move:P,show:P,hide:P,toggle:P,visible:P,hidden:P,focus:P,blur:P}};var at,lt,ht="margin",ct="border",dt="color",ut="background-color",ft="transparent",pt=" !important",gt=!!e.createElement("canvas").getContext,mt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,_t={},vt=["Webkit","O","Moz","ms"];if(gt)var yt=(t.devicePixelRatio||1)/((lt=e.createElement("canvas").getContext("2d")).backingStorePixelRatio||lt.webkitBackingStorePixelRatio||lt.mozBackingStorePixelRatio||lt.msBackingStorePixelRatio||lt.oBackingStorePixelRatio||1);else var bt=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};n.extend(x.prototype,{init:function(t){var e,i;i=this.element=t.elements.tip=n("<div />",{"class":Y+"-tip"}).prependTo(t.tooltip),gt?((e=n("<canvas />").appendTo(this.element)[0].getContext("2d")).lineJoin="miter",e.miterLimit=1e5,e.save()):(e=bt("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind(n("*",i).add(i),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===z||t.y===H&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(j))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===A||e===A?t=A:t===j?t=new M(e.string()):t.string||((t=new M(t)).fixed=j),t},_parseWidth:function(t,e,i){var n=this.qtip.elements,o=ct+v(e)+"Width";return(i?b(i,o):b(n.content,o)||b(this._useTitle(t)&&n.titlebar||n.content,o)||b(n.tooltip,o))||0},_parseRadius:function(t){var e=this.qtip.elements,i=ct+v(t.y)+v(t.x)+"Radius";return nt.ie<9?0:b(this._useTitle(t)&&e.titlebar||e.content,i)||b(e.tooltip,i)||0},_invalidColour:function(t,e,i){var n=t.css(e);return!n||i&&n===t.css(i)||mt.test(n)?A:n},_parseColours:function(t){var e=this.qtip.elements,i=this.element.css("cssText",""),o=ct+v(t[t.precedance])+v(dt),r=this._useTitle(t)&&e.titlebar||e.content,s=this._invalidColour,a=[];return a[0]=s(i,ut)||s(r,ut)||s(e.content,ut)||s(e.tooltip,ut)||i.css(ut),a[1]=s(i,o,dt)||s(r,o,dt)||s(e.content,o,dt)||s(e.tooltip,o,dt)||e.tooltip.css(o),n("*",i).add(i).css("cssText",ut+":"+ft+pt+";"+ct+":0"+pt+";"),a},_calculateSize:function(t){var e,i,n=t.precedance===I,o=this.options.width,r=this.options.height,s="c"===t.abbrev(),a=(n?o:r)*(s?.5:1),l=Math.pow,h=Math.round,c=Math.sqrt(l(a,2)+l(r,2)),d=[this.border/a*c,this.border/r*c];return d[2]=Math.sqrt(l(d[0],2)-l(this.border,2)),d[3]=Math.sqrt(l(d[1],2)-l(this.border,2)),i=[h((e=(c+d[2]+d[3]+(s?0:d[0]))/c)*o),h(e*r)],n?i:i.reverse()},_calculateTip:function(t,e,i){i=i||1;var n=(e=e||this.size)[0]*i,o=e[1]*i,r=Math.ceil(n/2),s=Math.ceil(o/2),a={br:[0,0,n,o,n,0],bl:[0,0,n,0,0,o],tr:[0,o,n,0,n,o],tl:[0,0,0,o,n,o],tc:[0,o,r,0,n,o],bc:[0,0,n,0,r,o],rc:[0,0,n,s,0,o],lc:[n,0,n,o,0,s]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(gt||nt.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var o,r,s,a,l,h,c,d,u=this.qtip.elements,f=this.element,p=f.children(),g=this.options,m=this.size,_=g.mimic,v=Math.round;e||(e=this.qtip.cache.corner||this.corner),_===A?_=e:((_=new M(_)).precedance=e.precedance,"inherit"===_.x?_.x=e.x:"inherit"===_.y?_.y=e.y:_.x===_.y&&(_[e.precedance]=e[e.precedance])),r=_.precedance,e.precedance===E?this._swapDimensions():this._resetDimensions(),(o=this.color=this._parseColours(e))[1]!==ft?(d=this.border=this._parseWidth(e,e[e.precedance]),g.border&&d<1&&!mt.test(o[1])&&(o[0]=o[1]),this.border=d=g.border!==j?g.border:d):this.border=d=0,c=this.size=this._calculateSize(e),f.css({width:c[0],height:c[1],lineHeight:c[1]+"px"}),h=e.precedance===I?[v(_.x===N?d:_.x===R?c[0]-m[0]-d:(c[0]-m[0])/2),v(_.y===z?c[1]-m[1]:0)]:[v(_.x===N?c[0]-m[0]:0),v(_.y===z?d:_.y===F?c[1]-m[1]-d:(c[1]-m[1])/2)],gt?((s=p[0].getContext("2d")).restore(),s.save(),s.clearRect(0,0,6e3,6e3),a=this._calculateTip(_,m,yt),l=this._calculateTip(_,this.size,yt),p.attr(L,c[0]*yt).attr(O,c[1]*yt),p.css(L,c[0]).css(O,c[1]),this._drawCoords(s,l),s.fillStyle=o[1],s.fill(),s.translate(h[0]*yt,h[1]*yt),this._drawCoords(s,a),s.fillStyle=o[0],s.fill()):(a="m"+(a=this._calculateTip(_))[0]+","+a[1]+" l"+a[2]+","+a[3]+" "+a[4]+","+a[5]+" xe",h[2]=d&&/^(r|b)/i.test(e.string())?8===nt.ie?2:1:0,p.css({coordsize:c[0]+d+" "+(c[1]+d),antialias:""+(_.string().indexOf(H)>-1),left:h[0]-h[2]*Number(r===E),top:h[1]-h[2]*Number(r===I),width:c[0]+d,height:c[1]+d}).each(function(t){var e=n(this);e[e.prop?"prop":"attr"]({coordsize:c[0]+d+" "+(c[1]+d),path:a,fillcolor:o[0],filled:!!t,stroked:!t}).toggle(!(!d&&!t)),!t&&e.html(bt("stroke",'weight="'+2*d+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){u.tip.css({display:"inline-block",visibility:"visible"})},1),i!==A&&this.calculate(e,c)},calculate:function(t,e){if(!this.enabled)return A;var i,o,r=this,s=this.qtip.elements,a=this.element,l=this.options.offset,h=(s.tooltip.hasClass("ui-widget"),{});return t=t||this.corner,i=t.precedance,e=e||this._calculateSize(t),o=[t.x,t.y],i===E&&o.reverse(),n.each(o,function(n,o){var a,c,d;o===H?(h[a=i===I?N:z]="50%",h[ht+"-"+a]=-Math.round(e[i===I?0:1]/2)+l):(a=r._parseWidth(t,o,s.tooltip),c=r._parseWidth(t,o,s.content),d=r._parseRadius(t),h[o]=Math.max(-r.border,n?c:l+(d>a?d:-a)))}),h[t[i]]-=e[i===E?0:1],a.css({margin:"",top:"",bottom:"",left:"",right:""}).css(h),h},reposition:function(t,e,n){function o(t,e,i,n,o){t===W&&h.precedance===e&&c[n]&&h[i]!==H?h.precedance=h.precedance===E?I:E:t!==W&&c[n]&&(h[e]=h[e]===H?c[n]>0?n:o:h[e]===n?o:n)}function r(t,e,o){h[t]===H?g[ht+"-"+e]=p[t]=s[ht+"-"+e]-c[e]:(a=s[o]!==i?[c[e],-s[e]]:[-c[e],s[e]],(p[t]=Math.max(a[0],a[1]))>a[0]&&(n[e]-=c[e],p[e]=A),g[s[o]!==i?o:e]=p[t])}if(this.enabled){
var s,a,l=e.cache,h=this.corner.clone(),c=n.adjusted,d=e.options.position.adjust.method.split(" "),u=d[0],f=d[1]||d[0],p={left:A,top:A,x:0,y:0},g={};this.corner.fixed!==j&&(o(u,E,I,N,R),o(f,I,E,z,F),h.string()===l.corner.string()&&l.cornerTop===c.top&&l.cornerLeft===c.left||this.update(h,A)),(s=this.calculate(h)).right!==i&&(s.left=-s.right),s.bottom!==i&&(s.top=-s.bottom),s.user=this.offset,(p.left=u===W&&!!c.left)&&r(E,N,R),(p.top=f===W&&!!c.top)&&r(I,z,F),this.element.css(g).toggle(!(p.x&&p.y||h.x===H&&p.y||h.y===H&&p.x)),n.left-=s.left.charAt?s.user:u!==W||p.top||!p.left&&!p.top?s.left+this.border:0,n.top-=s.top.charAt?s.user:f!==W||p.left||!p.left&&!p.top?s.top+this.border:0,l.cornerLeft=c.left,l.cornerTop=c.top,l.corner=h.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),(at=$.tip=function(t){return new x(t,t.options.style.tip)}).initialize="render",at.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=j)}},S.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},n.extend(j,C.defaults,{style:{tip:{corner:j,mimic:A,width:6,height:6,border:j,offset:0}}}),$.viewport=function(i,n,o,r,s,a,l){function h(t,e,i,o,r,s,a,l,h){var c=n[r],v=b[t],y=x[t],w=i===W,k=v===r?h:v===s?-h:-h/2,C=y===r?l:y===s?-l:-l/2,T=m[r]+_[r]-(f?0:u[r]),M=T-c,S=c+h-(a===L?p:g)-T,D=k-(b.precedance===t||v===b[e]?C:0)-(y===H?l/2:0);return w?(D=(v===r?1:-1)*k,n[r]+=M>0?M:S>0?-S:0,n[r]=Math.max(-u[r]+_[r],c-D,Math.min(Math.max(-u[r]+_[r]+(a===L?p:g),c+D),n[r],"center"===v?c-k:1e9))):(o*=i===B?2:0,M>0&&(v!==r||S>0)?(n[r]-=D+o,d.invert(t,r)):S>0&&(v!==s||M>0)&&(n[r]-=(v===H?-D:D)+o,d.invert(t,s)),n[r]<m&&-n[r]>S&&(n[r]=c,d=b.clone())),n[r]-c}var c,d,u,f,p,g,m,_,v=o.target,y=i.elements.tooltip,b=o.my,x=o.at,w=o.adjust,k=w.method.split(" "),C=k[0],T=k[1]||k[0],M=o.viewport,S=o.container,D=(i.cache,{left:0,top:0});return M.jquery&&v[0]!==t&&v[0]!==e.body&&"none"!==w.method?(u=S.offset()||D,f="static"===S.css("position"),c="fixed"===y.css("position"),p=M[0]===t?M.width():M.outerWidth(A),g=M[0]===t?M.height():M.outerHeight(A),m={left:c?0:M.scrollLeft(),top:c?0:M.scrollTop()},_=M.offset()||D,"shift"===C&&"shift"===T||(d=b.clone()),D={left:"none"!==C?h(E,I,C,w.x,N,R,L,r,a):0,top:"none"!==T?h(I,E,T,w.y,z,F,O,s,l):0,my:d}):D},$.polys={polygon:function(t,e){var i,n,o,r={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:A},s=0,a=[],l=1,h=1,c=0,d=0;for(s=t.length;s--;)(i=[parseInt(t[--s],10),parseInt(t[s+1],10)])[0]>r.position.right&&(r.position.right=i[0]),i[0]<r.position.left&&(r.position.left=i[0]),i[1]>r.position.bottom&&(r.position.bottom=i[1]),i[1]<r.position.top&&(r.position.top=i[1]),a.push(i);if(n=r.width=Math.abs(r.position.right-r.position.left),o=r.height=Math.abs(r.position.bottom-r.position.top),"c"===e.abbrev())r.position={left:r.position.left+r.width/2,top:r.position.top+r.height/2};else{for(;n>0&&o>0&&l>0&&h>0;)for(n=Math.floor(n/2),o=Math.floor(o/2),e.x===N?l=n:e.x===R?l=r.width-n:l+=Math.floor(n/2),e.y===z?h=o:e.y===F?h=r.height-o:h+=Math.floor(o/2),s=a.length;s--&&!(a.length<2);)c=a[s][0]-r.position.left,d=a[s][1]-r.position.top,(e.x===N&&c>=l||e.x===R&&c<=l||e.x===H&&(c<l||c>r.width-l)||e.y===z&&d>=h||e.y===F&&d<=h||e.y===H&&(d<h||d>r.height-h))&&a.splice(s,1);r.position={left:a[0][0],top:a[0][1]}}return r},rect:function(t,e,i,n){return{width:Math.abs(i-t),height:Math.abs(n-e),position:{left:Math.min(t,i),top:Math.min(e,n)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,n,o){var r=$.polys._angles[o.abbrev()],s=0===r?0:i*Math.cos(r*Math.PI),a=n*Math.sin(r*Math.PI);return{width:2*i-Math.abs(s),height:2*n-Math.abs(a),position:{left:t+s,top:e+a},adjustable:A}},circle:function(t,e,i,n){return $.polys.ellipse(t,e,i,i,n)}},$.imagemap=function(t,e,i){e.jquery||(e=n(e));var o,r,s,a,l,h=(e.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),c=n('img[usemap="#'+e.parent("map").attr("name")+'"]'),d=n.trim(e.attr("coords")).replace(/,$/,"").split(",");if(!c.length)return A;if("polygon"===h)a=$.polys.polygon(d,i);else{if(!$.polys[h])return A;for(s=-1,l=d.length,r=[];++s<l;)r.push(parseInt(d[s],10));a=$.polys[h].apply(this,r.concat(i))}return(o=c.offset()).left+=Math.ceil((c.outerWidth(A)-c.width())/2),o.top+=Math.ceil((c.outerHeight(A)-c.height())/2),a.position.left+=o.left,a.position.top+=o.top,a},$.svg=function(t,i,o){n(e);for(var r,s,a,l,h,c,d,u,f,p=i[0],g=n(p.ownerSVGElement),m=p.ownerDocument,_=(parseInt(i.css("stroke-width"),10)||0)/2;!p.getBBox;)p=p.parentNode;if(!p.getBBox||!p.parentNode)return A;switch(p.nodeName){case"ellipse":case"circle":u=$.polys.ellipse(p.cx.baseVal.value,p.cy.baseVal.value,(p.rx||p.r).baseVal.value+_,(p.ry||p.r).baseVal.value+_,o);break;case"line":case"polygon":case"polyline":for(u=[],c=-1,l=(d=p.points||[{x:p.x1.baseVal.value,y:p.y1.baseVal.value},{x:p.x2.baseVal.value,y:p.y2.baseVal.value}]).numberOfItems||d.length;++c<l;)h=d.getItem?d.getItem(c):d[c],u.push.apply(u,[h.x,h.y]);u=$.polys.polygon(u,o);break;default:u={width:(u=p.getBBox()).width,height:u.height,position:{left:u.x,top:u.y}}}return f=u.position,(g=g[0]).createSVGPoint&&(s=p.getScreenCTM(),(d=g.createSVGPoint()).x=f.left,d.y=f.top,a=d.matrixTransform(s),f.left=a.x,f.top=a.y),m!==e&&"mouse"!==t.position.target&&(r=n((m.defaultView||m.parentWindow).frameElement).offset())&&(f.left+=r.left,f.top+=r.top),m=n(m),f.left+=m.scrollLeft(),f.top+=m.scrollTop(),u};var xt,wt,kt="qtip-modal",Ct="."+kt;wt=new(wt=function(){function t(t){if(n.expr[":"].focusable)return n.expr[":"].focusable;var e,i,o,r=!isNaN(n.attr(t,"tabindex")),s=t.nodeName&&t.nodeName.toLowerCase();return"area"===s?(i=(e=t.parentNode).name,!(!t.href||!i||"map"!==e.nodeName.toLowerCase())&&(!!(o=n("img[usemap=#"+i+"]")[0])&&o.is(":visible"))):/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||r}function i(t){h.length<1&&t.length?t.not("body").blur():h.first().focus()}function o(t){if(a.is(":visible")){var e=n(t.target),o=r.tooltip,s=e.closest(Z);(s.length<1?A:parseInt(s[0].style.zIndex,10)>parseInt(o[0].style.zIndex,10))||e.closest(Z)[0]===o[0]||i(e),t.target===h[h.length-1]}}var r,s,a,l=this,h={};n.extend(l,{init:function(){return a=l.elem=n("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return A}}).hide(),n(e.body).bind("focusin"+Ct,o),n(e).bind("keydown"+Ct,function(t){r&&r.options.show.modal.escape&&27===t.keyCode&&r.hide(t)}),a.bind("click"+Ct,function(t){r&&r.options.show.modal.blur&&r.hide(t)}),l},update:function(e){r=e,h=e.options.show.modal.stealfocus!==A?e.tooltip.find("*").filter(function(){return t(this)}):[]},toggle:function(t,o,h){n(e.body);var c=t.tooltip,d=t.options.show.modal,u=d.effect,f=o?"show":"hide",p=a.is(":visible"),g=n(Ct).filter(":visible:not(:animated)").not(c);return l.update(t),o&&d.stealfocus!==A&&i(n(":focus")),a.toggleClass("blurs",d.blur),o&&a.appendTo(e.body),a.is(":animated")&&p===o&&s!==A||!o&&g.length?l:(a.stop(j,A),n.isFunction(u)?u.call(a,o):u===A?a[f]():a.fadeTo(parseInt(h,10)||90,o?1:0,function(){o||a.hide()}),o||a.queue(function(t){a.css({left:"",top:""}),n(Ct).length||a.detach(),t()}),s=o,r.destroyed&&(r=P),l)}}),l.init()}),n.extend(w.prototype,{init:function(t){var e=t.tooltip;if(!this.options.on)return this;t.elements.overlay=wt.elem,e.addClass(kt).css("z-index",C.modal_zindex+n(Ct).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,i,o){var r=t.originalEvent;if(t.target===e[0])if(r&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(r.type)&&n(r.relatedTarget).closest(wt.elem[0]).length)try{t.preventDefault()}catch(s){}else(!r||r&&"tooltipsolo"!==r.type)&&this.toggle(t,"tooltipshow"===t.type,o)},this._ns,this),t._bind(e,"tooltipfocus",function(t,i){if(!t.isDefaultPrevented()&&t.target===e[0]){var o=n(Ct),r=C.modal_zindex+o.length,s=parseInt(e[0].style.zIndex,10);wt.elem[0].style.zIndex=r-1,o.each(function(){this.style.zIndex>s&&(this.style.zIndex-=1)}),o.filter("."+J).qtip("blur",t.originalEvent),e.addClass(J)[0].style.zIndex=r,wt.update(i);try{t.preventDefault()}catch(a){}}},this._ns,this),t._bind(e,"tooltiphide",function(t){t.target===e[0]&&n(Ct).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this)},toggle:function(t,e,i){if(t&&t.isDefaultPrevented())return this;wt.toggle(this.qtip,!!e,i)},destroy:function(){this.qtip.tooltip.removeClass(kt),this.qtip._unbind(this.qtip.tooltip,this._ns),wt.toggle(this.qtip,A),delete this.qtip.elements.overlay}}),(xt=$.modal=function(t){return new w(t,t.options.show.modal)}).sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:"undefined"==typeof t.show.modal.on&&(t.show.modal.on=j))},C.modal_zindex=C.zindex-200,xt.initialize="render",S.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},n.extend(j,C.defaults,{show:{modal:{on:A,effect:j,blur:j,stealfocus:j,escape:j}}});var Tt='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';n.extend(k.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=n(t).scrollTop()+"px")},init:function(i){var o=i.tooltip;n("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=n(Tt).appendTo(o),i._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=n("<div/>",{id:Y+"-rcontainer"}).appendTo(e.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(t,["scroll","resize"],this._scroll,this._ns,this),i._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,i=this.qtip.tooltip,n={height:i.outerHeight(A),width:i.outerWidth(A)},o=this.qtip.plugins.tip,r=this.qtip.elements.tip;e={left:-(e=parseInt(i.css("borderLeftWidth"),10)||0),top:-e},o&&r&&(e[(t="x"===o.corner.precedance?[L,N]:[O,z])[1]]-=r[t[0]]()),this.bgiframe.css(e).css(n)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,i,n,o=this.qtip.tooltip,r=this.qtip.options.style,s=this.qtip.options.position.container;return this.qtip.drawing=1,r.height&&o.css(O,r.height),r.width?o.css(L,r.width):(o.css(L,"").appendTo(this.redrawContainer),(e=o.width())%2<1&&(e+=1),t=((i=o.css("maxWidth")||"")+(n=o.css("minWidth")||"")).indexOf("%")>-1?s.width()/100:0,e=(i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||e)+(n=(n.indexOf("%")>-1?t:1)*parseInt(n,10)||0)?Math.min(Math.max(e,n),i):e,o.css(L,Math.round(e)).appendTo(s)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),($.ie6=function(t){return 6===nt.ie?new k(t):A}).initialize="render",S.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),function(t){t(document).ready(function(){var e="undefined"==typeof t.browser||!t.browser.opera||0!=t.browser.version.indexOf("12.");t("body").delegate(".tissTooltip","mouseenter",function(i){if(t(this).qtip("api"))return t(this).qtip("toggle",!0);t(this).qtip({overwrite:!1,content:{text:t(this).find(".content")},position:{at:"top center",my:"bottom center",adjust:{y:-3},viewport:function(){var e=t(this).closest(".ui-dialog");return e.length?e:(e=t(this).closest("#contentInner")).length?e:(e=t(this).closest("#content")).length?e:t(window)}(),target:t(this).find(".trigger")},show:{delay:200,effect:function(){t(this).fadeIn(150)},event:i.type,ready:!0,solo:!0},hide:{fixed:!0,delay:200,effect:function(){t(this).fadeOut(350)}},style:{def:!1,classes:"ui-tooltip-tiss ui-rtiss-tooltip-qtip",tip:{corner:e}}},i),t(this).find(".trigger").removeAttr("title")})})}(jQuery),
/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
function(t){function e(e){if("string"==typeof e.data){var i=e.handler,n=e.data.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var o="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],r=String.fromCharCode(e.which).toLowerCase(),s="",a={};e.altKey&&"alt"!==o&&(s+="alt+"),e.ctrlKey&&"ctrl"!==o&&(s+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==o&&(s+="meta+"),e.shiftKey&&"shift"!==o&&(s+="shift+"),o?a[s+o]=!0:(a[s+r]=!0,a[s+t.hotkeys.shiftNums[r]]=!0,"shift+"===s&&(a[t.hotkeys.shiftNums[r]]=!0));for(var l=0,h=n.length;l<h;l++)if(a[n[l]])return i.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return i===undefined&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var i,n,o;return e&&e.requirejs||(e?n=e:e={},function(t){function e(t,e){return x.call(t,e)}function r(t,e){var i,n,o,r,s,a,l,h,c,d,u,f=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t){for(s=(t=t.split("/")).length-1,y.nodeIdCompat&&k.test(t[s])&&(t[s]=t[s].replace(k,"")),"."===t[0].charAt(0)&&f&&(t=f.slice(0,f.length-1).concat(t)),c=0;c<t.length;c++)if("."===(u=t[c]))t.splice(c,1),c-=1;else if(".."===u){if(0===c||1===c&&".."===t[2]||".."===t[c-1])continue;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}if((f||g)&&p){for(c=(i=t.split("/")).length;c>0;c-=1){if(n=i.slice(0,c).join("/"),f)for(d=f.length;d>0;d-=1)if((o=p[f.slice(0,d).join("/")])&&(o=o[n])){r=o,a=c;break}if(r)break;!l&&g&&g[n]&&(l=g[n],h=c)}!r&&l&&(r=l,a=h),r&&(i.splice(0,a,r),t=i.join("/"))}return t}function s(e,i){return function(){var n=w.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(t,n.concat([e,i]))}}function a(t){return function(e){return r(e,t)}}function l(t){return function(e){_[t]=e}}function h(i){if(e(v,i)){var n=v[i];delete v[i],b[i]=!0,f.apply(t,n)}if(!e(_,i)&&!e(b,i))throw new Error("No "+i);return _[i]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function d(t){return t?c(t):[]}function u(t){return function(){return y&&y.config&&y.config[t]||{}}}var f,p,g,m,_={},v={},y={},b={},x=Object.prototype.hasOwnProperty,w=[].slice,k=/\.js$/;g=function(t,e){var i,n=c(t),o=n[0],s=e[1];return t=n[1],o&&(i=h(o=r(o,s))),o?t=i&&i.normalize?i.normalize(t,a(s)):r(t,s):(o=(n=c(t=r(t,s)))[0],t=n[1],o&&(i=h(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},m={require:function(t){return s(t)},exports:function(t){var e=_[t];return void 0!==e?e:_[t]={}},module:function(t){return{id:t,uri:"",exports:_[t],config:u(t)}}},f=function(i,n,o,r){var a,c,u,f,p,y,x,w=[],k=typeof o;if(y=d(r=r||i),"undefined"===k||"function"===k){for(n=!n.length&&o.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if("require"===(c=(f=g(n[p],y)).f))w[p]=m.require(i);else if("exports"===c)w[p]=m.exports(i),x=!0;else if("module"===c)a=w[p]=m.module(i);else if(e(_,c)||e(v,c)||e(b,c))w[p]=h(c);else{if(!f.p)throw new Error(i+" missing "+c);f.p.load(f.n,s(r,!0),l(c),{}),w[p]=_[c]}u=o?o.apply(_[i],w):undefined,i&&(a&&a.exports!==t&&a.exports!==_[i]?_[i]=a.exports:u===t&&x||(_[i]=u))}else i&&(_[i]=o)},i=n=p=function(e,i,n,o,r){if("string"==typeof e)return m[e]?m[e](i):h(g(e,d(i)).f);if(!e.splice){if((y=e).deps&&p(y.deps,y.callback),!i)return;i.splice?(e=i,i=n,n=null):e=t}return i=i||function(){},"function"==typeof n&&(n=o,o=r),o?f(t,e,i,n):setTimeout(function(){f(t,e,i,n)},4),p},p.config=function(t){return p(t)},i._defined=_,(o=function(t,i,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");i.splice||(n=i,i=[]),e(_,t)||e(v,t)||(v[t]=[t,i,n])}).amd={jQuery:!0}}(),e.requirejs=i,e.require=n,e.define=o),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){"function"==typeof e[n]&&("constructor"!==n&&i.push(n))}return i}var i={Extend:function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},Decorate:function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,o=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),o=i.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=n}var r=e(i),s=e(t);i.displayName=t.displayName,n.prototype=new o;for(var a=0;a<s.length;a++){var l=s[a];n.prototype[l]=t.prototype[l]}for(var h=function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var o=i.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),o.apply(this,arguments)}},c=0;c<r.length;c++){var d=r[c];n.prototype[d]=h(d)}return n}},n=function(){this.listeners={}};n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;i<t;i++){e+=Math.floor(36*Math.random()).toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var o=0;o<i.length;o++){var r=i[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in n||(n[r]={}),o==i.length-1&&(n[r]=t[e]),n=n[r]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),o=i.style.overflowX,r=i.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i.__cache={};var o=0;return i.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++o),e=o.toString())),e},i.StoreData=function(t,e,n){var o=i.GetUniqueElementId(t);i.__cache[o]||(i.__cache[o]={}),i.__cache[o][e]=n},i.GetData=function(e,n){var o=i.GetUniqueElementId(e);return n?i.__cache[o]&&null!=i.__cache[o][n]?i.__cache[o][n]:t(e).data(n):i.__cache[o]},i.RemoveData=function(t){var e=i.GetUniqueElementId(t);null!=i.__cache[e]&&delete i.__cache[e],t.removeAttribute("data-select2-id")},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);n.append(i(o(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],o=this.option(n);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current(function(n){var o=t.map(n,function(t){return t.id.toString()});i.$results.find(".select2-results__option[aria-selected]").each(function(){var i=t(this),n=e.GetData(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,o)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},i=this.option(e);i.className+=" loading-results",this.$results.prepend(i)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var n=document.createElement("li");n.className="select2-results__option";var o={role:"option","aria-selected":"false"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var s in(null!=i.element&&r.call(i.element,":disabled")||null==i.element&&i.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==i.id&&delete o["aria-selected"],null!=i._resultId&&(n.id=i._resultId),i.title&&(n.title=i.title),i.children&&(o.role="group",o["aria-label"]=i.text,delete o["aria-selected"]),o){var a=o[s];n.setAttribute(s,a)}if(i.children){var l=t(n),h=document.createElement("strong");h.className="select2-results__group";t(h);this.template(i,h);for(var c=[],d=0;d<i.children.length;d++){var u=i.children[d],f=this.option(u);c.push(f)}var p=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(c),l.append(h),l.append(p)}else this.template(i,n);return e.StoreData(n,"data",i),n},i.prototype.bind=function(i){var n=this,o=i.id+"-results";this.$results.attr("id",o),i.on("results:all",function(t){n.clear(),n.append(t.data),i.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),i.on("results:append",function(t){n.append(t.data),i.isOpen()&&n.setClasses()}),i.on("query",function(t){n.hideMessages(),n.showLoading(t)}),i.on("select",function(){i.isOpen()&&(n.setClasses(),n.options.get("scrollAfterSelect")&&n.highlightFirstItem())}),i.on("unselect",function(){i.isOpen()&&(n.setClasses(),n.options.get("scrollAfterSelect")&&n.highlightFirstItem())}),i.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),i.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),i.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),i.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var i=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:i})}}),i.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(!(i<=0)){var o=i-1;0===t.length&&(o=0);var r=e.eq(o);r.trigger("mouseenter");var s=n.$results.offset().top,a=r.offset().top,l=n.$results.scrollTop()+(a-s);0===o?n.$results.scrollTop(0):a-s<0&&n.$results.scrollTop(l)}}),i.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var o=e.eq(i);o.trigger("mouseenter");var r=n.$results.offset().top+n.$results.outerHeight(!1),s=o.offset().top+o.outerHeight(!1),a=n.$results.scrollTop()+s-r;0===i?n.$results.scrollTop(0):s>r&&n.$results.scrollTop(a)}}),i.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),i.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(i){var o=t(this),r=e.GetData(this,"data");"true"!==o.attr("aria-selected")?n.trigger("select",{originalEvent:i,data:r}):n.options.get("multiple")?n.trigger("unselect",{originalEvent:i,data:r}):n.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var i=e.GetData(this,"data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:t(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),i=this.$results.offset().top,n=t.offset().top,o=this.$results.scrollTop()+(n-i),r=n-i;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=n(e,i);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=o(r):t(i).append(r)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var i=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),i.attr("aria-disabled","false"),this.$selection=i,i},n.prototype.bind=function(t){var e=this,n=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",n),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.trigger("focus"),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex),e.$selection.attr("aria-disabled","false")}),t.on("disable",function(){e.$selection.attr("tabindex","-1"),e.$selection.attr("aria-disabled","true")})},n.prototype._handleBlur=function(e){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(i){t(document.body).on("mousedown.select2."+i.id,function(i){var n=t(i.target).closest(".select2");t(".select2.select2-container--open").each(function(){this!=n[0]&&e.GetData(this,"element").select2("close")})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){e.find(".selection").append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},n.prototype.isEnabled=function(){return!this.isDisabled()},n.prototype.isDisabled=function(){return this.options.get("disabled")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(t){var e=this;n.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("focus",function(){t.isOpen()||e.$selection.trigger("focus")})},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){if(0!==t.length){var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n);var o=e.title||e.text;o?i.attr("title",o):i.removeAttr("title")}else this.clear()},n}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(){var e=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!e.isDisabled()){var o=t(this).parent(),r=i.GetData(o[0],"data");e.trigger("unselect",{originalEvent:n,data:r})}})},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},n.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var o=t[n],r=this.selectionContainer(),s=this.display(o,r);r.append(s);var a=o.title||o.text;a&&r.attr("title",a),i.StoreData(r[0],"data",o),e.push(r)}var l=this.$selection.find(".select2-selection__rendered");i.appendMany(l,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(t,e,i){function n(){}return n.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();var o=i.GetData(n[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var s={data:o};if(this.trigger("clear",s),s.prevented)this.$element.val(r);else{for(var a=0;a<o.length;a++)if(s={data:o[a]},this.trigger("unselect",s),s.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},n.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||i.which!=e.DELETE&&i.which!=e.BACKSPACE||this._handleClear(i)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var o=this.options.get("translations").get("removeAllItems"),r=t('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');i.StoreData(r[0],"data",n),this.$selection.find(".select2-selection__rendered").prepend(r)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,n,o){var r=this,s=n.id+"-results";t.call(this,n,o),n.on("open",function(){r.$search.attr("aria-controls",s),r.$search.trigger("focus")}),n.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),n.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),n.on("disable",function(){r.$search.prop("disabled",!0)}),n.on("focus",function(){r.$search.trigger("focus")}),n.on("results:focus",function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===i.BACKSPACE&&""===r.$search.val()){var n=r.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var o=e.GetData(n[0],"data");r.searchRemoveChoice(o),t.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(t){r.$search.val()&&t.stopPropagation()});var a=document.documentMode,l=a&&a<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){l?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(l&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&r.handleSearch(t)}})},n.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.trigger("focus")},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").width():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,r)){i=i||{};var n=t.Event("select2:"+e,{params:i});o.$element.trigger(n),-1!==t.inArray(e,s)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u0152":"OE","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a",
"\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u0153":"oe","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03ce":"\u03c9","\u03c2":"\u03c3","\u2019":"'"}}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+t.generateChars(4),n},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),o=n.item(t);e.push(o)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];(t=[t]).push.apply(t,n);for(var r=0;r<t.length;r++){var s=t[r].id;-1===i.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("input").trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("input").trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,i(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(n){for(var o=[],r=0;r<n.length;r++){var s=n[r].id;s!==t.id&&-1===i.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("input").trigger("change")})}},n.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){e.RemoveData(this)})},n.prototype.query=function(t,e){var n=[],o=this;this.$element.children().each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),s=o.matches(t,r);null!==s&&n.push(s)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var n;t.children?(n=document.createElement("optgroup")).label=t.text:(n=document.createElement("option")).textContent!==undefined?n.textContent=t.text:n.innerText=t.text,t.id!==undefined&&(n.value=t.id),t.disabled&&(n.disabled=!0),t.selected&&(n.selected=!0),t.title&&(n.title=t.title);var o=i(n),r=this._normalizeItem(t);return r.element=n,e.StoreData(n,"data",r),o},n.prototype.item=function(t){var n={};if(null!=(n=e.GetData(t[0],"data")))return n;if(t.is("option"))n={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){n={text:t.prop("label"),children:[],title:t.prop("title")};for(var o=t.children("option"),r=[],s=0;s<o.length;s++){var a=i(o[s]),l=this.item(a);r.push(l)}n.children=r}return(n=this._normalizeItem(n)).element=t[0],e.StoreData(t[0],"data",n),n},n.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=i.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){this._dataToConvert=e.get("data")||[],n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype.bind=function(t,e){n.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var o=this,r=this.$element.find("option"),s=r.map(function(){return o.item(i(this)).id}).get(),a=[],l=0;l<t.length;l++){var h=this._normalizeItem(t[l]);if(i.inArray(h.id,s)>=0){var c=r.filter(n(h)),d=this.item(c),u=i.extend(!0,{},h,d),f=this.option(u);c.replaceWith(f)}else{var p=this.option(h);if(h.children){var g=this.convertToOptions(h.children);e.appendMany(p,g)}a.push(p)}}return a},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var o=i.ajax(t);return o.then(e),o.fail(n),o}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=r.transport(r,function(n){var r=o.processResults(n,t);o.options.get("debug")&&window.console&&console.error&&(r&&r.results&&i.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){"status"in n&&(0===n.status||"0"===n.status)||o.trigger("results:message",{message:"errorLoading"})});o._request=n}var o=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var o=n.get("tags"),r=n.get("createTag");r!==undefined&&(this.createTag=r);var s=n.get("insertTag");if(s!==undefined&&(this.insertTag=s),e.call(this,i,n),t.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],h=this._normalizeItem(l),c=this.option(h);this.$element.append(c)}}return e.prototype.query=function(t,e,i){function n(t,r){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],h=null!=l.children&&!n({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||h)return!r&&(t.data=s,void i(t))}if(r)return!0;var c=o.createTag(e);if(null!=c){var d=o.option(c);d.attr("data-select2-tag",!0),o.addOptions([d]),o.insertTag(s,c)}t.results=s,i(t)}var o=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,n):t.call(this,e,i)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(){this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");n!==undefined&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(e,i,n){function o(e){var i=s._normalizeItem(e);if(!s.$element.find("option").filter(function(){return t(this).val()===i.id}).length){var n=s.option(i);n.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([n])}r(i)}function r(t){s.trigger("select",{data:t})}var s=this;i.term=i.term||"";var a=this.tokenizer(i,this.options,o);a.term!==i.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.trigger("focus")),i.term=a.term),e.call(this,i,n)},e.prototype.tokenizer=function(e,i,n,o){for(var r=n.get("tokenSeparators")||[],s=i.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var h=s[a];if(-1!==t.inArray(h,r)){var c=s.substr(0,a),d=l(t.extend({},i,{term:c}));null!=d?(o(d),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(){n._checkIfMaximumSelected()})},t.prototype.query=function(t,e,i){var n=this;this._checkIfMaximumSelected(function(){t.call(n,e,i)})},t.prototype._checkIfMaximumSelected=function(t,e){var i=this;this.current(function(t){var n=null!=t?t.length:0;i.maximumSelectionLength>0&&n>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):e&&e()})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},e.prototype.bind=function(e,i,n){var o=this,r=i.id+"-results";e.call(this,i,n),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",r),o.$search.trigger("focus"),window.setTimeout(function(){o.$search.trigger("focus")},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")}),i.on("focus",function(){i.isOpen()||o.$search.trigger("focus")}),i.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))}),i.on("results:focus",function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var o=e[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("query",function(t){n.lastParams=t,n.loading=!0}),e.on("query:append",function(t){n.lastParams=t,n.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&(this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore())},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(e,i,n){this.$dropdownParent=t(n.get("dropdownParent")||document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),n._bindContainerResultHandlers(e)}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var i=this;e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:message",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("select",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("unselect",function(){i._positionDropdown(),i._resizeDropdown()}),this._containerResultsHandlersBound=!0}},i.prototype._attachPositioningHandler=function(i,n){var o=this,r="scroll.select2."+n.id,s="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(){var i=e.GetData(this,"select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(r+" "+s+" "+a,function(){o._positionDropdown(),o._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var o="scroll.select2."+n.id,r="resize.select2."+n.id,s="orientationchange.select2."+n.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+s)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},h=l.top<r.top-a.height,c=l.bottom>r.bottom+a.height,d={left:r.left,top:s.bottom},u=this.$dropdownParent;"static"===u.css("position")&&(u=u.offsetParent());var f={top:0,left:0};(t.contains(document.body,u[0])||u[0].isConnected)&&(f=u.offset()),d.top-=f.top,d.left-=f.left,i||n||(o="below"),c||!h||i?!h&&c&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(d.top=s.top-f.top-a.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var o=e[n];o.children?i+=t(o.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return!(t(i.data.results)<this.minimumResultsForSearch)&&e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(t){function e(){}return e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(t){n._handleSelectOnClose(t)})},e.prototype._handleSelectOnClose=function(e,i){if(i&&null!=i.originalSelect2Event){var n=i.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=t.GetData(o[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,o,r,s,a,l,h,c,d,u,f,p,g,m,_,v,y,b,x,w,k,C,T,M,S){function D(){this.reset()}return D.prototype.apply=function(c){if(null==(c=t.extend(!0,{},this.defaults,c)).dataAdapter){if(null!=c.ajax?c.dataAdapter=p:null!=c.data?c.dataAdapter=f:c.dataAdapter=u,c.minimumInputLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,_)),c.maximumInputLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,v)),c.maximumSelectionLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,y)),c.tags&&(c.dataAdapter=h.Decorate(c.dataAdapter,g)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=h.Decorate(c.dataAdapter,m)),null!=c.query){var d=e(c.amdBase+"compat/query");c.dataAdapter=h.Decorate(c.dataAdapter,d)}if(null!=c.initSelection){var D=e(c.amdBase+"compat/initSelection");c.dataAdapter=h.Decorate(c.dataAdapter,D)}}if(null==c.resultsAdapter&&(c.resultsAdapter=i,null!=c.ajax&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,k)),null!=c.placeholder&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,w)),c.selectOnClose&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,M))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=b;else{var j=h.Decorate(b,x);c.dropdownAdapter=j}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,T)),c.closeOnSelect&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,S)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var A=e(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=h.Decorate(c.dropdownAdapter,A)}c.dropdownAdapter=h.Decorate(c.dropdownAdapter,C)}if(null==c.selectionAdapter){if(c.multiple?c.selectionAdapter=o:c.selectionAdapter=n,null!=c.placeholder&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,r)),c.allowClear&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,s)),c.multiple&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,a)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var P=e(c.amdBase+"compat/containerCss");c.selectionAdapter=h.Decorate(c.selectionAdapter,P)}c.selectionAdapter=h.Decorate(c.selectionAdapter,l)}c.language=this._resolveLanguage(c.language),c.language.push("en");for(var E=[],I=0;I<c.language.length;I++){var L=c.language[I];-1===E.indexOf(L)&&E.push(L)}return c.language=E,c.translations=this._processTranslations(c.language,c.debug),c},D.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,o){if(""===t.trim(n.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),s=o.children.length-1;s>=0;s--){null==i(n,o.children[s])&&r.children.splice(s,1)}return r.children.length>0?r:i(n,r)}var a=e(o.text).toUpperCase(),l=e(n.term).toUpperCase();return a.indexOf(l)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:{},matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},D.prototype.applyFromElement=function(t,e){var i=t.language,n=this.defaults.language,o=e.prop("lang"),r=e.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(r));return t.language=s,t},D.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var i;i=t.isArray(e)?e:[e];for(var n=[],o=0;o<i.length;o++)if(n.push(i[o]),"string"==typeof i[o]&&i[o].indexOf("-")>0){var r=i[o].split("-")[0];n.push(r)}return n},D.prototype._processTranslations=function(e,i){for(var n=new c,o=0;o<e.length;o++){var r=new c,s=e[o];if("string"==typeof s)try{r=c.loadPath(s)}catch(a){try{s=this.defaults.amdLanguageBase+s,r=c.loadPath(s)}catch(l){i&&window.console&&console.warn&&console.warn('Select2: The language file for "'+s+'" could not be automatically loaded. A fallback will be used instead.')}}else r=t.isPlainObject(s)?new c(s):s;n.extend(r)}return n},D.prototype.set=function(e,i){var n={};n[t.camelCase(e)]=i;var o=h._convertData(n);t.extend(!0,this.defaults,o)},new D}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),null!=o&&(this.options=i.applyFromElement(this.options,o)),this.options=i.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){function i(t,e){return e.toUpperCase()}var o=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),n.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.StoreData(t[0],"data",n.GetData(t[0],"select2Tags")),n.StoreData(t[0],"tags",!0)),n.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",n.GetData(t[0],"ajaxUrl")),n.StoreData(t[0],"ajax-Url",n.GetData(t[0],"ajaxUrl")));for(var r={},s=0;s<t[0].attributes.length;s++){var a=t[0].attributes[s].name,l="data-";if(a.substr(0,l.length)==l){var h=a.substring(l.length),c=n.GetData(t[0],h);r[h.replace(/-([a-z])/g,i)]=c}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(r=e.extend(!0,{},t[0].dataset,r));var d=e.extend(!0,{},n.GetData(t[0]),r);for(var u in d=n._convertData(d))e.inArray(u,o)>-1||(e.isPlainObject(this.options[u])?e.extend(this.options[u],d[u]):this.options[u]=d[u]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var o=function(t,n){null!=i.GetData(t[0],"select2")&&i.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),o.__super__.constructor.call(this);var r=t.attr("tabindex")||0;i.StoreData(t[0],"old-tabindex",r),t.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(t,this.options);var a=this.render();this._placeContainer(a);var l=this.options.get("selectionAdapter");this.selection=new l(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a)
;var h=this.options.get("dropdownAdapter");this.dropdown=new h(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){d.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),i.StoreData(t[0],"select2",this),t.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),a=0,l=s.length;a<l;a+=1){var h=s[a].replace(/\s/g,"").match(i);if(null!==h&&h.length>=1)return h[1]}return null}return"computedstyle"==e?window.getComputedStyle(t[0]).width:e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(n,o){-1===t.inArray(n,i)&&e.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(e),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(e,i){var n=!1,o=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(i)if(i.addedNodes&&i.addedNodes.length>0)for(var r=0;r<i.addedNodes.length;r++){i.addedNodes[r].selected&&(n=!0)}else i.removedNodes&&i.removedNodes.length>0?n=!0:t.isArray(i)&&t.each(i,function(t,e){if(o._isChangeMutation(t,e))return n=!0,!1});else n=!0;return n}},o.prototype._syncSubtree=function(t,e){var i=this._isChangeMutation(t,e),n=this;i&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})},o.prototype.trigger=function(t,e){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(e===undefined&&(e={}),t in n){var r=n[t],s={prevented:!1,name:t,args:e};if(i.call(this,r,s),s.prevented)return void(e.prevented=!0)}i.call(this,t,e)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("input").trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),i.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(e[0],"element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(t,e,i,n,o){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var n=t.extend(!0,{},e);new i(t(this),n)}),this;if("string"==typeof e){var n,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=t[e].apply(t,s)}),t.inArray(e,r)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),
/*  Copyright Mihai Bazon, 2002-2005  |  www.bazon.net/mishoo
 * -----------------------------------------------------------
 *
 * The DHTML Calendar, version 1.0 "It is happening again"
 *
 * Details and latest version at:
 * www.dynarch.com/projects/calendar
 *
 * This script is developed by Dynarch.com.  Visit us at www.dynarch.com.
 *
 * This script is distributed under the GNU Lesser General Public License.
 * Read the entire license text here: http://www.gnu.org/licenses/lgpl.html
 */
Calendar=function(t,e,i,n){if(this.activeDiv=null,this.currentDateEl=null,this.getDateStatus=null,this.getDateToolTip=null,this.getDateText=null,this.timeout=null,this.onSelected=i||null,this.onClose=n||null,this.dragging=!1,this.hidden=!1,this.minYear=1970,this.maxYear=2050,this.dateFormat=Calendar._TT.DEF_DATE_FORMAT,this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT,this.isPopup=!0,this.weekNumbers=!0,this.firstDayOfWeek="number"==typeof t?t:Calendar._FD,this.showsOtherMonths=!1,this.dateStr=e,this.ar_days=null,this.showsTime=!1,this.time24=!0,this.yearStep=2,this.hiliteToday=!0,this.multiple=null,this.table=null,this.element=null,this.tbody=null,this.firstdayname=null,this.monthsCombo=null,this.yearsCombo=null,this.hilitedMonth=null,this.activeMonth=null,this.hilitedYear=null,this.activeYear=null,this.dateClicked=!1,"undefined"==typeof Calendar._SDN){"undefined"==typeof Calendar._SDN_len&&(Calendar._SDN_len=3);for(var o=new Array,r=8;r>0;)o[--r]=Calendar._DN[r].substr(0,Calendar._SDN_len);Calendar._SDN=o,"undefined"==typeof Calendar._SMN_len&&(Calendar._SMN_len=3),o=new Array;for(r=12;r>0;)o[--r]=Calendar._MN[r].substr(0,Calendar._SMN_len);Calendar._SMN=o}},Calendar._C=null,Calendar.is_ie=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),Calendar.is_ie5=Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent),Calendar.is_opera=/opera/i.test(navigator.userAgent),Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent),Calendar.getAbsolutePos=function(t){var e=0,i=0,n=/^div$/i.test(t.tagName);n&&t.scrollLeft&&(e=t.scrollLeft),n&&t.scrollTop&&(i=t.scrollTop);var o={x:t.offsetLeft-e,y:t.offsetTop-i};if(t.offsetParent){var r=this.getAbsolutePos(t.offsetParent);o.x+=r.x,o.y+=r.y}return o},Calendar.isRelated=function(t,e){var i=e.relatedTarget;if(!i){var n=e.type;"mouseover"==n?i=e.fromElement:"mouseout"==n&&(i=e.toElement)}for(;i;){if(i==t)return!0;i=i.parentNode}return!1},Calendar.removeClass=function(t,e){if(t&&t.className){for(var i=t.className.split(" "),n=new Array,o=i.length;o>0;)i[--o]!=e&&(n[n.length]=i[o]);t.className=n.join(" ")}},Calendar.addClass=function(t,e){Calendar.removeClass(t,e),t.className+=" "+e},Calendar.getElement=function(t){for(var e=Calendar.is_ie?window.event.srcElement:t.currentTarget;1!=e.nodeType||/^div$/i.test(e.tagName);)e=e.parentNode;return e},Calendar.getTargetElement=function(t){for(var e=Calendar.is_ie?window.event.srcElement:t.target;1!=e.nodeType;)e=e.parentNode;return e},Calendar.stopEvent=function(t){return t||(t=window.event),Calendar.is_ie?(t.cancelBubble=!0,t.returnValue=!1):(t.preventDefault(),t.stopPropagation()),!1},Calendar.addEvent=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i},Calendar.removeEvent=function(t,e,i){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null},Calendar.createElement=function(t,e){var i=null;return i=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",t):document.createElement(t),void 0!==e&&e.appendChild(i),i},Calendar._add_evs=function(el){with(Calendar)addEvent(el,"mouseover",dayMouseOver),addEvent(el,"mousedown",dayMouseDown),addEvent(el,"mouseout",dayMouseOut),is_ie&&(addEvent(el,"dblclick",dayMouseDblClick),el.setAttribute("unselectable",!0))},Calendar.findMonth=function(t){return"undefined"!=typeof t.month?t:"undefined"!=typeof t.parentNode.month?t.parentNode:null},Calendar.findYear=function(t){return"undefined"!=typeof t.year?t:"undefined"!=typeof t.parentNode.year?t.parentNode:null},Calendar.showMonthsCombo=function(){if(!(t=Calendar._C))return!1;var t,e=(t=t).activeDiv,i=t.monthsCombo;t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite"),t.activeMonth&&Calendar.removeClass(t.activeMonth,"active");var n=t.monthsCombo.getElementsByTagName("div")[t.date.getMonth()];Calendar.addClass(n,"active"),t.activeMonth=n;var o=i.style;if(o.display="block",e.navtype<0)o.left=e.offsetLeft+"px";else{var r=i.offsetWidth;void 0===r&&(r=50),o.left=e.offsetLeft+e.offsetWidth-r+"px"}o.top=e.offsetTop+e.offsetHeight+"px"},Calendar.showYearsCombo=function(t){if(!(e=Calendar._C))return!1;var e,i=(e=e).activeDiv,n=e.yearsCombo;e.hilitedYear&&Calendar.removeClass(e.hilitedYear,"hilite"),e.activeYear&&Calendar.removeClass(e.activeYear,"active"),e.activeYear=null;for(var o=e.date.getFullYear()+(t?1:-1),r=n.firstChild,s=!1,a=12;a>0;--a)o>=e.minYear&&o<=e.maxYear?(r.innerHTML=o,r.year=o,r.style.display="block",s=!0):r.style.display="none",r=r.nextSibling,o+=t?e.yearStep:-e.yearStep;if(s){var l=n.style;if(l.display="block",i.navtype<0)l.left=i.offsetLeft+"px";else{var h=n.offsetWidth;void 0===h&&(h=50),l.left=i.offsetLeft+i.offsetWidth-h+"px"}l.top=i.offsetTop+i.offsetHeight+"px"}},Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal)return!1;cal.timeout&&clearTimeout(cal.timeout);var el=cal.activeDiv;if(!el)return!1;var target=Calendar.getTargetElement(ev);ev||(ev=window.event),Calendar.removeClass(el,"active"),target!=el&&target.parentNode!=el||Calendar.cellClick(el,ev);var mon=Calendar.findMonth(target),date=null;if(mon)date=new Date(cal.date),mon.month!=date.getMonth()&&(date.setMonth(mon.month),cal.setDate(date),cal.dateClicked=!1,cal.callHandler());else{var year=Calendar.findYear(target);year&&(date=new Date(cal.date),year.year!=date.getFullYear()&&(date.setFullYear(year.year),cal.setDate(date),cal.dateClicked=!1,cal.callHandler()))}with(Calendar)return removeEvent(document,"mouseup",tableMouseUp),removeEvent(document,"mouseover",tableMouseOver),removeEvent(document,"mousemove",tableMouseOver),cal._hideCombos(),_C=null,stopEvent(ev)},Calendar.tableMouseOver=function(t){var e=Calendar._C;if(e){var i=e.activeDiv,n=Calendar.getTargetElement(t);if(n==i||n.parentNode==i?(Calendar.addClass(i,"hilite active"),Calendar.addClass(i.parentNode,"rowhilite")):(("undefined"==typeof i.navtype||50!=i.navtype&&(0==i.navtype||Math.abs(i.navtype)>2))&&Calendar.removeClass(i,"active"),Calendar.removeClass(i,"hilite"),Calendar.removeClass(i.parentNode,"rowhilite")),t||(t=window.event),50==i.navtype&&n!=i){var o,r=Calendar.getAbsolutePos(i),s=i.offsetWidth,a=t.clientX,l=!0;a>r.x+s?(o=a-r.x-s,l=!1):o=r.x-a,o<0&&(o=0);for(var h=i._range,c=i._current,d=Math.floor(o/10)%h.length,u=h.length;--u>=0&&h[u]!=c;);for(;d-- >0;)l?--u<0&&(u=h.length-1):++u>=h.length&&(u=0);var f=h[u];i.innerHTML=f,e.onUpdateTime()}var p=Calendar.findMonth(n);if(p)p.month!=e.date.getMonth()?(e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite"),Calendar.addClass(p,"hilite"),e.hilitedMonth=p):e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite");else{e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite");var g=Calendar.findYear(n);g&&g.year!=e.date.getFullYear()?(e.hilitedYear&&Calendar.removeClass(e.hilitedYear,"hilite"),Calendar.addClass(g,"hilite"),e.hilitedYear=g):e.hilitedYear&&Calendar.removeClass(e.hilitedYear,"hilite")}return Calendar.stopEvent(t)}},Calendar.tableMouseDown=function(t){if(Calendar.getTargetElement(t)==Calendar.getElement(t))return Calendar.stopEvent(t)},Calendar.calDragIt=function(t){var e,i,n=Calendar._C;if(!n||!n.dragging)return!1;Calendar.is_ie?(i=window.event.clientY+document.body.scrollTop,e=window.event.clientX+document.body.scrollLeft):(e=t.pageX,i=t.pageY),n.hideShowCovered();var o=n.element.style;return o.left=e-n.xOffs+"px",o.top=i-n.yOffs+"px",Calendar.stopEvent(t)},Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal)return!1;with(cal.dragging=!1,Calendar)removeEvent(document,"mousemove",calDragIt),removeEvent(document,"mouseup",calDragEnd),tableMouseUp(ev);cal.hideShowCovered()},Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled)return!1;var cal=el.calendar;if(cal.activeDiv=el,Calendar._C=cal,300!=el.navtype)with(Calendar)50==el.navtype?(el._current=el.innerHTML,addEvent(document,"mousemove",tableMouseOver)):addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver),addClass(el,"hilite active"),addEvent(document,"mouseup",tableMouseUp);else cal.isPopup&&cal._dragStart(ev);return-1==el.navtype||1==el.navtype?(cal.timeout&&clearTimeout(cal.timeout),cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)):-2==el.navtype||2==el.navtype?(cal.timeout&&clearTimeout(cal.timeout),cal.timeout=setTimeout(el.navtype>0?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)):cal.timeout=null,Calendar.stopEvent(ev)},Calendar.dayMouseDblClick=function(t){Calendar.cellClick(Calendar.getElement(t),t||window.event),Calendar.is_ie&&document.selection.empty()},Calendar.dayMouseOver=function(t){var e=Calendar.getElement(t);return!(Calendar.isRelated(e,t)||Calendar._C||e.disabled)&&(e.ttip&&("_"==e.ttip.substr(0,1)&&(e.ttip=e.caldate.print(e.calendar.ttDateFormat)+e.ttip.substr(1)),e.calendar.tooltips.innerHTML=e.ttip),300!=e.navtype&&(Calendar.addClass(e,"hilite"),e.caldate&&Calendar.addClass(e.parentNode,"rowhilite")),Calendar.stopEvent(t))},Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);return!(isRelated(el,ev)||_C||el.disabled)&&(removeClass(el,"hilite"),el.caldate&&removeClass(el.parentNode,"rowhilite"),el.calendar&&(el.calendar.tooltips.innerHTML=_TT.SEL_DATE),stopEvent(ev))}},Calendar.cellClick=function(t,e){var i=t.calendar,n=!1,o=!1,r=null;if("undefined"==typeof t.navtype){i.currentDateEl&&(Calendar.removeClass(i.currentDateEl,"selected"),Calendar.addClass(t,"selected"),(n=i.currentDateEl==t)||(i.currentDateEl=t)),i.date.setDateOnly(t.caldate),r=i.date;var s=!(i.dateClicked=!t.otherMonth);s||i.currentDateEl?o=!t.disabled:i._toggleMultipleDate(new Date(r)),s&&i._init(i.firstDayOfWeek,r)}else{if(200==t.navtype)return Calendar.removeClass(t,"hilite"),void i.callCloseHandler();r=new Date(i.date),0==t.navtype&&r.setDateOnly(new Date),i.dateClicked=!1;var a=r.getFullYear(),l=r.getMonth();function h(t){var e=r.getDate(),i=r.getMonthDays(t);e>i&&r.setDate(i),r.setMonth(t)}switch(t.navtype){case 400:Calendar.removeClass(t,"hilite");var c=Calendar._TT.ABOUT;return void 0!==c?c+=i.showsTime?Calendar._TT.ABOUT_TIME:"":c='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n',void alert(c);case-2:a>i.minYear&&r.setFullYear(a-1);break;case-1:l>0?h(l-1):a-- >i.minYear&&(r.setFullYear(a),h(11));break;case 1:l<11?h(l+1):a<i.maxYear&&(r.setFullYear(a+1),h(0));break;case 2:a<i.maxYear&&r.setFullYear(a+1);break;case 100:return void i.setFirstDayOfWeek(t.fdow);case 50:for(var d=t._range,u=t.innerHTML,f=d.length;--f>=0&&d[f]!=u;);e&&e.shiftKey?--f<0&&(f=d.length-1):++f>=d.length&&(f=0);var p=d[f];return t.innerHTML=p,void i.onUpdateTime();case 0:if("function"==typeof i.getDateStatus&&i.getDateStatus(r,r.getFullYear(),r.getMonth(),r.getDate()))return!1}r.equalsTo(i.date)?0==t.navtype&&(o=n=!0):(i.setDate(r),o=!0)}o&&e&&i.callHandler(),n&&(Calendar.removeClass(t,"hilite"),e&&i.callCloseHandler())},Calendar.prototype.create=function(t){var e=null;t?(e=t,this.isPopup=!1):(e=document.getElementsByTagName("body")[0],this.isPopup=!0),this.date=this.dateStr?new Date(this.dateStr):new Date;var i=Calendar.createElement("table");this.table=i,i.cellSpacing=0,i.cellPadding=0,i.calendar=this,Calendar.addEvent(i,"mousedown",Calendar.tableMouseDown);var n=Calendar.createElement("div");this.element=n,n.className="calendar",this.isPopup&&(n.style.position="absolute",n.style.display="none"),n.appendChild(i);var o=Calendar.createElement("thead",i),r=null,s=null,a=this,l=function(t,e,i){return(r=Calendar.createElement("td",s)).colSpan=e,r.className="button",0!=i&&Math.abs(i)<=2&&(r.className+=" nav"),Calendar._add_evs(r),r.calendar=a,r.navtype=i,r.innerHTML="<div unselectable='on'>"+t+"</div>",r};s=Calendar.createElement("tr",o);var h=6;this.isPopup&&--h,this.weekNumbers&&++h,l("?",1,400).ttip=Calendar._TT.INFO,this.title=l("",h,300),this.title.className="title",this.isPopup&&(this.title.ttip=Calendar._TT.DRAG_TO_MOVE,this.title.style.cursor="move",l("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE),(s=Calendar.createElement("tr",o)).className="headrow",this._nav_py=l("&#x00ab;",1,-2),this._nav_py.ttip=Calendar._TT.PREV_YEAR,this._nav_pm=l("&#x2039;",1,-1),this._nav_pm.ttip=Calendar._TT.PREV_MONTH,this._nav_now=l(Calendar._TT.TODAY,this.weekNumbers?4:3,0),this._nav_now.ttip=Calendar._TT.GO_TODAY,this._nav_now.className="button go_today",this._nav_nm=l("&#x203a;",1,1),this._nav_nm.ttip=Calendar._TT.NEXT_MONTH,this._nav_ny=l("&#x00bb;",1,2),this._nav_ny.ttip=Calendar._TT.NEXT_YEAR,(s=Calendar.createElement("tr",o)).className="daynames",this.weekNumbers&&((r=Calendar.createElement("td",s)).className="name wn",r.innerHTML=Calendar._TT.WK);for(var c=7;c>0;--c)r=Calendar.createElement("td",s),c||(r.navtype=100,r.calendar=this,Calendar._add_evs(r));this.firstdayname=this.weekNumbers?s.firstChild.nextSibling:s.firstChild,this._displayWeekdays();var d=Calendar.createElement("tbody",i);for(this.tbody=d,c=6;c>0;--c){s=Calendar.createElement("tr",d),this.weekNumbers&&(r=Calendar.createElement("td",s));for(var u=7;u>0;--u)(r=Calendar.createElement("td",s)).calendar=this,Calendar._add_evs(r)}this.showsTime?((s=Calendar.createElement("tr",d)).className="time",(r=Calendar.createElement("td",s)).className="time",r.colSpan=2,r.innerHTML=Calendar._TT.TIME||"&nbsp;",(r=Calendar.createElement("td",s)).className="time",r.colSpan=this.weekNumbers?4:3,function(){function t(t,e,i,n){var o=Calendar.createElement("span",r);if(o.className=t,o.innerHTML=e,o.calendar=a,o.ttip=Calendar._TT.TIME_PART,o.navtype=50,o._range=[],"number"!=typeof i)o._range=i;else for(var s=i;s<=n;++s){var l;l=s<10&&n>=10?"0"+s:""+s,o._range[o._range.length]=l}return Calendar._add_evs(o),o}var e=a.date.getHours(),i=a.date.getMinutes(),n=!a.time24,o=e>12;n&&o&&(e-=12);var l=t("hour",e,n?1:0,n?12:23),h=Calendar.createElement("span",r);h.innerHTML=":",h.className="colon";var c=t("minute",i,0,59),d=null;(r=Calendar.createElement("td",s)).className="time",r.colSpan=2,n?d=t("ampm",o?"pm":"am",["am","pm"]):r.innerHTML="&nbsp;",a.onSetTime=function(){var t,e=this.date.getHours(),i=this.date.getMinutes();n&&((t=e>=12)&&(e-=12),0==e&&(e=12),d.innerHTML=t?"pm":"am"),l.innerHTML=e<10?"0"+e:e,c.innerHTML=i<10?"0"+i:i},a.onUpdateTime=function(){var t=this.date,e=parseInt(l.innerHTML,10);n&&(/pm/i.test(d.innerHTML)&&e<12?e+=12:/am/i.test(d.innerHTML)&&12==e&&(e=0));var i=t.getDate(),o=t.getMonth(),r=t.getFullYear();t.setHours(e),t.setMinutes(parseInt(c.innerHTML,10)),t.setFullYear(r),t.setMonth(o),t.setDate(i),this.dateClicked=!1,this.callHandler()}}()):this.onSetTime=this.onUpdateTime=function(){};var f=Calendar.createElement("tfoot",i);for((s=Calendar.createElement("tr",f)).className="footrow",(r=l(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300)).className="ttip",this.isPopup&&(r.ttip=Calendar._TT.DRAG_TO_MOVE,r.style.cursor="move"),this.tooltips=r,n=Calendar.createElement("div",this.element),this.monthsCombo=n,n.className="combo",c=0;c<Calendar._MN.length;++c){var p=Calendar.createElement("div");p.className=Calendar.is_ie?"label-IEfix":"label",p.month=c,p.innerHTML=Calendar._SMN[c],n.appendChild(p)}for(n=Calendar.createElement("div",this.element),this.yearsCombo=n,n.className="combo",c=12;c>0;--c){var g=Calendar.createElement("div");g.className=Calendar.is_ie?"label-IEfix":"label",n.appendChild(g)}this._init(this.firstDayOfWeek,this.date),e.appendChild(this.element)},Calendar._keyEvent=function(t){var e=window._dynarch_popupCalendar;if(!e||e.multiple)return!1;Calendar.is_ie&&(t=window.event);var i=Calendar.is_ie||"keypress"==t.type,n=t.keyCode;if(t.ctrlKey)switch(n){case 37:i&&Calendar.cellClick(e._nav_pm);break;case 38:i&&Calendar.cellClick(e._nav_py);break;case 39:i&&Calendar.cellClick(e._nav_nm);break;case 40:i&&Calendar.cellClick(e._nav_ny);break;default:return!1}else switch(n){case 32:Calendar.cellClick(e._nav_now);break;case 27:i&&e.callCloseHandler();break;case 37:case 38:case 39:case 40:if(i){var o,r,s,a,l;function h(){var t=e.currentDateEl.pos;r=15&t,s=t>>4,a=e.ar_days[s][r]}function c(){var t=new Date(e.date);t.setDate(t.getDate()-l),e.setDate(t)}function d(){var t=new Date(e.date);t.setDate(t.getDate()+l),e.setDate(t)}for(o=37==n||38==n,l=37==n||39==n?1:7,h();;){switch(n){case 37:if(!(--r>=0)){r=6,n=38;continue}a=e.ar_days[s][r];break;case 38:--s>=0?a=e.ar_days[s][r]:(c(),h());break;case 39:if(!(++r<7)){r=0,n=40;continue}a=e.ar_days[s][r];break;case 40:++s<e.ar_days.length?a=e.ar_days[s][r]:(d(),h())}break}a&&(a.disabled?o?c():d():Calendar.cellClick(a))}break;case 13:i&&Calendar.cellClick(e.currentDateEl,t);break;default:return!1}return Calendar.stopEvent(t)},Calendar.prototype._init=function(t,e){var i=new Date,n=i.getFullYear(),o=i.getMonth(),r=i.getDate();this.table.style.visibility="hidden";var s=e.getFullYear();s<this.minYear?(s=this.minYear,e.setFullYear(s)):s>this.maxYear&&(s=this.maxYear,e.setFullYear(s)),this.firstDayOfWeek=t,this.date=new Date(e);var a=e.getMonth(),l=e.getDate();e.getMonthDays();e.setDate(1);var h=(e.getDay()-this.firstDayOfWeek)%7;h<0&&(h+=7),e.setDate(-h),e.setDate(e.getDate()+1);for(var c=this.tbody.firstChild,d=(Calendar._SMN[a],this.ar_days=new Array),u=Calendar._TT.WEEKEND,f=this.multiple?this.datesCells={}:null,p=0;p<6;++p,c=c.nextSibling){var g=c.firstChild;this.weekNumbers&&(g.className="day wn",g.innerHTML=e.getWeekNumber(),g=g.nextSibling),c.className="daysrow";for(var m,_=!1,v=d[p]=[],y=0;y<7;++y,g=g.nextSibling,e.setDate(m+1)){m=e.getDate();var b=e.getDay();g.className="day",g.pos=p<<4|y,v[y]=g;var x=e.getMonth()==a;if(x)g.otherMonth=!1,_=!0;else{if(!this.showsOtherMonths){g.className="emptycell",g.innerHTML="&nbsp;",g.disabled=!0;continue}g.className+=" othermonth",g.otherMonth=!0}if(g.disabled=!1,g.innerHTML=this.getDateText?this.getDateText(e,m):m,f&&(f[e.print("%Y%m%d")]=g),this.getDateStatus){var w=this.getDateStatus(e,s,a,m);if(this.getDateToolTip){var k=this.getDateToolTip(e,s,a,m);k&&(g.title=k)}!0===w?(g.className+=" disabled",g.disabled=!0):(/disabled/i.test(w)&&(g.disabled=!0),g.className+=" "+w)}g.disabled||(g.caldate=new Date(e),g.ttip="_",!this.multiple&&x&&m==l&&this.hiliteToday&&(g.className+=" selected",this.currentDateEl=g),e.getFullYear()==n&&e.getMonth()==o&&m==r&&(g.className+=" today",g.ttip+=Calendar._TT.PART_TODAY),-1!=u.indexOf(b.toString())&&(g.className+=g.otherMonth?" oweekend":" weekend"))}_||this.showsOtherMonths||(c.className="emptyrow")}this.title.innerHTML=Calendar._MN[a]+", "+s,this.onSetTime(),this.table.style.visibility="visible",this._initMultipleDates()},Calendar.prototype._initMultipleDates=function(){if(this.multiple)for(var t in this.multiple){var e=this.datesCells[t];this.multiple[t]&&(e&&(e.className+=" selected"))}},Calendar.prototype._toggleMultipleDate=function(t){if(this.multiple){var e=t.print("%Y%m%d"),i=this.datesCells[e];if(i)this.multiple[e]?(Calendar.removeClass(i,"selected"),delete this.multiple[e]):(Calendar.addClass(i,"selected"),this.multiple[e]=t)}},Calendar.prototype.setDateToolTipHandler=function(t){this.getDateToolTip=t},Calendar.prototype.setDate=function(t){t.equalsTo(this.date)||this._init(this.firstDayOfWeek,t)},Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)},Calendar.prototype.setFirstDayOfWeek=function(t){this._init(t,this.date),this._displayWeekdays()},Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(t){this.getDateStatus=t},Calendar.prototype.setRange=function(t,e){this.minYear=t,this.maxYear=e},Calendar.prototype.callHandler=function(){this.onSelected&&this.onSelected(this,this.date.print(this.dateFormat))},Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this),this.hideShowCovered()},Calendar.prototype.destroy=function(){this.element.parentNode.removeChild(this.element),Calendar._C=null,window._dynarch_popupCalendar=null},Calendar.prototype.reparent=function(t){var e=this.element;e.parentNode.removeChild(e),t.appendChild(e)},Calendar._checkCalendar=function(t){var e=window._dynarch_popupCalendar;if(!e)return!1;for(var i=Calendar.is_ie?Calendar.getElement(t):Calendar.getTargetElement(t);null!=i&&i!=e.element;i=i.parentNode);return null==i?(window._dynarch_popupCalendar.callCloseHandler(),Calendar.stopEvent(t)):void 0},Calendar.prototype.show=function(){for(var t=this.table.getElementsByTagName("tr"),e=t.length;e>0;){var i=t[--e];Calendar.removeClass(i,"rowhilite");for(var n=i.getElementsByTagName("td"),o=n.length;o>0;){var r=n[--o];Calendar.removeClass(r,"hilite"),Calendar.removeClass(r,"active")}}this.element.style.display="block",this.hidden=!1,this.isPopup&&(window._dynarch_popupCalendar=this,Calendar.addEvent(document,"keydown",Calendar._keyEvent),Calendar.addEvent(document,"keypress",Calendar._keyEvent),Calendar.addEvent(document,"mousedown",Calendar._checkCalendar)),this.hideShowCovered()},Calendar.prototype.hide=function(){this.isPopup&&(Calendar.removeEvent(document,"keydown",Calendar._keyEvent),Calendar.removeEvent(document,"keypress",Calendar._keyEvent),Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)),this.element.style.display="none",this.hidden=!0,this.hideShowCovered()},Calendar.prototype.showAt=function(t,e){var i=this.element.style;i.left=t+"px",i.top=e+"px",this.show()},Calendar.prototype.showAtElement=function(t,e){function i(t){t.x<0&&(t.x=0),t.y<0&&(t.y=0);var e=document.createElement("div"),i=e.style;i.position="absolute",i.right=i.bottom=i.width=i.height="0px",document.body.appendChild(e);var n=Calendar.getAbsolutePos(e);document.body.removeChild(e),Calendar.is_ie?(n.y+=document.body.scrollTop,n.x+=document.body.scrollLeft):(n.y+=window.scrollY,n.x+=window.scrollX);var o=t.x+t.width-n.x;o>0&&(t.x-=o),(o=t.y+t.height-n.y)>0&&(t.y-=o)}var n=this,o=Calendar.getAbsolutePos(t);if(!e||"string"!=typeof e)return this.showAt(o.x,o.y+t.offsetHeight),!0;this.element.style.display="block",Calendar.continuation_for_the_fucking_khtml_browser=function(){var r=n.element.offsetWidth,s=n.element.offsetHeight;n.element.style.display="none";var a=e.substr(0,1),l="l";switch(e.length>1&&(l=e.substr(1,1)),a){case"T":o.y-=s;break;case"B":o.y+=t.offsetHeight;break;case"C":o.y+=(t.offsetHeight-s)/2;break;case"t":o.y+=t.offsetHeight-s}switch(l){case"L":o.x-=r;break;case"R":o.x+=t.offsetWidth;break;case"C":o.x+=(t.offsetWidth-r)/2;break;case"l":o.x+=t.offsetWidth-r}o.width=r,o.height=s+40,n.monthsCombo.style.display="none",i(o),n.showAt(o.x,o.y)},Calendar.is_khtml?setTimeout("Calendar.continuation_for_the_fucking_khtml_browser()",10):Calendar.continuation_for_the_fucking_khtml_browser()},Calendar.prototype.setDateFormat=function(t){this.dateFormat=t},Calendar.prototype.setTtDateFormat=function(t){this.ttDateFormat=t},Calendar.prototype.parseDate=function(t,e){e||(e=this.dateFormat),this.setDate(Date.parseDate(t,e))},Calendar.prototype.hideShowCovered=function(){function t(t){var e=t.style.visibility;return e||(e=document.defaultView&&"function"==typeof document.defaultView.getComputedStyle?Calendar.is_khtml?"":document.defaultView.getComputedStyle(t,"").getPropertyValue("visibility"):t.currentStyle?t.currentStyle.visibility:""),e}if(Calendar.is_ie||Calendar.is_opera)for(var e=new Array("applet","iframe","select"),i=this.element,n=Calendar.getAbsolutePos(i),o=n.x,r=i.offsetWidth+o,s=n.y,a=i.offsetHeight+s,l=e.length;l>0;)for(var h=document.getElementsByTagName(e[--l]),c=null,d=h.length;d>0;){c=h[--d];var u=(n=Calendar.getAbsolutePos(c)).x,f=c.offsetWidth+u,p=n.y,g=c.offsetHeight+p;this.hidden||u>r||f<o||p>a||g<s?(c.__msh_save_visibility||(c.__msh_save_visibility=t(c)),c.style.visibility=c.__msh_save_visibility):(c.__msh_save_visibility||(c.__msh_save_visibility=t(c)),c.style.visibility="hidden")}},Calendar.prototype._displayWeekdays=function(){for(var t=this.firstDayOfWeek,e=this.firstdayname,i=Calendar._TT.WEEKEND,n=0;n<7;++n){e.className="day name";var o=(n+t)%7;n&&(e.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[o]),e.navtype=100,e.calendar=this,e.fdow=o,Calendar._add_evs(e)),-1!=i.indexOf(o.toString())&&Calendar.addClass(e,"weekend"),e.innerHTML=Calendar._SDN[(n+t)%7],e=e.nextSibling}},Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none",this.yearsCombo.style.display="none"},Calendar.prototype._dragStart=function(ev){if(!this.dragging){var posX,posY;this.dragging=!0,Calendar.is_ie?(posY=window.event.clientY+document.body.scrollTop,posX=window.event.clientX+document.body.scrollLeft):(posY=ev.clientY+window.scrollY,posX=ev.clientX+window.scrollX);var st=this.element.style;with(this.xOffs=posX-parseInt(st.left),this.yOffs=posY-parseInt(st.top),Calendar)addEvent(document,"mousemove",calDragIt),addEvent(document,"mouseup",calDragEnd)}},Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31),Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date.parseDate=function(t,e){var i=new Date,n=0,o=-1,r=0,s=t.split(/\W+/),a=e.match(/%./g),l=0,h=0,c=0,d=0;for(l=0;l<s.length;++l)if(s[l])switch(a[l]){case"%d":case"%e":r=parseInt(s[l],10);break;case"%m":o=parseInt(s[l],10)-1;break;case"%Y":case"%y":(n=parseInt(s[l],10))<100&&(n+=n>29?1900:2e3);break;case"%b":case"%B":for(h=0;h<12;++h)if(Calendar._MN[h].substr(0,s[l].length).toLowerCase()==s[l].toLowerCase()){o=h;break}break;case"%H":case"%I":case"%k":case"%l":c=parseInt(s[l],10);break;case"%P":case"%p":/pm/i.test(s[l])&&c<12?c+=12:/am/i.test(s[l])&&c>=12&&(c-=12);break;case"%M":d=parseInt(s[l],10)}if(isNaN(n)&&(n=i.getFullYear()),isNaN(o)&&(o=i.getMonth()),isNaN(r)&&(r=i.getDate()),isNaN(c)&&(c=i.getHours()),isNaN(d)&&(d=i.getMinutes()),0!=n&&-1!=o&&0!=r)return new Date(n,o,r,c,d,0);for(n=0,o=-1,r=0,l=0;l<s.length;++l)if(-1!=s[l].search(/[a-zA-Z]+/)){var u=-1;for(h=0;h<12;++h)if(Calendar._MN[h].substr(0,s[l].length).toLowerCase()==s[l].toLowerCase()){u=h;break}-1!=u&&(-1!=o&&(r=o+1),o=u)}else parseInt(s[l],10)<=12&&-1==o?o=s[l]-1:parseInt(s[l],10)>31&&0==n?(n=parseInt(s[l],10))<100&&(n+=n>29?1900:2e3):0==r&&(r=s[l]);return 0==n&&(n=i.getFullYear()),-1!=o&&0!=r?new Date(n,o,r,c,d,0):i},Date.prototype.getMonthDays=function(t){var e=this.getFullYear();return void 0===t&&(t=this.getMonth()),0!=e%4||0==e%100&&0!=e%400||1!=t?Date._MD[t]:29},Date.prototype.getDayOfYear=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0)-new Date(this.getFullYear(),0,0,0,0,0);return Math.floor(t/Date.DAY)},Date.prototype.getWeekNumber=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),e=t.getDay();t.setDate(t.getDate()-(e+6)%7+3);var i=t.valueOf();return t.setMonth(0),t.setDate(4),Math.round((i-t.valueOf())/6048e5)+1},Date.prototype.equalsTo=function(t){return this.getFullYear()==t.getFullYear()&&this.getMonth()==t.getMonth()&&this.getDate()==t.getDate()&&this.getHours()==t.getHours()&&this.getMinutes()==t.getMinutes()},Date.prototype.setDateOnly=function(t){var e=new Date(t);this.setDate(1),this.setFullYear(e.getFullYear()),this.setMonth(e.getMonth()),this.setDate(e.getDate())},Date.prototype.print=function(t){var e=this.getMonth(),i=this.getDate(),n=this.getFullYear(),o=this.getWeekNumber(),r=this.getDay(),s={},a=this.getHours(),l=a>=12,h=l?a-12:a,c=this.getDayOfYear();0==h&&(h=12);var d=this.getMinutes(),u=this.getSeconds();s["%a"]=Calendar._SDN[r],s["%A"]=Calendar._DN[r],s["%b"]=Calendar._SMN[e],s["%B"]=Calendar._MN[e],s["%C"]=1+Math.floor(n/100),s["%d"]=i<10?"0"+i:i,s["%e"]=i,s["%H"]=a<10?"0"+a:a,s["%I"]=h<10?"0"+h:h,s["%j"]=c<100?c<10?"00"+c:"0"+c:c,s["%k"]=a,s["%l"]=h,s["%m"]=e<9?"0"+(1+e):1+e,s["%M"]=d<10?"0"+d:d,s["%n"]="\n",s["%p"]=l?"PM":"AM",s["%P"]=l?"pm":"am",s["%s"]=Math.floor(this.getTime()/1e3),s["%S"]=u<10?"0"+u:u,s["%t"]="\t",s["%U"]=s["%W"]=s["%V"]=o<10?"0"+o:o,s["%u"]=r+1,s["%w"]=r,s["%y"]=(""+n).substr(2,2),s["%Y"]=n,s["%%"]="%";var f=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml)return t.replace(f,function(t){return s[t]||t});for(var p=t.match(f),g=0;g<p.length;g++){var m=s[p[g]];m&&(f=new RegExp(p[g],"g"),t=t.replace(f,m))}return t},Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear,Date.prototype.setFullYear=function(t){var e=new Date(this);e.__msh_oldSetFullYear(t),e.getMonth()!=this.getMonth()&&this.setDate(28),this.__msh_oldSetFullYear(t)},window._dynarch_popupCalendar=null,
/*  Copyright Mihai Bazon, 2002, 2003  |  http://dynarch.com/mishoo/
 * ---------------------------------------------------------------------------
 *
 * The DHTML Calendar
 *
 * Details and latest version at:
 * http://dynarch.com/mishoo/calendar.epl
 *
 * This script is distributed under the GNU Lesser General Public License.
 * Read the entire license text here: http://www.gnu.org/licenses/lgpl.html
 *
 * This file defines helper functions for setting up the calendar.  They are
 * intended to help non-programmers get a working calendar on their site
 * quickly.  This script should not be seen as part of the calendar.  It just
 * shows you what one can do with the calendar, while in the same time
 * providing a quick and simple method for setting it up.  If you need
 * exhaustive customization of the calendar creation process feel free to
 * modify this code to suit your needs (this is recommended and much better
 * than modifying calendar.js itself).
 */
Calendar.setup=function(t){function e(e,i){"undefined"==typeof t[e]&&(t[e]=i)}function i(t){var e=t.params,i=t.dateClicked||e.electric;i&&e.inputField&&(e.inputField.value=t.date.print(e.ifFormat),"function"==typeof e.inputField.onchange&&e.inputField.onchange()),i&&e.displayArea&&(e.displayArea.innerHTML=t.date.print(e.daFormat)),i&&"function"==typeof e.onUpdate&&e.onUpdate(t),i&&e.flat&&"function"==typeof e.flatCallback&&e.flatCallback(t),i&&e.singleClick&&t.dateClicked&&t.callCloseHandler()}e("inputField",null),e("displayArea",null),e("button",null),e("eventName","click"),e("ifFormat","%Y/%m/%d"),e("daFormat","%Y/%m/%d"),e("singleClick",!0),e("disableFunc",null),e("dateStatusFunc",t.disableFunc),e("dateText",null),e("firstDay",null),e("align","Br"),e("range",[1900,2999]),e("weekNumbers",!0),e("flat",null),e("flatCallback",null),e("onSelect",null),e("onClose",null),e("onUpdate",null),e("date",null),e("showsTime",!1),e("timeFormat","24"),e("electric",!0),e("step",2),e("position",null),e("cache",!1),e("showOthers",!1),e("multiple",null);var n=["inputField","displayArea","button"];for(var o in n)"string"==typeof t[n[o]]&&(t[n[o]]=document.getElementById(t[n[o]]));if(!(t.flat||t.multiple||t.inputField||t.displayArea||t.button))return alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code"),!1;if(null!=t.flat){if("string"==typeof t.flat&&(t.flat=document.getElementById(t.flat)),!t.flat)return alert("Calendar.setup:\n  Flat specified but can't find parent."),!1;var r=new Calendar(t.firstDay,t.date,t.onSelect||i);return r.showsOtherMonths=t.showOthers,r.showsTime=t.showsTime,r.time24="24"==t.timeFormat,r.params=t,r.weekNumbers=t.weekNumbers,r.setRange(t.range[0],t.range[1]),r.setDateStatusHandler(t.dateStatusFunc),r.getDateText=t.dateText,t.ifFormat&&r.setDateFormat(t.ifFormat),t.inputField&&"string"==typeof t.inputField.value&&r.parseDate(t.inputField.value),r.create(t.flat),r.show(),!1}return(t.button||t.displayArea||t.inputField)["on"+t.eventName]=function(){var e=t.inputField||t.displayArea,n=t.inputField?t.ifFormat:t.daFormat,o=!1,r=window.calendar;if(e&&(t.date=Date.parseDate(e.value||e.innerHTML,n)),r&&t.cache?(t.date&&r.setDate(t.date),r.hide()):(window.calendar=r=new Calendar(t.firstDay,t.date,t.onSelect||i,t.onClose||function(t){t.hide()}),r.showsTime=t.showsTime,r.time24="24"==t.timeFormat,r.weekNumbers=t.weekNumbers,o=!0),t.multiple){r.multiple={};for(var s=t.multiple.length;--s>=0;){var a=t.multiple[s],l=a.print("%Y%m%d");r.multiple[l]=a}}return r.showsOtherMonths=t.showOthers,r.yearStep=t.step,r.setRange(t.range[0],t.range[1]),r.params=t,r.setDateStatusHandler(t.dateStatusFunc),r.getDateText=t.dateText,r.setDateFormat(n),o&&r.create(),r.refresh(),t.position?r.showAt(t.position[0],t.position[1]):r.showAtElement(t.button||t.displayArea||t.inputField,t.align),!1},r},Calendar._DN=new Array("Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"),Calendar._SDN=new Array("So","Mo","Di","Mi","Do","Fr","Sa","So"),Calendar._FD=1,Calendar._MN=new Array("Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"),Calendar._SMN=new Array("Jan","Feb","M\xe4r","Apr","May","Jun","Jul","Aug","Sep","Okt","Nov","Dez"),Calendar._TT={},Calendar._TT.INFO="\xdcber dieses Kalendarmodul",Calendar._TT.ABOUT="Datum ausw\xe4hlen:\n- Benutzen Sie die \xab, \xbb Buttons um das Jahr zu w\xe4hlen\n- Benutzen Sie die "+String.fromCharCode(8249)+", "+String.fromCharCode(8250)+" Buttons um den Monat zu w\xe4hlen\n- F\xfcr eine Schnellauswahl halten Sie die Maustaste \xfcber diesen Buttons fest.",Calendar._TT.ABOUT_TIME="\n\nZeit ausw\xe4hlen:\n- Klicken Sie auf die Teile der Uhrzeit, um diese zu erh\xf6hen\n- oder klicken Sie mit festgehaltener Shift-Taste um diese zu verringern\n- oder klicken und festhalten f\xfcr Schnellauswahl.",Calendar._TT.TOGGLE="Ersten Tag der Woche w\xe4hlen",Calendar._TT.PREV_YEAR="Voriges Jahr (Festhalten f\xfcr Schnellauswahl)",Calendar._TT.PREV_MONTH="Voriger Monat (Festhalten f\xfcr Schnellauswahl)",Calendar._TT.GO_TODAY="Heute ausw\xe4hlen",Calendar._TT.NEXT_MONTH="N\xe4chst. Monat (Festhalten f\xfcr Schnellauswahl)",Calendar._TT.NEXT_YEAR="N\xe4chst. Jahr (Festhalten f\xfcr Schnellauswahl)",Calendar._TT.SEL_DATE="Datum ausw\xe4hlen",Calendar._TT.DRAG_TO_MOVE="Zum Bewegen festhalten",Calendar._TT.PART_TODAY=" (Heute)",Calendar._TT.DAY_FIRST="Woche beginnt mit %s ",Calendar._TT.WEEKEND="0,6",Calendar._TT.CLOSE="Schlie\xdfen",Calendar._TT.TODAY="Heute",Calendar._TT.TIME_PART="(Shift-)Klick oder Festhalten und Ziehen um den Wert zu \xe4ndern",Calendar._TT.DEF_DATE_FORMAT="%d.%m.%Y",Calendar._TT.TT_DATE_FORMAT="%a, %d.%m.%Y",Calendar._TT.WK="W",Calendar._TT.TIME="Zeit:",function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(t.jQuery)}(this,function(t){"use strict";t.fn.typeWatch=function(e){function i(e,i){var n=t(e.el).val();(n.length>=r.captureLength&&n.toUpperCase()!=e.text||i&&n.length>=r.captureLength)&&(e.text=n.toUpperCase(),e.cb.call(e.el,n))}function n(e){var n=e.type.toUpperCase();if(t.inArray(n,r.inputTypes)>=0){var o={timer:null,text:t(e).val().toUpperCase(),cb:r.callback,el:e,wait:r.wait};r.highlight&&t(e).focus(function(){this.select()});var s=function(e){var n=o.wait,s=!1,a=this.type.toUpperCase();"undefined"!=typeof e.keyCode&&13==e.keyCode&&"TEXTAREA"!=a&&t.inArray(a,r.inputTypes)>=0&&(n=1,s=!0);var l=function(){i(o,s)};clearTimeout(o.timer),o.timer=setTimeout(l,n)};t(e).on("keydown paste cut input",s)}}var o=["TEXT","TEXTAREA","PASSWORD","TEL","SEARCH","URL","EMAIL","DATETIME","DATE","MONTH","WEEK","TIME","DATETIME-LOCAL","NUMBER","RANGE"],r=t.extend({wait:750,callback:function(){},highlight:!0,captureLength:2,inputTypes:o},e);return this.each(function(){n(this)})}}),
/*! jQuery UI - v1.11.2 - 2014-12-14
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var o,r,s,a=e.nodeName.toLowerCase();return"area"===a?(r=(o=e.parentNode).name,!(!e.href||!r||"map"!==o.nodeName.toLowerCase())&&(!!(s=t("img[usemap='#"+r+"']")[0])&&i(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function n(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",s)}function s(){t.datepicker._isDisabledDatepicker(x.inline?x.dpDiv.parent()[0]:x.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}
/*!
 * jQuery UI Spinner 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
function l(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}var h,c,d,u;
/*!
 * jQuery UI Core 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:(h=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++h)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&e(i,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,r){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return e===undefined?s["inner"+i].call(this):this.each(function(){t(this).css(r,n(this,e)+"px")})},t.fn["outer"+i]=function(e,o){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(c=t.fn.removeData,function(e){return arguments.length?c.call(this,t.camelCase(e)):c.call(this)})),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:(u=t.fn.focus,function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):u.apply(this,arguments)}),disableSelection:(d="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(d+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(e!==undefined)return this.css("zIndex",e);if(this.length)for(var i,n,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var o,r=t.ui[e].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(t,e,i,n){var o,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,i)}};
/*!
 * jQuery UI Widget 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var f=0,p=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{(n=t._data(o,"events"))&&n.remove&&t(o).triggerHandler("remove")}catch(s){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var o,r,s,a,l={},h=e.split(".")[0];return e=e.split(".")[1],o=h+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[h]=t[h]||{},r=t[h][e],s=t[h][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,function(e,n){var o,r;t.isFunction(n)?l[e]=(o=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=o,this._superApply=r,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}):l[e]=n}),s.prototype=t.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||e},l,{constructor:s,namespace:h,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,o=p.call(arguments,1),r=0,s=o.length;r<s;r++)for(i in o[r])n=o[r][i],o[r].hasOwnProperty(i)&&n!==undefined&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,s=p.call(arguments,1),a=this;return o=!r&&s.length?t.widget.extend.apply(null,[o].concat(s)):o,r?this.each(function(){var i,r=t.data(this,n);return"instance"===o?(a=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(i=r[o].apply(r,s))!==r&&i!==undefined?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new i(o,this))}),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=f++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,r,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(n=e.split(".")).shift(),n.length){for(o=s[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(e=n.pop(),1===arguments.length)return o[e]===undefined?null:o[e];o[e]=i}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var o,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,s){function a(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+r.eventNamespace,c=l[2];c?o.delegate(c,h,a):i.bind(h,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,r,s=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?!0===o||"number"==typeof o?i:o.effect||i:e;"number"==typeof(o=o||{})&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}});t.widget;
/*!
 * jQuery UI Mouse 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */var g=!1;t(document).mouseup(function(){g=!1});t.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!g){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),g=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),g=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});
/*!
 * jQuery UI Position 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
/*!
 * jQuery UI Position 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(){function e(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,r,s=Math.max,a=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,f=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(o!==undefined)return o;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return t("body").append(n),e=r.offsetWidth,n.css("overflow","scroll"),e===(i=r.offsetWidth)&&(i=n[0].clientWidth),n.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||o?i.width():i.outerWidth(),height:n||o?i.height():i.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return p.apply(this,arguments);o=t.extend({},o);var f,g,m,_,v,y,b=t(o.of),x=t.position.getWithinInfo(o.within),w=t.position.getScrollInfo(x),k=(o.collision||"flip").split(" "),C={};return y=n(b),b[0].preventDefault&&(o.at="left top"),g=y.width,m=y.height,_=y.offset,v=t.extend({},_),t.each(["my","at"],function(){var t,e,i=(o[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=d.exec(i[0]),e=d.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],o[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===o.at[0]?v.left+=g:"center"===o.at[0]&&(v.left+=g/2),"bottom"===o.at[1]?v.top+=m:"center"===o.at[1]&&(v.top+=m/2),f=e(C.at,g,m),v.left+=f[0],v.top+=f[1],this.each(function(){var n,h,c=t(this),d=c.outerWidth(),u=c.outerHeight(),p=i(this,"marginLeft"),y=i(this,"marginTop"),T=d+p+i(this,"marginRight")+w.width,M=u+y+i(this,"marginBottom")+w.height,S=t.extend({},v),D=e(C.my,c.outerWidth(),c.outerHeight());"right"===o.my[0]?S.left-=d:"center"===o.my[0]&&(S.left-=d/2),"bottom"===o.my[1]?S.top-=u:"center"===o.my[1]&&(S.top-=u/2),S.left+=D[0],S.top+=D[1],r||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:p,marginTop:y},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](S,{targetWidth:g,targetHeight:m,elemWidth:d,elemHeight:u,collisionPosition:n,collisionWidth:T,collisionHeight:M,offset:[f[0]+D[0],f[1]+D[1]],my:o.my,at:o.at,within:x,elem:c})}),o.using&&(h=function(t){var e=_.left-S.left,i=e+g-d,n=_.top-S.top,r=n+m-u,l={target:{element:b,left:_.left,top:_.top,width:g,height:m},element:{element:c,left:S.left,top:S.top,width:d,height:u},horizontal:i<0?"left":e>0?"right":"center",vertical:r<0?"top":n>0?"bottom":"middle"};g<d&&a(e+i)<g&&(l.horizontal="center"),m<u&&a(n+r)<m&&(l.vertical="middle"),s(a(e),a(i))>s(a(n),a(r))?l.important="horizontal":l.important="vertical",o.using.call(this,t,l)}),c.offset(t.extend(S,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,h=a+e.collisionWidth-r-o;e.collisionWidth>r?l>0&&h<=0?(i=t.left+l+e.collisionWidth-r-o,t.left+=l-i):t.left=h>0&&l<=0?o:l>h?o+r-e.collisionWidth:o:l>0?t.left+=l:h>0?t.left-=h:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,h=a+e.collisionHeight-r-o;e.collisionHeight>r?l>0&&h<=0?(i=t.top+l+e.collisionHeight-r-o,t.top+=l-i):t.top=h>0&&l<=0?o:l>h?o+r-e.collisionHeight:o:l>0?t.top+=l:h>0?t.top-=h:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,d=h+e.collisionWidth-s-l,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((i=t.left+u+f+p+e.collisionWidth-s-r)<0||i<a(c))&&(t.left+=u+f+p):d>0&&((n=t.left-e.collisionPosition.marginLeft+u+f+p-l)>0||a(n)<d)&&(t.left+=u+f+p)},top:function(t,e){var i,n,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,d=h+e.collisionHeight-s-l,u="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];c<0?(n=t.top+u+f+p+e.collisionHeight-s-r,t.top+u+f+p>c&&(n<0||n<a(c))&&(t.top+=u+f+p)):d>0&&(i=t.top-e.collisionPosition.marginTop+u+f+p-l,t.top+u+f+p>d&&(i>0||a(i)<d)&&(t.top+=u+f+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");for(s in e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)e.style[s]=n[s];e.appendChild(l),(i=a||document.documentElement).insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=t(l).offset().left,r=o>10&&o<11,e.innerHTML="",i.removeChild(e)}()}();t.ui.position;
/*!
 * jQuery UI Draggable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */t.widget("ui.draggable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(n){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),o=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options,r=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(n=(i=t(o.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=o.containment:this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var o=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i,n){var o=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,i,n){t.each(n.sortables,function(){var o=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",e),n.dropped=r.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var o=t("body"),r=n.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(e,i,n){var o=n.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var o=t(i.helper),r=n.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(e,i,n){var o=n.options;o._opacity&&t(i.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var o=n.options,r=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+s.offsetHeight-e.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:e.pageY-n.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+s.offsetWidth-e.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:e.pageX-n.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var o=n.options;n.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var o,r,s,a,l,h,c,d,u,f,p=n.options,g=p.snapTolerance,m=i.offset.left,_=m+n.helperProportions.width,v=i.offset.top,y=v+n.helperProportions.height;for(u=n.snapElements.length-1;u>=0;u--)h=(l=n.snapElements[u].left-n.margins.left)+n.snapElements[u].width,d=(c=n.snapElements[u].top-n.margins.top)+n.snapElements[u].height,_<l-g||m>h+g||y<c-g||v>d+g||!t.contains(n.snapElements[u].item.ownerDocument,n.snapElements[u].item)?(n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(o=Math.abs(c-y)<=g,r=Math.abs(d-v)<=g,s=Math.abs(l-_)<=g,a=Math.abs(h-m)<=g,o&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left)),f=o||r||s||a,"outer"!==p.snapMode&&(o=Math.abs(c-v)<=g,r=Math.abs(d-y)<=g,s=Math.abs(l-m)<=g,a=Math.abs(h-_)<=g,o&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left)),!n.snapElements[u].snapping&&(o||r||s||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=o||r||s||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var o,r=n.options,s=t.makeArray(t(r.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(o=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var o=t(i.helper),r=n.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(e,i,n){var o=n.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}});t.ui.draggable;
/*!
 * jQuery UI Droppable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */t.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,o){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,l=s+e.helperProportions.height,h=i.offset.left,c=i.offset.top,d=h+i.proportions().width,u=c+i.proportions().height;switch(n){case"fit":return h<=r&&a<=d&&c<=s&&l<=u;case"intersect":return h<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<d&&c<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<u;case"pointer":return t(o.pageY,c,i.proportions().height)&&t(o.pageX,h,i.proportions().width);case"touch":return(s>=c&&s<=u||l>=c&&l<=u||s<c&&l>u)&&(r>=h&&r<=d||a>=h&&a<=d||r<h&&a>d);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,s=t.ui.intersect(e,this,this.options.tolerance,i),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o})).length&&((n=t(r[0]).droppable("instance")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};t.ui.droppable;
/*!
 * jQuery UI Resizable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */t.widget("ui.resizable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0||(e[n]=1,o=e[n]>0,e[n]=0,o)},_create:function(){var e,i,n,o,r=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),(o=t("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:s.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(e){var i,n,o,r;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){s.disabled||r.resizing||(t(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,o=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,n,o,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,o=this.originalMousePosition,r=this.axis,s=e.pageX-o.left||0,a=e.pageY-o.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,o,r,s,a,l,h=this.options,c=this;return this._helper&&(o=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,s={width:c.helper.width()-r,height:c.helper.height()-o},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),s&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&h&&(t.left=a-e.minWidth),n&&h&&(t.left=a-e.maxWidth),s&&c&&(t.top=l-e.minHeight),o&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(o[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,o,r,s,a,l=t(this).resizable("instance"),h=l.options,c=l.element,d=h.containment,u=d instanceof t?d.get(0):/parent/.test(d)?c.parent().get(0):d;u&&(l.containerElement=t(u),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,r=l.containerSize.width,s=l._hasScroll(u,"left")?u.scrollWidth:r,a=l._hasScroll(u)?u.scrollHeight:o,l.parentData={element:u,left:n.left,top:n.top,width:s,height:a}))},resize:function(e){var i,n,o,r,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,h=s.position,c=s._aspectRatio||e.shiftKey,d={top:0,left:0},u=s.containerElement,f=!0;u[0]!==document&&/static/.test(u.css("position"))&&(d=l),h.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),c&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),h.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,c&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,c&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,o=e.containerPosition,r=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,h=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options,i=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?i(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],i(e.alsoResize)):t.each(e.alsoResize,function(t){i(t)})},resize:function(e,i){var n=t(this).resizable("instance"),o=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(e,n){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),r={},s=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var i=(o[e]||0)+(a[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,o=i.size,r=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,h=l[0]||1,c=l[1]||1,d=Math.round((o.width-r.width)/h)*h,u=Math.round((o.height-r.height)/c)*c,f=r.width+d,p=r.height+u,g=n.maxWidth&&n.maxWidth<f,m=n.maxHeight&&n.maxHeight<p,_=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>p;n.grid=l,_&&(f+=h),v&&(p+=c),g&&(f-=h),m&&(p-=c),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=s.top-u):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=s.left-d):((p-c<=0||f-h<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),p-c>0?(i.size.height=p,i.position.top=s.top-u):(p=c-e.height,i.size.height=p,i.position.top=s.top+r.height-p),f-h>0?(i.size.width=f,i.position.left=s.left-d):(f=c-e.height,i.size.width=f,i.position.left=s.left+r.width-f))}});t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=t(i.options.filter,i.element[0])).addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,o=t.data(this,"selectable-item");if(o)return n=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,r=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(i=a,a=r,r=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?h=!(i.left>a||i.right<r||i.top>l||i.bottom<s):"fit"===o.tolerance&&(h=i.left>r&&i.right<a&&i.top>s&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return n=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(o=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||n+h>a&&n+h<l,u="y"===this.options.axis||e+c>r&&e+c<s,f=d&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!n&&(this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,o,r,s,a=[],l=[],h=this._connectWith()
;if(h&&e)for(n=h.length-1;n>=0;n--)for(o=(r=t(h[n])).length-1;o>=0;o--)(s=t.data(r[o],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,o,r,s,a,l,h,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(n=(o=t(u[i])).length-1;n>=0;n--)(r=t.data(o[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(d.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=d.length-1;i>=0;i--)for(s=d[i][1],n=0,h=(a=d[i][0]).length;n<h;n++)(l=t(a[n])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,o,r;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){i&&!n.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,n,o,r,s,a,l,h,c,d,u=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&t.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,s=(c=u.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",d=c?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],h=!1,e[d]-l>this.items[n][a]/2&&(h=!0),Math.abs(e[d]-l)<o&&(o=Math.abs(e[d]-l),r=this.items[n],this.direction=h?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<o.length;n++)o[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))):this._activate(e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,o=this.headers.index(e.target),r=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),r.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),o=n.uniqueId().attr("id");e.attr("aria-controls",o),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=o.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),r=o[0]===n[0],s=r&&i.collapsible,a=s?t():o.next(),l={oldHeader:n,oldPanel:n.next(),newHeader:s?t():o,newPanel:a};e.preventDefault(),r&&!i.collapsible||!1===this._trigger("beforeActivate",e,l)||(i.active=!s&&this.headers.index(o),this.active=r?t():o,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),r||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,i){var n,o,r,s=this,a=0,l=t.length&&(!e.length||t.index()<e.index()),h=this.options.animate||{},c=l&&h.down||h,d=function(){s._toggleComplete(i)};return"number"==typeof c&&(r=c),"string"==typeof c&&(o=c),o=o||c.easing||h.easing,r=r||c.duration||h.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:o,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?a+=i.now:"content"!==s.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,r,o,d):t.animate(this.showProps,r,o,d)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,o,r,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,n=this.previousFilter||"",o=String.fromCharCode(e.keyCode),r=!1,clearTimeout(this.filterTimer),o===n?r=!0:o=n+o,i=this._filterMenuItems(o),(i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(o=String.fromCharCode(e.keyCode),i=this._filterMenuItems(o)),i.length?(this.focus(e,i),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i=this,n=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),o=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(o),e.attr("aria-labelledby",i.attr("id"))}),(e=o.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);i._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,o,r,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),o<0?this.activeMenu.scrollTop(r+o):o+a>s&&this.activeMenu.scrollTop(r+o-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,o;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-n-o<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,n,o;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-n+o>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).text()))})}})
/*!
 * jQuery UI Selectable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */;
/*!
 * jQuery UI Autocomplete 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
t.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,o=this.element[0].nodeName.toLowerCase(),r="textarea"===o,s="input"===o;this.isMultiLine=!!r||!s&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var r=t.ui.keyCode;switch(o.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",o);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case r.UP:e=!0,this._keyEvent("previous",o);break;case r.DOWN:e=!0,this._keyEvent("next",o);break;case r.ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case r.TAB:this.menu.active&&this.menu.select(o);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){var n,o;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});o=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:o})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(o.value),(n=i.item.attr("aria-label")||o.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,o){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});t.ui.autocomplete;
/*!
 * jQuery UI Button 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */var m,_="ui-button ui-widget ui-state-default ui-corner-all",v="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",y=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},b=function(e){var i=e.name,n=e.form,o=t([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),o};t.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,y),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,o=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(_).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===m&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(o)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];b(n).not(n).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),m=this,e.document.one("mouseup",function(){m=null})}).bind("mouseup"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(i.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(_+" ui-state-active "+v).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?b(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(v),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):r.push("ui-button-text-only"),e.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});var x;
/*!
 * jQuery UI Datepicker 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */t.ui.button;t.extend(t.ui,{datepicker:{version:"1.11.2"}}),t.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,o,r;o="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(t(e),o)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):o&&this._inlineDatepicker(e,r)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,o,r,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(o=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:o,title:o}):o)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,o=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,r){var s,l,h,c,d,u=this._dialogInst;return u||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",u)),a(u.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var i,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,o=t(e),r=t.data(e,"datepicker");o.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var o,r,s,l,h=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null;o=i||{},"string"==typeof i&&((o={})[i]=n),h&&(this._curInst===h&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,o),null!==s&&o.dateFormat!==undefined&&o.minDate===undefined&&(h.settings.minDate=this._formatDate(h,s)),null!==l&&o.dateFormat!==undefined&&o.maxDate===undefined&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,r),this._updateAlternate(h),this._updateDatepicker(h))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,o,r=t.datepicker._getInst(e.target),s=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv))[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,o[0]),(i=t.datepicker._get(r,"onSelect"))?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,o=t.datepicker._getInst(e.target);if(t.datepicker._get(o,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(n){}return!0},_showDatepicker:function(e){var i,o,r,s,l,h,c;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(r=(o=t.datepicker._get(i,"beforeShow"))?o.apply(e,[e,i]):{})&&(a(i.settings,r),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return!(s|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),c):i.dpDiv[h||"show"](h?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,x=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),o=n[1],r=17,a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",r*o+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var o=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?o-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+r>h&&h>r?Math.abs(r+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),o=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,o,r,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),o=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,o):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,(r=this._get(s,"onClose"))&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var o=t(e),r=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var o=t(e),r=this._getInst(o[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(o)},_selectDay:function(e,i,n,o){var r,s=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((r=this._getInst(s[0])).selectedDay=r.currentDay=t("a",o).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,o=t(e),r=this._getInst(o[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,o,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e)),t(r).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var o,r,s,a,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,u=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,y=!1,b=function(t){var i=o+1<e.length&&e.charAt(o+1)===t;return i&&o++,i},x=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),r=i.substring(l).match(o);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},w=function(e,n,o){var r=-1,s=t.map(b(e)?o:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=e[0],l+=n.length,!1}),-1!==r)return r+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(y)"'"!==e.charAt(o)||b("'")?k():y=!1;else switch(e.charAt(o)){case"d":_=x("d");break;case"D":w("D",d,u);break;case"o":v=x("o");break;case"m":m=x("m");break;case"M":m=w("M",f,p);break;case"y":g=x("y");break;case"@":g=(a=new Date(x("@"))).getFullYear(),m=a.getMonth()+1,_=a.getDate();break;case"!":g=(a=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,_=a.getDate();break;case"'":b("'")?k():y=!0;break;default:k()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),v>-1)for(m=1,_=v;;){if(_<=(r=this._getDaysInMonth(g,m-1)))break;m++,_-=r}if((a=this._daylightSavingAdjust(new Date(g,m-1,_))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==_)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},d="",u=!1;if(e)for(n=0;n<t.length;n++)if(u)"'"!==t.charAt(n)||l("'")?d+=t.charAt(n):u=!1;else switch(t.charAt(n)){case"d":d+=h("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),o,r);break;case"o":d+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=h("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),s,a);break;case"y":d+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":u=!0;break;default:d+=t.charAt(n)}return d},_possibleChars:function(t){var e,i="",n=!1,o=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||o("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,s=this._getFormatConfig(t);try{r=this.parseDate(i,n,s)||o}catch(a){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(h){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),r=n.getMonth(),s=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,r))}l=a.exec(i)}return new Date(o,r,s)}(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return(r=r&&"Invalid Date"===r.toString()?n:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,r,s,a,l,h,c,d,u,f,p,g,m,_,v,y,b,x,w,k,C,T,M,S,D,j,A,P,E,I,L,O,z,N,F,R,H=new Date,B=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),W=this._get(t,"isRTL"),$=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),Z=this._get(t,"stepMonths"),K=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-V,tt=t.drawYear;if(Q<0&&(Q+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=X&&e<X?X:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)--Q<0&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,i=this._get(t,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Q-Z,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=q?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Q+Z,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?G:B,s=q?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(W?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),u=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),b="",w=0;w<U[0];w++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if(T=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),M=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",M=" ui-corner-"+(W?"right":"left");break;case U[1]-1:S+=" ui-datepicker-group-last",M=" ui-corner-"+(W?"left":"right");break;default:S+=" ui-datepicker-group-middle",M=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===w?W?r:n:"")+(/all|right/.test(M)&&0===w?W?n:r:"")+this._generateMonthYearHeader(t,Q,tt,X,J,w>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)D+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[j=(x+c)%7]+"'>"+f[j]+"</span></th>";for(S+=D+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),P=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,E=Math.ceil((P+A)/7),I=K&&this.maxRows>E?this.maxRows:E,this.maxRows=I,L=this._daylightSavingAdjust(new Date(tt,Q,1-P)),O=0;O<I;O++){for(S+="<tr>",z=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",x=0;x<7;x++)N=m?m.apply(t.input?t.input[0]:null,[L]):[!0,""],R=(F=L.getMonth()!==Q)&&!v||!N[0]||X&&L<X||J&&L>J,z+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(L.getTime()===T.getTime()&&Q===t.selectedMonth&&t._keyEvent||y.getTime()===L.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+N[1]+(L.getTime()===G.getTime()?" "+this._currentClass:"")+(L.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===B.getTime()?" ui-state-highlight":"")+(L.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);S+=z+"</tr>"}++Q>11&&(Q=0,tt++),k+=S+="</tbody></table>"+(K?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=k}return b+=h,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,o,r,s,a){var l,h,c,d,u,f,p,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(r||!m)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=o&&o.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!h||c<=o.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(v||(y+=b+(!r&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!_)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(e)?u:e})(d[0]),g=Math.max(p,f(d[1]||"")),p=n?Math.max(p,n.getFullYear()):p,g=o?Math.min(g,o.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),v&&(y+=(!r&&m&&_?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),o=t.drawMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&e<i?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){
"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new o,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.2";t.datepicker,t.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(i=this.document[0].activeElement)&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(o){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),r=Math.max.apply(null,o);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){o.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var o,r;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(e.element[0],arguments)},r={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(r).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(o))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(o,r){var s=r.offset.left-i.document.scrollLeft(),a=r.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,e(r))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,o=n.resizable,r=this.uiDialog.css("position"),s="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,o){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(o))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(o,r){var s=i.uiDialog.offset(),a=s.left-i.document.scrollLeft(),l=s.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,e(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,o={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(o[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var i,n,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&((i=o.is(":data(ui-draggable)"))&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((n=o.is(":data(ui-resizable)"))&&!e&&o.resizable("destroy"),n&&"string"==typeof e&&o.resizable("option","handles",e),n||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(t===undefined)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return t===undefined&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",{version:"1.11.2",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,i=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var n=this,o="";t.each(i,function(i,r){r.optgroup!==o&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:r.optgroup}).appendTo(e),o=r.optgroup),n._renderItemData(e,r)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),(n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](o).eq(-1):i[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,n){var o=t(n),r=o.parent("optgroup");i.push({element:o,index:e,value:o.attr("value"),label:o.text(),optgroup:r.attr("label")||"",disabled:r.prop("disabled")||o.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;e<i;e++)s.push(r);this.handles=o.add(t(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,o,r,s,a,l,h=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-h.values(e));(o>i||o===i&&(e===h._lastChangedValue||h.values(e)===c.min))&&(o=i,r=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,r.addClass("ui-state-active").focus(),a=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),r=this._valueMin()+n*o,this._trimAlignValue(r)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,o,r;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&((o=this.values())[e]=i,r=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),n=this.values(e?0:1),!1!==r&&this.values(e,i))):i!==this.value()&&!1!==(r=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,o,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,o=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(o[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,o=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<o;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-t},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,o,r,s=this.options.range,a=this.options,l=this,h=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),o=this._valueMin(),r=this._valueMax(),i=r!==o?(n-o)/(r-o)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var i,n,o,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,r)))return}switch(o=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-o)}this._slide(e,r,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},
_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var o=i.attr(n);o!==undefined&&o.length&&(e[n]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:l(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:l(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:l(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:l(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());l(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(w=/#.*$/,function(t){var e,i;e=(t=t.cloneNode(!1)).href.replace(w,""),i=location.href.replace(w,"");try{e=decodeURIComponent(e)}catch(n){}try{i=decodeURIComponent(i)}catch(n){}return t.hash.length>1&&e===i}),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,o){if(t(o).attr("aria-controls")===n)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>o&&(e=0),e<0&&(e=o),e}for(var o=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,o=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var o,r,s,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),h=l.attr("aria-controls");e._isLocal(n)?(s=(o=n.hash).substring(1),r=e.element.find(e._sanitizeSelector(o))):(o="#"+(s=l.attr("aria-controls")||t({}).uniqueId()[0].id),(r=e.element.find(o)).length||(r=e._createPanel(s)).insertAfter(e.panels[i-1]||e.tablist),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),h&&l.data("ui-tabs-aria-controls",h),l.attr({"aria-controls":s,"aria-labelledby":a}),r.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(o.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)!0===e||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget).closest("li"),r=o[0]===n[0],s=r&&i.collapsible,a=s?t():this._getPanelForTab(o),l=n.length?this._getPanelForTab(n):t(),h={oldTab:n,oldPanel:l,newTab:s?t():o,newPanel:a};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||!1===this._trigger("beforeActivate",e,h)||(i.active=!s&&this.tabs.index(o),this.active=r?t():o,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(o),e),this._toggle(e,h))},_toggle:function(e,i){function n(){r.running=!1,r._trigger("activate",e,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,n):(s.show(),n())}var r=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(e===undefined?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(e===undefined)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,o=this.tabs.eq(e),r=o.find(".ui-tabs-anchor"),s=this._getPanelForTab(o),a={tab:o,panel:s};this._isLocal(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){s.html(t),n._trigger("load",i,a)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,n){var o=this;return{url:e.attr("href"),beforeSend:function(e,r){return o._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:r},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.widget("ui.tooltip",{version:"1.11.2",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(i,n);-1!==o&&n.splice(o,1),e.removeData("ui-tooltip-id"),(n=t.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;if("disabled"===e)return this[i?"_disable":"_enable"](),void(this.options[e]=i);this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n.element[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,o=this,r=e?e.type:null;if("string"==typeof n)return this._open(e,t,n);(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&o._delay(function(){e&&(e.type=r),this._open(e,t,i)})}))&&this._open(e,t,i)},_open:function(e,i,n){function o(t){c.of=t,s.is(":hidden")||s.position(c)}var r,s,a,l,h,c=t.extend({},this.options.position);n&&((r=this._find(i))?r.tooltip.find(".ui-tooltip-content").html(n):(i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),s=r.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(h=n.clone()).removeAttr("id").find("[id]").removeAttr("id"):h=n,t("<div>").html(h).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:o}),o(e)):s.position(t.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){s.is(":visible")&&(o(c.of),clearInterval(l))},t.fx.interval)),this._trigger("open",e,{tooltip:s}),a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}},i[0]!==this.element[0]&&(a.remove=function(){this._removeTooltip(s)}),e&&"mouseover"!==e.type||(a.mouseleave="close"),e&&"focusin"!==e.type||(a.focusout="close"),this._on(!0,i,a)))},close:function(e){var i,n=this,o=t(e?e.currentTarget:this.element),r=this._find(o);r&&(i=r.tooltip,r.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),r.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:i}),r.hiding||(r.closing=!1)))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur"),r=n.element;o.target=o.currentTarget=r[0],e.close(o,!0),t("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})
/*!
 * jQuery UI Dialog 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */;var w,k,C="ui-effects-",T=t;t.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function i(t,e,i){var n=d[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=h(),n=i._rgba=[];return e=e.toLowerCase(),p(l,function(t,o){var r,s=o.re.exec(e),a=s&&o.parse(s),l=o.space||"rgba";if(a)return r=i[l](a),i[c[l].cache]=r[c[l].cache],n=i._rgba=r._rgba,!1}),n.length?("0,0,0,0"===n.join()&&t.extend(n,r.transparent),i):r[e]}function o(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=h.support={},f=t("<p>")[0],p=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(o,s,a,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(s),s=e);var d=this,u=t.type(o),f=this._rgba=[];return s!==e&&(o=[o,s,a,l],u="array"),"string"===u?this.parse(n(o)||r._default):"array"===u?(p(c.rgba.props,function(t,e){f[e.idx]=i(o[e.idx],e)}),this):"object"===u?(p(c,o instanceof h?function(t,e){o[e.cache]&&(d[e.cache]=o[e.cache].slice())}:function(e,n){var r=n.cache;p(n.props,function(t,e){if(!d[r]&&n.to){if("alpha"===t||null==o[t])return;d[r]=n.to(d._rgba)}d[r][e.idx]=i(o[t],e,!0)}),d[r]&&t.inArray(null,d[r].slice(0,3))<0&&(d[r][3]=1,n.from&&(d._rgba=n.from(d[r])))}),this):void 0},is:function(t){var e=h(t),i=!0,n=this;return p(c,function(t,o){var r,s=e[o.cache];return s&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],p(o.props,function(t,e){if(null!=s[e.idx])return i=s[e.idx]===r[e.idx]})),i}),i},_space:function(){var t=[],e=this;return p(c,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=h(t),o=n._space(),r=c[o],s=0===this.alpha()?h("transparent"):this,a=s[r.cache]||r.to(s._rgba),l=a.slice();return n=n[r.cache],p(r.props,function(t,o){var r=o.idx,s=a[r],h=n[r],c=d[o.type]||{};null!==h&&(null===s?l[r]=h:(c.mod&&(h-s>c.mod/2?s+=c.mod:s-h>c.mod/2&&(s-=c.mod)),l[r]=i((h-s)*e+s,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=h(e)._rgba;return h(t.map(i,function(t,e){return(1-n)*o[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(n,o,r),l=Math.min(n,o,r),h=a-l,c=a+l,d=.5*c;return e=l===a?0:n===a?60*(o-r)/h+360:o===a?60*(r-n)/h+120:60*(n-o)/h+240,i=0===h?0:d<=.5?h/c:h/(2-c),[Math.round(e)%360,i,d,null==s?1:s]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],s=n<=.5?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*o(a,s,e+1/3)),Math.round(255*o(a,s,e)),Math.round(255*o(a,s,e-1/3)),r]},p(c,function(n,o){var r=o.props,s=o.cache,l=o.to,c=o.from;h.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var o,a=t.type(n),d="array"===a||"object"===a?n:arguments,u=this[s].slice();return p(r,function(t,e){var n=d["object"===a?t:e.idx];null==n&&(n=u[e.idx]),u[e.idx]=i(n,e)}),c?((o=h(c(u)))[s]=u,o):h(u)},p(r,function(e,i){h.fn[e]||(h.fn[e]=function(o){var r,s=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":n,h=this[l](),c=h[i.idx];return"undefined"===s?c:("function"===s&&(o=o.call(this,c),s=t.type(o)),null==o&&i.empty?this:("string"===s&&(r=a.exec(o))&&(o=c+parseFloat(r[2])*("+"===r[1]?1:-1)),h[i.idx]=o,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,o){var r,s,a="";if("transparent"!==o&&("string"!==t.type(o)||(r=n(o)))){if(o=h(r||o),!u.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(T),function(){function e(e){var i,n,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)"string"==typeof o[i=o[n]]&&(r[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(r[i]=o[i]);return r}function i(e,i){var n,o,s={};for(n in i)o=i[n],e[n]!==o&&(r[n]||!t.fx.step[n]&&isNaN(parseFloat(o))||(s[n]=o));return s}var n,o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(T.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,r,s,a){var l=t.speed(r,s,a);return this.queue(function(){var r,s=t(this),a=s.attr("class")||"",h=l.children?s.find("*").addBack():s;h=h.map(function(){return{el:t(this),start:e(this)}}),(r=function(){t.each(o,function(t,e){n[e]&&s[e+"Class"](n[e])})})(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,h.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:(n=t.fn.addClass,function(e,i,o,r){return i?t.effects.animateClass.call(this,{add:e},i,o,r):n.apply(this,arguments)}),removeClass:function(e){return function(i,n,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,o,r,s){return"boolean"==typeof n||n===undefined?o?t.effects.animateClass.call(this,n?{add:i}:{remove:i},o,r,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,o,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,o,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,o,r)}})}(),function(){function e(e,i,n,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=n,n=i,i={}),t.isFunction(n)&&(o=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=o||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}var n;t.extend(t.effects,{version:"1.11.2",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(C+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;n<e.length;n++)null!==e[n]&&((i=t.data(C+e[n]))===undefined&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,o){return o=o||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])}),o}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(r)&&r.call(o[0]),t.isFunction(e)&&e()}var o=t(this),r=n.complete,a=n.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),i()):s.call(o[0],n,i)}var n=e.apply(this,arguments),o=n.mode,r=n.queue,s=t.effects.effect[n.effect];return t.fx.off||!s?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):!1===r?this.each(i):this.queue(r||"fx",i)},show:(n=t.fn.show,function(t){if(i(t))return n.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),k={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){k[e]=function(e){return Math.pow(e,t+2)}}),t.extend(k,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(k,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}});t.effects,t.effects.effect.blind=function(e,i){var n,o,r,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(s,e.mode||"hide"),d=e.direction||"up",u=a.test(d),f=u?"height":"width",p=u?"top":"left",g=l.test(d),m={},_="show"===c;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),h):t.effects.save(s,h),s.show(),o=(n=t.effects.createWrapper(s).css({overflow:"hidden"}))[f](),r=parseFloat(n.css(p))||0,m[f]=_?o:0,g||(s.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),m[p]=_?r:o+r),_&&(n.css(f,0),g||n.css(p,r+o)),n.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&s.hide(),t.effects.restore(s,h),t.effects.removeWrapper(s),i()}})},t.effects.effect.bounce=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),h="hide"===l,c="show"===l,d=e.direction||"up",u=e.distance,f=e.times||5,p=2*f+(c||h?1:0),g=e.duration/p,m=e.easing,_="up"===d||"down"===d?"top":"left",v="up"===d||"left"===d,y=s.queue(),b=y.length;for((c||h)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),u||(u=s["top"===_?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[_]=0,s.css("opacity",0).css(_,v?2*-u:2*u).animate(r,g,m)),h&&(u/=Math.pow(2,f-1)),(r={})[_]=0,n=0;n<f;n++)(o={})[_]=(v?"-=":"+=")+u,s.animate(o,g,m).animate(r,g,m),u=h?2*u:u/2;h&&((o={opacity:0})[_]=(v?"-=":"+=")+u,s.animate(o,g,m)),s.queue(function(){h&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),b>1&&y.splice.apply(y,[1,0].concat(y.splice(b,p+1))),s.dequeue()},t.effects.effect.clip=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],l="show"===t.effects.setMode(s,e.mode||"hide"),h="vertical"===(e.direction||"vertical"),c=h?"height":"width",d=h?"top":"left",u={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),r=(o="IMG"===s[0].tagName?n:s)[c](),l&&(o.css(c,0),o.css(d,r/2)),u[c]=l?r:0,u[d]=l?0:r/2,o.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})},t.effects.effect.drop=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(o,e.mode||"hide"),a="show"===s,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};t.effects.save(o,r),o.show(),t.effects.createWrapper(o),n=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(h,"pos"===c?-n:n),d[h]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})},t.effects.effect.explode=function(e,i){function n(){v.push(this),v.length===d*u&&o()}function o(){f.css({visibility:"visible"}),t(v).remove(),p||f.hide(),i()}var r,s,a,l,h,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=d,f=t(this),p="show"===t.effects.setMode(f,e.mode||"hide"),g=f.show().css("visibility","hidden").offset(),m=Math.ceil(f.outerWidth()/u),_=Math.ceil(f.outerHeight()/d),v=[];for(r=0;r<d;r++)for(l=g.top+r*_,c=r-(d-1)/2,s=0;s<u;s++)a=g.left+s*m,h=s-(u-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*m,top:-r*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:_,left:a+(p?h*m:0),top:l+(p?c*_:0),opacity:p?0:1}).animate({left:a+(p?0:h*m),top:l+(p?0:c*_),opacity:p?1:0},e.duration||500,e.easing,n)},t.effects.effect.fade=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var n,o,r=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"hide"),l="show"===a,h="hide"===a,c=e.size||15,d=/([0-9]+)%/.exec(c),u=!!e.horizFirst,f=l!==u,p=f?["width","height"]:["height","width"],g=e.duration/2,m={},_={};t.effects.save(r,s),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),o=f?[n.width(),n.height()]:[n.height(),n.width()],d&&(c=parseInt(d[1],10)/100*o[h?0:1]),l&&n.css(u?{height:0,width:c}:{height:c,width:0}),m[p[0]]=l?o[0]:c,_[p[1]]=l?o[1]:0,n.animate(m,g,e.easing).animate(_,g,e.easing,function(){h&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),i()})},t.effects.effect.highlight=function(e,i){var n=t(this),o=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),t.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),t.effects.restore(n,o),i()}})},t.effects.effect.size=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=t.effects.setMode(s,e.mode||"effect"),p=e.restore||"effect"!==f,g=e.scale||"both",m=e.origin||["middle","center"],_=s.css("position"),v=p?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===f?(s.from=e.to||y,s.to=e.from||n):(s.from=e.from||("show"===f?y:n),s.to=e.to||("hide"===f?y:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},"box"!==g&&"both"!==g||(r.from.y!==r.to.y&&(v=v.concat(d),s.from=t.effects.setTransition(s,d,r.from.y,s.from),s.to=t.effects.setTransition(s,d,r.to.y,s.to)),r.from.x!==r.to.x&&(v=v.concat(u),s.from=t.effects.setTransition(s,u,r.from.x,s.from),s.to=t.effects.setTransition(s,u,r.to.x,s.to))),"content"!==g&&"both"!==g||r.from.y!==r.to.y&&(v=v.concat(c).concat(h),s.from=t.effects.setTransition(s,c,r.from.y,s.from),s.to=t.effects.setTransition(s,c,r.to.y,s.to)),t.effects.save(s,v),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(o=t.effects.getBaseline(m,n),s.from.top=(n.outerHeight-s.outerHeight())*o.y,s.from.left=(n.outerWidth-s.outerWidth())*o.x,s.to.top=(n.outerHeight-s.to.outerHeight)*o.y,s.to.left=(n.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),"content"!==g&&"both"!==g||(d=d.concat(["marginTop","marginBottom"]).concat(c),u=u.concat(["marginLeft","marginRight"]),h=a.concat(d).concat(u),s.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&t.effects.save(i,h),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=t.effects.setTransition(i,d,r.from.y,i.from),i.to=t.effects.setTransition(i,d,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=t.effects.setTransition(i,u,r.from.x,i.from),i.to=t.effects.setTransition(i,u,r.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){p&&t.effects.restore(i,h)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===f&&s.hide(),t.effects.restore(s,v),p||("static"===_?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,i){var n=parseInt(i,10),o=t?s.to.left:s.to.top;return"auto"===i?o+"px":n+o+"px"})})),t.effects.removeWrapper(s),i()}})},t.effects.effect.scale=function(e,i){var n=t(this),o=t.extend(!0,{},e),r=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),a=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:h),o.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},t.effects.effect.puff=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"hide"),r="hide"===o,s=parseInt(e.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?s:100,from:r?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.pulsate=function(e,i){var n,o=t(this),r=t.effects.setMode(o,e.mode||"show"),s="show"===r,a="hide"===r,l=s||"hide"===r,h=2*(e.times||5)+(l?1:0),c=e.duration/h,d=0,u=o.queue(),f=u.length;for(!s&&o.is(":visible")||(o.css("opacity",0).show(),d=1),n=1;n<h;n++)o.animate({opacity:d},c,e.easing),d=1-d;o.animate({opacity:d},c,e.easing),o.queue(function(){a&&o.hide(),i()}),f>1&&u.splice.apply(u,[1,0].concat(u.splice(f,h+1))),o.dequeue()},t.effects.effect.shake=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(o,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,d=Math.round(e.duration/c),u="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,p={},g={},m={},_=o.queue(),v=_.length;for(t.effects.save(o,r),o.show(),t.effects.createWrapper(o),p[u]=(f?"-=":"+=")+l,g[u]=(f?"+=":"-=")+2*l,m[u]=(f?"-=":"+=")+2*l,o.animate(p,d,e.easing),n=1;n<h;n++)o.animate(g,d,e.easing).animate(m,d,e.easing);o.animate(g,d,e.easing).animate(p,d/2,e.easing).queue(function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),v>1&&_.splice.apply(_,[1,0].concat(_.splice(v,c+1))),o.dequeue()},t.effects.effect.slide=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(o,e.mode||"show"),a="show"===s,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d={};t.effects.save(o,r),o.show(),n=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(h,c?isNaN(n)?"-"+n:-n:n),d[h]=(a?c?"+=":"-=":c?"-=":"+=")+n,o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})},t.effects.effect.transfer=function(e,i){var n=t(this),o=t(e.to),r="fixed"===o.css("position"),s=t("body"),a=r?s.scrollTop():0,l=r?s.scrollLeft():0,h=o.offset(),c={top:h.top-a,left:h.left-l,height:o.innerHeight(),width:o.innerWidth()},d=n.offset(),u=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){u.remove(),i()})}
/*!
 * jQuery UI Effects Blind 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */}),function(){"use strict";function t(t){function e(e,n){var r,g,m=e==window,_=n&&n.message!==undefined?n.message:undefined;if(!(n=t.extend({},t.blockUI.defaults,n||{})).ignoreIfBlocked||!t(e).data("blockUI.isBlocked")){if(n.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,n.overlayCSS||{}),r=t.extend({},t.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),g=t.extend({},t.blockUI.defaults.themedCSS,n.themedCSS||{}),_=_===undefined?n.message:_,m&&f&&i(window,{fadeOut:0}),_&&"string"!=typeof _&&(_.parentNode||_.jquery)){var v=_.jquery?_[0]:_,y={};t(e).data("blockUI.history",y),y.el=v,y.parent=v.parentNode,y.display=v.style.display,y.position=v.style.position,y.parent&&y.parent.removeChild(v)}t(e).data("blockUI.onUnblock",n.onUnblock);var b,x,w,k,C=n.baseZ;b=c||n.forceIframe?t('<iframe class="blockUI" style="z-index:'+C+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>'):t('<div class="blockUI" style="display:none"></div>'),x=n.theme?t('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+C+++';display:none"></div>'):t('<div class="blockUI blockOverlay" style="z-index:'+C+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&m?(k='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:fixed">',n.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):n.theme?(k='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:absolute">',n.title&&(k+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),k+='<div class="ui-widget-content ui-dialog-content"></div>',k+="</div>"):k=m?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(C+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(C+10)+';display:none;position:absolute"></div>',w=t(k),_&&(n.theme?(w.css(g),w.addClass("ui-widget-content")):w.css(r)),n.theme||x.css(n.overlayCSS),x.css("position",m?"fixed":"absolute"),(c||n.forceIframe)&&b.css("opacity",0);var T=[b,x,w],M=t(m?"body":e);t.each(T,function(){this.appendTo(M)}),n.theme&&n.draggable&&t.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var S=u&&(!t.support.boxModel||t("object,embed",m?null:e).length>0);if(d||S){if(m&&n.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(d||!t.support.boxModel)&&!m)var D=l(e,"borderTopWidth"),j=l(e,"borderLeftWidth"),A=D?"(0 - "+D+")":0,P=j?"(0 - "+j+")":0;t.each(T,function(t,e){var i=e[0].style;if(i.position="absolute",t<2)m?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),P&&i.setExpression("left",P),A&&i.setExpression("top",A);else if(n.centerY)m&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!n.centerY&&m){var o="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(n.css&&n.css.top?parseInt(n.css.top,10):0)+') + "px"';i.setExpression("top",o)}})}if(_&&(n.theme?w.find(".ui-widget-content").append(_):w.append(_),(_.jquery||_.nodeType)&&t(_).show()),(c||n.forceIframe)&&n.showOverlay&&b.show(),n.fadeIn){var E=n.onBlock?n.onBlock:h,I=n.showOverlay&&!_?E:h,L=_?E:h;n.showOverlay&&x._fadeIn(n.fadeIn,I),_&&w._fadeIn(n.fadeIn,L)}else n.showOverlay&&x.show(),_&&w.show(),n.onBlock&&n.onBlock.bind(w)();if(o(1,e,n),m?(f=w[0],p=t(n.focusableElements,f),n.focusInput&&setTimeout(s,20)):a(w[0],n.centerX,n.centerY),n.timeout){var O=setTimeout(function(){m?t.unblockUI(n):t(e).unblock(n)},n.timeout);t(e).data("blockUI.timeout",O)}}}function i(e,i){var r,s,a=e==window,l=t(e),h=l.data("blockUI.history"),c=l.data("blockUI.timeout");c&&(clearTimeout(c),l.removeData("blockUI.timeout")),i=t.extend({},t.blockUI.defaults,i||{}),o(0,e,i),null===i.onUnblock&&(i.onUnblock=l.data("blockUI.onUnblock"),l.removeData("blockUI.onUnblock")),s=a?t("body").children().filter(".blockUI").add("body > .blockUI"):l.find(">.blockUI"),i.cursorReset&&(s.length>1&&(s[1].style.cursor=i.cursorReset),s.length>2&&(s[2].style.cursor=i.cursorReset)),a&&(f=p=null),i.fadeOut?(r=s.length,s.stop().fadeOut(i.fadeOut,function(){0==--r&&n(s,h,i,e)})):n(s,h,i,e)}function n(e,i,n,o){var r=t(o);if(!r.data("blockUI.isBlocked")){e.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),r.removeData("blockUI.history")),r.data("blockUI.static")&&r.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(o,n);var s=t(document.body),a=s.width(),l=s[0].style.width;s.width(a-1).width(a),s[0].style.width=l}}function o(e,i,n){var o=i==window,s=t(i);if((e||(!o||f)&&(o||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",e),o&&n.bindEvents&&(!e||n.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(a,n,r):t(document).unbind(a,r)}}function r(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&f&&e.data.constrainTabKey){var i=p,n=!e.shiftKey&&e.target===i[i.length-1],o=e.shiftKey&&e.target===i[0];if(n||o)return setTimeout(function(){s(o)},10),!1}var r=e.data,a=t(e.target);return a.hasClass("blockOverlay")&&r.onOverlayClick&&r.onOverlayClick(e),a.parents("div."+r.blockMsgClass).length>0||0===a.parents().children().filter("div.blockUI").length}function s(t){if(p){var e=p[!0===t?p.length-1:0];e&&e.focus()}}function a(t,e,i){var n=t.parentNode,o=t.style,r=(n.offsetWidth-t.offsetWidth)/2-l(n,"borderLeftWidth"),s=(n.offsetHeight-t.offsetHeight)/2-l(n,"borderTopWidth");e&&(o.left=r>0?r+"px":"0"),i&&(o.top=s>0?s+"px":"0")}function l(e,i){return parseInt(t.css(e,i),10)||0}t.fn._fadeIn=t.fn.fadeIn;var h=t.noop||function(){},c=/MSIE/.test(navigator.userAgent),d=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),u=(document.documentMode,t.isFunction(document.createElement("div").style.setExpression));t.blockUI=function(t){e(window,t)},t.unblockUI=function(t){i(window,t)},t.growlUI=function(e,i,n,o){var r=t('<div class="growlUI"></div>');e&&r.append("<h1>"+e+"</h1>"),i&&r.append("<h2>"+i+"</h2>"),n===undefined&&(n=3e3);var s=function(e){e=e||{},t.blockUI({message:r,fadeIn:"undefined"!=typeof e.fadeIn?e.fadeIn:700,fadeOut:"undefined"!=typeof e.fadeOut?e.fadeOut:1e3,timeout:"undefined"!=typeof e.timeout?e.timeout:n,centerY:!1,showOverlay:!1,onUnblock:o,css:t.blockUI.defaults.growlCSS})};s();r.css("opacity");r.mouseover(function(){s({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){t(".blockMsg").fadeOut(1e3)})},t.fn.block=function(i){if(this[0]===window)return t.blockUI(i),this;var n=t.extend({},t.blockUI.defaults,i||{});return this.each(function(){var e=t(this);n.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,e(this,i)})},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each(function(){i(this,e)})},t.blockUI.version=2.7,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var f=null,p=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}();var TISS=TISS||{};TISS.helpers=TISS.helpers||{},TISS.schnellsucheHelper={animationsdauer:200,positioniereDiv:function(){var t=TISS.schnellsucheHelper.positioniereDiv.arguments,e=$j(t[0]),i=$j(t[1]),n=5,o=5;t.length>=3&&(n=t[2]),t.length>=4&&(o=t[3]);var r=i.offset(),s=$j(window).width(),a=$j(window).height(),l=$j(window).scrollLeft()+s-(r.left+e.outerWidth()+n),h=$j(window).scrollTop()+a-(r.top+e.outerHeight()+o);l>0&&(l=0),h>0&&(h=0),e.get(0).style.position="absolute",e.get(0).style.left=Math.max(r.left+l-200,0)+"px",e.get(0).style.top=r.top+h-100+"px"},schnellsucheAusblenden:function(){var t=TISS.schnellsucheHelper.schnellsucheAusblenden.arguments,e="#"+t[0]+"_div";$j(e).hide("blind",{direction:"vertical"},this.animationsdauer,function(){$j(e).remove(),t.length>1&&$j.event.trigger({type:t[0]+"_after_changed",suchstring:t[1],formId:t[2]})})}},jQuery(document).ready(setFocusToFirstInputInForm),function(t){t.globalMessage=function(e,i){t("<li/>").addClass(e+"Message").html(i).appendTo("#globalMessagesPanel")}}(jQuery),TISS.helpers.isInDevmode=function(){return $j("div#development-info:contains(development),div#development-info:contains(staging)").size()>0},$j.blockUI.defaults.message=null,$j.blockUI.defaults.overlayCSS.backgroundColor="#000",$j.blockUI.defaults.overlayCSS.opacity=.1,$doc.ajaxStart($j.blockUI).ajaxStop($j.unblockUI),TISS.helpers||(TISS.helpers={}),TISS.helpers.FilterableList=function(t,e){function i(e){s.on("submit",function(t){t.preventDefault()}),this.inputfeld.on("keyup",function(e){e.preventDefault(),t.filterableList.filter()}),this.subFilters.forEach(function(e){e.inputs.each(function(e,i){$j(i).on("change",function(){t.filterableList.filter()})})}),e&&(""!==this.inputfeld.val()||this.subFilters.length>0)&&t.filterableList.filter()}function n(){let e=[];s.find(".rtiss-fliph-subfilter-block").each(function(t,i){e.push({inputs:$j(i).find("input"),selector:$j(i).data("rtiss-fliph-subfilter-selector")})}),t.filterableList.subFilters=e}function o(){n();let t,e=this.list.children(this.tag),i=this;e.each(function(e){i.selector?(t=$j.map($j(this).find(i.selector),function(t){return $j(t).text().toLowerCase()}),i.debug&&$j(this).find(i.selector).css("backgroundColor","yellow")):t=new Array($j(this).text().toLowerCase());let n={};i.subFilters.forEach(function(t){let e;e=t.selector?$j.map($j(this).find(t.selector),function(t){return $j(t).text().toLowerCase()}):new Array($j(this).text().toLowerCase()),n[t]=e},this),i.elements[e]={text:t,subfilterTexts:n,knoten:this,toggleOnMatch:function(t){let e=!1;for(let i=0;i<this.text.length;i++)-1!==this.text[i].indexOf(t)&&(e=!0);i.subFilters.forEach(function(t){let i=!1,n=null,o=!1;if(t.inputs.each(function(t,e){$j(e).is(":checked")&&(1!==$j(e).data("rtiss-fliph-subfilter-is-all-option")&&(n=new RegExp($j(e).val(),"si")),o=1===$j(e).data("rtiss-fliph-subfilter-merge-texts"))}),null===n)i=!0;else{let e=this.subfilterTexts[t];o&&(console.log("merging texts"),e=[e.join("\n")]),e.forEach(function(t){console.log(t),console.log(n),console.log(t.match(n)),i=i||n.test(t)},this)}e=e&&i},this),e?$j(this.knoten).show():$j(this.knoten).hide()}}})}function r(){let e=t.filterableList.inputfeld.val().toLowerCase().trim();for(let i=0;i<this.elements.length;i++)t.filterableList.elements[i].toggleOnMatch(e)}t.filterableList=this;let s=$j(t);this.debug=e||!1,this.tag=s.data("rtiss-fliph-tags"),this.selector=s.data("rtiss-fliph-selector"),this.list=$j(s.data("rtiss-fliph-list")),this.elements=[],this.inputfeld=$j(s.find("input[type=text]").first()),this.subFilters=[],this.filter=r,this.init=o,this.setupHooks=i,this.init()},$doc.ready(function(){$j("form[data-rtiss-fliph-tags]").each(function(){new TISS.helpers.FilterableList(this,!1).setupHooks(!0),$j(this).show()})}),TISS.helpers||(TISS.helpers={}),TISS.helpers.visibilitySelect||(TISS.helpers.visibilitySelect={}),TISS.helpers.jQuery||(TISS.helpers.jQuery={}),$doc.ready(function(){$j("input[data-rtiss-formelement-delayed-ajax]").each(function(){var t=$j(this);t.typeWatch({wait:parseInt(t.data("rtiss-formelement-delayed-ajax")),highlight:!1,captureLength:2,callback:function(){var e={dataType:t.data("rtiss-formelement-delayed-ajax-datatype")||"script",url:t.data("url")};t.data("rtiss-include-values-of")&&(e.data=$j(t.data("rtiss-include-values-of")).serialize()),$j.ajax(e)}})});var t=$j("span[data-rtiss-auswahllistefilter]");t.length>0&&($j("span[data-rtiss-auswahllistefilter] ~ input[type=submit][name$=_filtern]").show(),t.each(function(){var t=$j(this),e=t.parent(),i=t.next(),n=t.children(),o=e.children().last();i.val(t.data("rtiss-auswahllistefilter")),t.get(0).ajaxrequestsunbeantwortet=0,i.on("focus",function(){$j(this).val()==t.data("rtiss-auswahllistefilter")&&$j(this).val("")}),0==t.siblings("input[type=submit][name$=_filtern]").length&&i.typeWatch({wait:800,highlight:!1,captureLength:2,callback:function(){t.get(0).ajaxrequestsunbeantwortet+=1,n.prop("disabled",!0),n.prop("readonly",!0),o.text(o.data("rtiss-auswahllistefilter-arbeitet")),$j.ajax({url:t.data("url")+"&"+$j.param({suchtext:i.val()}),dataType:"html",success:function(e){t.html(e),n=t.children()},complete:function(){--t.get(0).ajaxrequestsunbeantwortet<=0&&(n.prop("disabled",!1),n.prop("readonly",!1),o.text(""))}})}})})),$j("input[data-rtiss-autocomplete]").each(function(){var t=$j(this),e=t.attr("id"),i=$j("#"+e+"_hidden_selection"),n=t.data("rtiss-autocomplete"),o=new Array;$j("#"+e+"_select_list > option").each(function(){o.push({name:this.innerHTML,label:this.innerHTML,id:this.value})});var r={minLength:0,delay:0,select:function(t,e){i.val(e.item.id)},close:function(){for(var e=!1,n=0;n<o.length;n++)if(o[n].name==t.val()){e=!0,i.val(o[n].id);break}e||i.val(null)}};r.source="search_from_start"==n?function(t,e){var i=[];$j.each(o,function(e,n){0==n.label.toUpperCase().indexOf(t.term.toUpperCase())&&i.push(n)}),e(i)}:o,t.autocomplete(r),t.focus(function(){$j(this).autocomplete("search",$j(this).val())})})}),TISS.helpers.visibilitySelect.initSelect=function(t,e,i,n,o){var r=document.getElementById(t);r.showflag=n,TISS.helpers.visibilitySelect._createOptions(r,o,n);var s=document.getElementById(t+"_toggle_button");n?(s.value=i,s.other_value=e):(s.other_value=i,s.value=e)},TISS.helpers.visibilitySelect.toggleOptionVisibility=function(t){var e=document.getElementById(t);e.showflag=!e.showflag,TISS.helpers.visibilitySelect._recursiveToggleVisibility(e,e.showflag);var i=document.getElementById(t+"_toggle_button"),n=i.value;i.value=i.other_value,i.other_value=n},TISS.helpers.visibilitySelect._createOptions=function(t,e,i){var n,o,r;for(n=0;n<e.length;n++)(o=e[n]).length>3?((r=document.createElement("optgroup")).label=o[1],r=TISS.helpers.visibilitySelect._createOptions(r,o[3],i)):((r=document.createElement("option")).innerHTML=o[1],r.value=o[0]),r.showflag=o[2],o[2]||i||(r.style.display="none"),t.appendChild(r);return t},TISS.helpers.visibilitySelect._recursiveToggleVisibility=function(t,e){var i,n;for(n=0;n<t.childNodes.length;n++)"[object HTMLOptionElement]"!=(i=t.childNodes[n]).toString()&&"[object HTMLOptGroupElement]"!=i.toString()||i.showflag||(i.style.display=e?"block":"none"),"[object HTMLOptGroupElement]"==i.toString()&&TISS.helpers.visibilitySelect._recursiveToggleVisibility(i,e)},$doc.on("ajax:beforeSend","select[data-rtiss-handles-filter]",function(){$j("select[data-rtiss-handles-filter]").attr("disabled","disabled")}),$doc.ajaxComplete(function(){$j("select[data-rtiss-handles-filter]").removeAttr("disabled")}),$doc.on("change","form.filter_form > ul > li.filter_zeile > select",function(t){var e=$j(t.target);e.children("option[value^=between]").size()>0&&(-1!=e.val().indexOf("between")?e.parent().find("span").show():e.parent().find("span").hide())}),$doc.ready(function(){$j("form.filter_form > ul > li.filter_zeile > select > option[value^=between]").parent().trigger("change")}),$doc.on("ajax:success",function(){$j("form.filter_form > ul > li.filter_zeile > select > option[value^=between]").parent().trigger("change")}),$doc.ready(function(){["service_center/person","personal/tuwis_pers","aufnahme/bewerbungen_support","aufnahme/aufnahmeverfahren_admin","admin/gastaccount_verwaltung","studium/mindeststudienleistung","aufnahme/stab_master_zulassungsantraege"].indexOf($j("body").data("rtiss-controller"))>-1&&$j(document).on("personen_suche_person_id_after_changed",function(t){$j("#person_anzeige").hide("fade",100,function(){$j("#warte_auf_ajax_suchergebnis > h2").text($j("form#"+t.formId+" a#personen_suche_person_id_display").text()),$j("#warte_auf_ajax_suchergebnis").show("fade",200)}),t.suchstring>""&&$j("form#"+t.formId).attr("action",$j("form#"+t.formId).attr("action")+"?person_id="+$j("#personen_suche_person_id").val()+"&suche="+encodeURIComponent(t.suchstring)),$j("form#"+t.formId).submit()}),["admin/authentifizierung"].indexOf($j("body").data("rtiss-controller"))>-1&&$j(document).on("personen_suche_person_id_after_changed",function(t){$j("#personen_suche").hide("fade",100,function(){$j("#warte_auf_ajax_suchergebnis > h2").text($j("form#"+t.formId+" a#personen_suche_person_id_display").text()),$j("#warte_auf_ajax_suchergebnis").show("fade",200)}),t.suchstring>""&&$j("form#"+t.formId).attr("action",$j("form#"+t.formId).attr("action")+"?person_id="+$j("#personen_suche_person_id").val()+"&suche="+encodeURIComponent(t.suchstring)),$j("form#"+t.formId).submit()})});var TISS=TISS||{};TISS.UjsHelpers={doOnLoad:function(){$doc.unbind("keydown");var t=$j("button[data-rtiss-on-click-hotkey],a[data-rtiss-on-click-hotkey]");t.length>0&&t.each(function(){$doc.on("keydown",null,$j(this).data("rtiss-on-click-hotkey"),function(t){t.preventDefault(),window.location.href=t.data.split(" -///-")[1]})});var e=$j("a[data-url]");e.length>0&&e.each(function(){$j(this).prop("href",$j(this).data("url")),$j(this).removeAttr("data-url")}),$j("textarea[minlength] ~ span.textarea_minlength").each(function(){$j($j(this).siblings("textarea")).on("input propertychange",function(){var t=$j(this).attr("minlength");$j(this).val().length<t?$j(this).siblings(".textarea_minlength").show():$j(this).siblings(".textarea_minlength").hide(),$j($j(this).siblings(".textarea_minlength")).text("("+$j(this).val().length+"/ min."+$j(this).attr("minlength")+")").css("opacity",1)})}),$j("textarea[maxlength] ~ span.textarea_maxlength").each(function(){$j($j(this).siblings("textarea")).on("input propertychange",function(){var t=$j(this).attr("minlength")===undefined?0:$j(this).attr("minlength"),e=$j(this).attr("maxlength");$j(this).val().length>e&&$j(this).val($j(this).val().substring(0,e)),$j($j(this).siblings(".textarea_maxlength")).text("("+$j(this).val().length+"/ max."+$j(this).attr("maxlength")+")").css("opacity",($j(this).val().length-t)/($j(this).attr("maxlength")-t))}),$j(this).on("mouseover",function(){$j(this).css("opacity",1)})}),$j("textarea ~ select.form_textfeld_template_liste").each(function(){var t=$j("#"+$j(this).attr("id").substr(0,$j(this).attr("id").length-10)),e=$j(this);e.get(0).style.visibility="visible",e.on("change",function(){var i=t.val();t.val(e.val()),e.get(0).firstElementChild.text=e.data("rtiss-textarea-template-list-undo"),e.get(0).firstElementChild.value=i})}),$j("input[data-rtiss-js-kalender-eins]").each(function(){$j(this).data(!1)&&$j(this).on("keyup",function(){$j(this).val($j(this).val().replace(/^(\d{2})(\d{2})(\d{4})$/,"$1.$2.$3"))}),Calendar.setup({inputField:$j(this).attr("id"),ifFormat:$j(this).data("rtiss-js-kalender-eins"),button:$j(this).next().attr("id"),weekNumbers:!1})}),$j("input[data-rtiss-js-kalender-zwei]").each(function(){$j(this).data(!1)&&$j(this).on("keyup",function(){$j(this).val($j(this).val().replace(/^(\d{2})(\d{2})(\d{4})$/,"$1.$2.$3"))}),$j(this).datepicker({firstDay:1,dateFormat:$j(this).data("rtiss-js-kalender-zwei"),changeMonth:!0,changeYear:!0,duration:"fast",yearRange:$j(this).data("rtiss-js-kalender-zwei-yearrange")||"-200:+50",onSelect:function(){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),this.dispatchEvent(t)}})}),$j("input[data-rtiss-js-kalender-datetime]").each(function(){$j(this).next().show(),Calendar.setup({inputField:$j(this).attr("id"),ifFormat:$j(this).data("rtiss-js-kalender-datetime"),button:$j(this).next().attr("id"),weekNumbers:!1,singleClick:!1,showsTime:!0})}),$j("[data-rtiss-show-on-load]").show()},BeforeUnload:function(t){this.state=null,this.de="Ihre Eingaben wurden noch nicht gespeichert. Wollen Sie die Seite wirklich verlassen?",this.en="Your input has not been saved. Do you really want to leave the page?",this.state=":de"==t||":en"==t?this[t.substr(1,2)]:t}},$doc.ready(function(t){TISS.UjsHelpers.doOnLoad(t),$j("[data-rtiss-show-on-doc-ready]").show();var e=$j("a[data-rtiss-unload-ok],button[data-rtiss-unload-ok]");if(e.size()>0){var i=new TISS.UjsHelpers.BeforeUnload(e.first().data("rtiss-unload-ok"));window.onbeforeunload=function(){return i.state},$doc.on("click","a[data-rtiss-unload-ok],input[type=submit][data-rtiss-unload-ok],button[data-rtiss-unload-ok]",function(){i.state=null})}}),$doc.ajaxComplete(function(t){TISS.UjsHelpers.doOnLoad(t),$j("[data-rtiss-show-on-ajax-complete]").show()}),$doc.on("ajax:before","a[data-rtiss-include-values-of],input[data-rtiss-include-values-of],select[data-rtiss-include-values-of]",function(){$j(this).attr("data-params",$j($j(this).data("rtiss-include-values-of")).serialize())}),$doc.on("ajax:before","a[data-rtiss-paginate-form]",function(){var t=$j("#"+$j(this).attr("data-rtiss-paginate-form")).serialize();return $j(this).attr("data-params")&&(t+="&"+$j(this).attr("data-params")),$j(this).attr("data-params",t),!0}),$doc.on("ajax:before","a[data-rtiss-paginate-ajax-params]",function(){var t=$j(this).attr("data-rtiss-paginate-ajax-params");return $j(this).attr("data-params")&&(t+="&"+$j(this).attr("data-params")),$j(this).attr("data-params",t),!0}),$doc.on("ajax:error","form[data-rtiss-ajax-failure-alert]",function(){alert($j(this).data("rtiss-ajax-failure-alert"))}),$doc.on("change","input[type=checkbox][data-rtiss-show-elements]",function(){var t=$j(this).data("rtiss-show-elements");$j(this).prop("checked")?$j(t).show():$j(t).hide()}),$doc.on("change","input[type=checkbox][data-rtiss-hide-elements]",function(){var t=$j(this).data("rtiss-hide-elements");$j(this).prop("checked")?$j(t).hide():$j(t).show()}),$doc.on("click","[data-rtiss-toggle-visiblity]",function(){$j($j(this).data("rtiss-toggle-visiblity")).toggle()}),$doc.on("change","input[type=checkbox][data-rtiss-toggle-checked]",function(t){$j($j(t.target).data("rtiss-toggle-checked")).prop("checked",$j(t.target).prop("checked"))}),$doc.on("change","input[type=checkbox][data-rtiss-enable-elements]",function(){var t=$j(this).data("rtiss-enable-elements");$j(this).prop("checked")?$j(t).prop("disabled",!1):$j(t).prop("disabled",!0)}),$doc.on("change","input[type=checkbox][data-rtiss-disable-elements]",function(){var t=$j(this).data("rtiss-disable-elements");$j(this).prop("checked")?$j(t).prop("disabled",!0):$j(t).prop("disabled",!1)}),$doc.on("change","select[data-rtiss-redirect-on-change]",function(){window.location.href=$j(this).data("rtiss-redirect-on-change")+$j(this).val()}),$doc.on("change","input[data-rtiss-send-form-on-change],select[data-rtiss-send-form-on-change],form[data-rtiss-send-form-on-change]",function(){$j(this).is("form")?$j(this).submit():""==$j(this).data("rtiss-send-form-on-change")?$j(this.form).submit():$j($j(this).data("rtiss-send-form-on-change")).submit()}),$doc.on("click","a[data-rtiss-show-elements]",function(t){t.preventDefault(),$j($j(this).data("rtiss-show-elements")).show()}),$doc.on("click","a[data-rtiss-hide-elements]",function(t){t.preventDefault(),$j($j(this).data("rtiss-hide-elements")).hide()}),$doc.on("click","button[data-rtiss-on-click]",function(t){t.preventDefault(),window.location.href=$j(this).data("rtiss-on-click")}),$doc.ready(function(){$j(".autocomplete").select2({placeholder:"",allowClear:!0})}),$doc.ready(function(){$j("body.studium__student_stammdaten").length>0&&($j("#element_container_for_student_notizen").hide(),TISS.studentStammdatenHelper={matura_datum_loeschen:function(){document.getElementById("student_matura_datum_1i").value="",document.getElementById("student_matura_datum_2i").value="",document.getElementById("student_matura_datum_3i").value=""}},$doc.on("change","#erlass_lup_mobilitaets_land_id",function(){"1"==$j(this).val()?$j("#erlass_incoming").val("2"):$j("#erlass_incoming").val("1")}),$doc.on("click","#link_fuer_matura_datum_loeschen",function(t){t.preventDefault(),TISS.studentStammdatenHelper.matura_datum_loeschen()}),$doc.on("submit","#studenten_stammdaten_formular",function(){var t=document.getElementById("student_matura_datum_1i"),e=document.getElementById("student_matura_datum_2i");document.getElementById("student_matura_datum_3i");""!=t.value&&""!=e.value||TISS.studentStammdatenHelper.matura_datum_loeschen()}))}),$j(document).ready(function(){"studium/studentenerstanmeldung"==$j("body").data("rtiss-controller")&&$j(document).on("change","#studentenerstanmeldung_lup_schulform_id",function(){"38"==$j(this).val()||"39"==$j(this).val()?($j("#element_container_for_studentenerstanmeldung_matura_datum").hide(),$j("#element_container_for_studentenerstanmeldung_matura_ausstellungsstaat_id").hide()):($j("#element_container_for_studentenerstanmeldung_matura_datum").show(),$j("#element_container_for_studentenerstanmeldung_matura_datum").effect("highlight",750),$j("#element_container_for_studentenerstanmeldung_matura_ausstellungsstaat_id").show(),$j("#element_container_for_studentenerstanmeldung_matura_ausstellungsstaat_id").effect("highlight",750))})}),TISS.filtern={},TISS.filtern.regel_anlegen=function(t,e){var i=$j(t);$j(e).append(i)},TISS.filtern.update_reihenfolge=function(t,e){var i=$j("#"+t.get_form_id());$j.post(t.get_target_url()+"_update_reihenfolge",i.serialize(),function(n){var o=i.find(".nicht-gespeichert-hinweis");n.gespeichert?o.hide():o.show(),e&&e(t)},"json")},TISS.filtern.FilterData=function(t){var e;e="string"==typeof t?$j(t):$j(t).parents(".filter-container"),this.get_fieldset=function(){return e},this.get_controller_url=function(){return e.data("filter-controller-url")},this.get_filter_id=function(){return e.data("filter-id")},this.get_filter_name=function(){return e.data("filter-name")},this.get_back_url=function(){return e.find("input[name=back_url]").val()},this.get_encoded_back_url=function(){return encodeURIComponent(this.get_back_url())},this.get_session_name=function(){return this.get_filter_id()+"_"+this.get_filter_name()},this.get_target_url=function(){return this.get_controller_url()+"/filtern_proxy"},this.get_form_id=function(){return"filter_form_"+this.get_filter_name()},this.get_regel_dropdown=function(){return $j("#filter_regel_dropdown_"+this.get_filter_name())},this.get_input=function(t,i){var n=this;$j.ajax({url:n.get_target_url(),type:"GET",data:{filter_id:n.get_filter_id(),filter_name:n.get_filter_name(),back_url:n.get_back_url(),regel_id:t,option_id:i,filter_objekt:"input_feld"},success:function(){e.trigger("regel-geloescht-event")}})},this.filterregel_loeschen=function(t){e.find("li[data-regel-id='"+t+"']").remove(),e.find("select[data-rtiss-filter-regel-dropdown] option[value='"+t+"']").removeAttr("disabled")},this.filter_option_loeschen=function(t,i){e.find("li[data-regel-id='"+t+"'] div[data-option-id='"+i+"']").remove(),e.find("li[data-regel-id='"+t+"'] select.filter-optionen > option[value='"+i+"']").removeAttr("disabled"),e.find("div[class='optionen-container']").html().replace(/\s/g,"").length||e.find("li[data-regel-id='"+t+"'] > div.staticInfoMessage").css("display","none")}},TISS.filtern.createHiddenInput=function(t,e){return $j("<input>",{type:"hidden",name:t+"[]wert[]",value:e,"class":"regel-input"})},TISS.filtern.update_range=function(t){$j(t).parent().find("label").text(t.value)};var optionen_die_nicht_mit_oder_verpknuepft_werden_koennen=["groesser","groesser_gleich","kleiner","kleiner_gleich"],optionen_mit_zwei_felder=["zwischen","nicht_zwischen"];$doc.ready(function(){$doc.on("change",".filter-form",function(t){$j(t.target).closest(".filter-form").find(".nicht-gespeichert-hinweis").show();var e=new CustomEvent("filterVerandert",{bubbles:!0});t.target.dispatchEvent(e)}),$j.each($j(".filter-baum-container"),function(){$j(this),new TISS.filtern.FilterData(this)}),$doc.on("click",".regel-loeschen-button",function(t){var e=new TISS.filtern.FilterData(this),i=$j(t.target).closest(".filter_regel");if(!i.data("mit-oder")){var n=e.get_regel_dropdown(),o=i.data("regel-id");n.children("option[value='"+o+"']").removeAttr("disabled")}i.remove(),TISS.filtern.update_reihenfolge(e)}),$doc.on("change","select[data-rtiss-filter-regel-dropdown]",function(t){var e=$j(this).val();if(-1!=e){var i=new TISS.filtern.FilterData(this),n=$j(t.target).children("option:selected").first(),o=n.data("mit-oder");$j(this).val("-1"),$j.ajax({url:i.get_target_url(),type:"PUT",data:{filter_id:i.get_filter_id(),filter_name:i.get_filter_name(),back_url:i.get_back_url(),filter_objekt:"regel",regel_id:e},success:function(){o||n.attr("disabled","disabled"),TISS.filtern.update_reihenfolge(i);var t=jQuery.Event("neueRegelAngelegt",{regelId:e,filterId:i.get_filter_id(),filterName:i.get_filter_name(),targetURL:i.get_target_url(),backURL:i.get_back_url()});$j(".filtern").trigger(t)}})}}),$doc.find("input[type='range']").each(function(){TISS.filtern.update_range(this)}),$doc.on("change","input[type='range']",function(t){TISS.filtern.update_range(t.target)}),$doc.on("change",".float-filter-regel > .input-container > .regel-input",function(t){var e=$j(t.target),i=e.val();e.val(i.trim())}),$doc.on("click","button[data-filter-submit]",function(){var t,e=new Event("baumSerializieren"),i=document.getElementsByClassName("filter-baum-container");for(t=0;t<i.length;t++)i[t].dispatchEvent(e)}),$doc.on("change",".filter-optionen",function(t){var e=new TISS.filtern.FilterData(this),i=$j(t.target),n=i.val(),o=(i.children("option:selected").text(),i.parent(".operator-anzeige-container").first(),i.data("filter-regel")),r=-1!=optionen_mit_zwei_felder.indexOf(n),s=i.closest(".filter_regel").find(".regel-input"),a=s.length,l=s.first().val();$j.ajax({url:e.get_target_url(name),type:"PUT",dataType:"html",data:{filter_id:e.get_filter_id(),filter_name:e.get_filter_name(),back_url:e.get_back_url(),regel_id:o,option_id:n,filter_objekt:"option",first_value:l},success:function(t){var n=i.closest(".filter_regel");TISS.filtern.update_reihenfolge(e),(r&&a<2||!r&&a>1)&&n.children(".input-container").html(t),n.find(".filter-baum-container").length}})})}),function(t){"use strict";function e(e,i,n,o){function r(t,e){return e-=o,!(0>(t-=o)||t>=h||0>e||e>=h)&&l.isDark(t,e)}function s(t,e,i,n){var o=a.isDark,r=1/c;a.isDark=function(s,a){var l=a*r,h=s*r,c=l+r,d=h+r;return o(s,a)&&(t>c||l>i||e>d||h>n)}}var a={},l=t(n,i);l.addData(e),l.make(),o=o||0;var h=l.getModuleCount(),c=l.getModuleCount()+2*o;return a.text=e,a.level=i,a.version=n,a.moduleCount=c,a.isDark=r,a.addBlank=s,a}function i(t,i,n,o,r){n=Math.max(1,n||1),o=Math.min(40,o||40);for(var s=n;o>=s;s+=1)try{return e(t,i,s,r)}catch(a){}}function n(t,e,i){var n=i.size,o="bold "+i.mSize*n+"px "+i.fontname,r=m("<canvas/>")[0].getContext("2d");r.font=o;var s=r.measureText(i.label).width,a=i.mSize,l=s/n,h=(1-l)*i.mPosX,c=(1-a)*i.mPosY,d=h+l,u=c+a,f=.01;1===i.mode?t.addBlank(0,c-f,n,u+f):t.addBlank(h-f,c-f,d+f,u+f),e.fillStyle=i.fontcolor,e.font=o,e.fillText(i.label,h*n,c*n+.75*i.mSize*n)}function o(t,e,i){
var n=i.size,o=i.image.naturalWidth||1,r=i.image.naturalHeight||1,s=i.mSize,a=s*o/r,l=(1-a)*i.mPosX,h=(1-s)*i.mPosY,c=l+a,d=h+s,u=.01;3===i.mode?t.addBlank(0,h-u,n,d+u):t.addBlank(l-u,h-u,c+u,d+u),e.drawImage(i.image,l*n,h*n,a*n,s*n)}function r(t,e,i){m(i.background).is("img")?e.drawImage(i.background,0,0,i.size,i.size):i.background&&(e.fillStyle=i.background,e.fillRect(i.left,i.top,i.size,i.size));var r=i.mode;1===r||2===r?n(t,e,i):(3===r||4===r)&&o(t,e,i)}function s(t,e,i,n,o,r,s,a){t.isDark(s,a)&&e.rect(n,o,r,r)}function a(t,e,i,n,o,r,s,a,l,h){s?t.moveTo(e+r,i):t.moveTo(e,i),a?(t.lineTo(n-r,i),t.arcTo(n,i,n,o,r)):t.lineTo(n,i),l?(t.lineTo(n,o-r),t.arcTo(n,o,e,o,r)):t.lineTo(n,o),h?(t.lineTo(e+r,o),t.arcTo(e,o,e,i,r)):t.lineTo(e,o),s?(t.lineTo(e,i+r),t.arcTo(e,i,n,i,r)):t.lineTo(e,i)}function l(t,e,i,n,o,r,s,a,l,h){s&&(t.moveTo(e+r,i),t.lineTo(e,i),t.lineTo(e,i+r),t.arcTo(e,i,e+r,i,r)),a&&(t.moveTo(n-r,i),t.lineTo(n,i),t.lineTo(n,i+r),t.arcTo(n,i,n-r,i,r)),l&&(t.moveTo(n-r,o),t.lineTo(n,o),t.lineTo(n,o-r),t.arcTo(n,o,n-r,o,r)),h&&(t.moveTo(e+r,o),t.lineTo(e,o),t.lineTo(e,o-r),t.arcTo(e,o,e+r,o,r))}function h(t,e,i,n,o,r,s,h){var c=t.isDark,d=n+r,u=o+r,f=i.radius*r,p=s-1,g=s+1,m=h-1,_=h+1,v=c(s,h),y=c(p,m),b=c(p,h),x=c(p,_),w=c(s,_),k=c(g,_),C=c(g,h),T=c(g,m),M=c(s,m);v?a(e,n,o,d,u,f,!b&&!M,!b&&!w,!C&&!w,!C&&!M):l(e,n,o,d,u,f,b&&M&&y,b&&w&&x,C&&w&&k,C&&M&&T)}function c(t,e,i){var n,o,r=t.moduleCount,a=i.size/r,l=s;for(i.radius>0&&i.radius<=.5&&(l=h),e.beginPath(),n=0;r>n;n+=1)for(o=0;r>o;o+=1){l(t,e,i,i.left+o*a,i.top+n*a,a,n,o)}if(m(i.fill).is("img")){e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=2,e.stroke();var c=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation=c,e.clip(),e.drawImage(i.fill,0,0,i.size,i.size),e.restore()}else e.fillStyle=i.fill,e.fill()}function d(t,e){var n=i(e.text,e.ecLevel,e.minVersion,e.maxVersion,e.quiet);if(!n)return null;var o=m(t).data("qrcode",n),s=o[0].getContext("2d");return r(n,s,e),c(n,s,e),o}function u(t){return d(m("<canvas/>").attr("width",t.size).attr("height",t.size),t)}function f(t){return m("<img/>").attr("src",u(t)[0].toDataURL("image/png"))}function p(t){var e=i(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!e)return null;var n,o,r=t.size,s=t.background,a=Math.floor,l=e.moduleCount,h=a(r/l),c=a(.5*(r-h*l)),d={position:"relative",left:0,top:0,padding:0,margin:0,width:r,height:r},u={position:"absolute",padding:0,margin:0,width:h,height:h,"background-color":t.fill},f=m("<div/>").data("qrcode",e).css(d);for(s&&f.css("background-color",s),n=0;l>n;n+=1)for(o=0;l>o;o+=1)e.isDark(n,o)&&m("<div/>").css(u).css({left:c+o*h,top:c+n*h}).appendTo(f);return f}function g(t){return _&&"canvas"===t.render?u(t):_&&"image"===t.render?f(t):p(t)}var m=window.jQuery,_=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}(),v={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};m.fn.qrcode=function(t){var e=m.extend({},v,t);return this.each(function(t,i){"canvas"===i.nodeName.toLowerCase()?d(i,e):m(i).append(g(e))})}}(function(){var t=function(){function t(e,i){if("undefined"==typeof e.length)throw new Error(e.length+"/"+i);var n=function(){for(var t=0;t<e.length&&0==e[t];)t+=1;for(var n=new Array(e.length-t+i),o=0;o<e.length-t;o+=1)n[o]=e[o+t];return n}(),o={getAt:function(t){return n[t]},getLength:function(){return n.length},multiply:function(e){for(var i=new Array(o.getLength()+e.getLength()-1),n=0;n<o.getLength();n+=1)for(var r=0;r<e.getLength();r+=1)i[n+r]^=s.gexp(s.glog(o.getAt(n))+s.glog(e.getAt(r)));return t(i,0)},mod:function(e){if(o.getLength()-e.getLength()<0)return o;for(var i=s.glog(o.getAt(0))-s.glog(e.getAt(0)),n=new Array(o.getLength()),r=0;r<o.getLength();r+=1)n[r]=o.getAt(r);for(r=0;r<e.getLength();r+=1)n[r]^=s.gexp(s.glog(e.getAt(r))+i);return t(n,0).mod(e)}};return o}var e=function(e,i){var o=236,s=17,c=e,d=n[i],u=null,f=0,g=null,m=new Array,_={},v=function(t,e){u=function(t){for(var e=new Array(t),i=0;t>i;i+=1){e[i]=new Array(t);for(var n=0;t>n;n+=1)e[i][n]=null}return e}(f=4*c+17),y(0,0),y(f-7,0),y(0,f-7),w(),x(),C(t,e),c>=7&&k(t),null==g&&(g=S(c,d,m)),T(g,e)},y=function(t,e){for(var i=-1;7>=i;i+=1)if(!(-1>=t+i||t+i>=f))for(var n=-1;7>=n;n+=1)-1>=e+n||e+n>=f||(u[t+i][e+n]=i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n)},b=function(){for(var t=0,e=0,i=0;8>i;i+=1){v(!0,i);var n=r.getLostPoint(_);(0==i||t>n)&&(t=n,e=i)}return e},x=function(){for(var t=8;f-8>t;t+=1)null==u[t][6]&&(u[t][6]=t%2==0);for(var e=8;f-8>e;e+=1)null==u[6][e]&&(u[6][e]=e%2==0)},w=function(){for(var t=r.getPatternPosition(c),e=0;e<t.length;e+=1)for(var i=0;i<t.length;i+=1){var n=t[e],o=t[i];if(null==u[n][o])for(var s=-2;2>=s;s+=1)for(var a=-2;2>=a;a+=1)u[n+s][o+a]=-2==s||2==s||-2==a||2==a||0==s&&0==a}},k=function(t){for(var e=r.getBCHTypeNumber(c),i=0;18>i;i+=1){var n=!t&&1==(e>>i&1);u[Math.floor(i/3)][i%3+f-8-3]=n}for(i=0;18>i;i+=1){n=!t&&1==(e>>i&1);u[i%3+f-8-3][Math.floor(i/3)]=n}},C=function(t,e){for(var i=d<<3|e,n=r.getBCHTypeInfo(i),o=0;15>o;o+=1){var s=!t&&1==(n>>o&1);6>o?u[o][8]=s:8>o?u[o+1][8]=s:u[f-15+o][8]=s}for(o=0;15>o;o+=1){s=!t&&1==(n>>o&1);8>o?u[8][f-o-1]=s:9>o?u[8][15-o-1+1]=s:u[8][15-o-1]=s}u[f-8][8]=!t},T=function(t,e){for(var i=-1,n=f-1,o=7,s=0,a=r.getMaskFunction(e),l=f-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var h=0;2>h;h+=1)if(null==u[n][l-h]){var c=!1;s<t.length&&(c=1==(t[s]>>>o&1)),a(n,l-h)&&(c=!c),u[n][l-h]=c,-1==(o-=1)&&(s+=1,o=7)}if(0>(n+=i)||n>=f){n-=i,i=-i;break}}},M=function(e,i){for(var n=0,o=0,s=0,a=new Array(i.length),l=new Array(i.length),h=0;h<i.length;h+=1){var c=i[h].dataCount,d=i[h].totalCount-c;o=Math.max(o,c),s=Math.max(s,d),a[h]=new Array(c);for(var u=0;u<a[h].length;u+=1)a[h][u]=255&e.getBuffer()[u+n];n+=c;var f=r.getErrorCorrectPolynomial(d),p=t(a[h],f.getLength()-1).mod(f);l[h]=new Array(f.getLength()-1);for(u=0;u<l[h].length;u+=1){var g=u+p.getLength()-l[h].length;l[h][u]=g>=0?p.getAt(g):0}}var m=0;for(u=0;u<i.length;u+=1)m+=i[u].totalCount;var _=new Array(m),v=0;for(u=0;o>u;u+=1)for(h=0;h<i.length;h+=1)u<a[h].length&&(_[v]=a[h][u],v+=1);for(u=0;s>u;u+=1)for(h=0;h<i.length;h+=1)u<l[h].length&&(_[v]=l[h][u],v+=1);return _},S=function(t,e,i){for(var n=a.getRSBlocks(t,e),h=l(),c=0;c<i.length;c+=1){var d=i[c];h.put(d.getMode(),4),h.put(d.getLength(),r.getLengthInBits(d.getMode(),t)),d.write(h)}var u=0;for(c=0;c<n.length;c+=1)u+=n[c].dataCount;if(h.getLengthInBits()>8*u)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*u+")");for(h.getLengthInBits()+4<=8*u&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*u)&&(h.put(o,8),!(h.getLengthInBits()>=8*u));)h.put(s,8);return M(h,n)};return _.addData=function(t){var e=h(t);m.push(e),g=null},_.isDark=function(t,e){if(0>t||t>=f||0>e||e>=f)throw new Error(t+","+e);return u[t][e]},_.getModuleCount=function(){return f},_.make=function(){v(!1,b())},_.createTableTag=function(t,e){t=t||2;var i="";i+='<table style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",i+='">',i+="<tbody>";for(var n=0;n<_.getModuleCount();n+=1){i+="<tr>";for(var o=0;o<_.getModuleCount();o+=1)i+='<td style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: 0px;",i+=" width: "+t+"px;",i+=" height: "+t+"px;",i+=" background-color: ",i+=_.isDark(n,o)?"#000000":"#ffffff",i+=";",i+='"/>';i+="</tr>"}return(i+="</tbody>")+"</table>"},_.createImgTag=function(t,e){t=t||2,e=void 0===e?4*t:e;var i=_.getModuleCount()*t+2*e,n=e,o=i-e;return p(i,i,function(e,i){if(e>=n&&o>e&&i>=n&&o>i){var r=Math.floor((e-n)/t),s=Math.floor((i-n)/t);return _.isDark(s,r)?0:1}return 1})},_};e.stringToBytes=function(t){for(var e=new Array,i=0;i<t.length;i+=1){var n=t.charCodeAt(i);e.push(255&n)}return e},e.createStringToBytes=function(t,e){var i=function(){for(var i=u(t),n=function(){var t=i.read();if(-1==t)throw new Error;return t},o=0,r={};;){var s=i.read();if(-1==s)break;var a=n(),l=n()<<8|n();r[String.fromCharCode(s<<8|a)]=l,o+=1}if(o!=e)throw new Error(o+" != "+e);return r}(),n="?".charCodeAt(0);return function(t){for(var e=new Array,o=0;o<t.length;o+=1){var r=t.charCodeAt(o);if(128>r)e.push(r);else{var s=i[t.charAt(o)];"number"==typeof s?(255&s)==s?e.push(s):(e.push(s>>>8),e.push(255&s)):e.push(n)}}return e}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},r=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,a=21522,l={},h=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e};return l.getBCHTypeInfo=function(t){for(var e=t<<10;h(e)-h(n)>=0;)e^=n<<h(e)-h(n);return(t<<10|e)^a},l.getBCHTypeNumber=function(t){for(var e=t<<12;h(e)-h(r)>=0;)e^=r<<h(e)-h(r);return t<<12|e},l.getPatternPosition=function(t){return e[t-1]},l.getMaskFunction=function(t){switch(t){case o.PATTERN000:return function(t,e){return(t+e)%2==0};case o.PATTERN001:return function(t){return t%2==0};case o.PATTERN010:return function(t,e){return e%3==0};case o.PATTERN011:return function(t,e){return(t+e)%3==0};case o.PATTERN100:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case o.PATTERN101:return function(t,e){return t*e%2+t*e%3==0};case o.PATTERN110:return function(t,e){return(t*e%2+t*e%3)%2==0};case o.PATTERN111:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},l.getErrorCorrectPolynomial=function(e){for(var i=t([1],0),n=0;e>n;n+=1)i=i.multiply(t([1,s.gexp(n)],0));return i},l.getLengthInBits=function(t,e){if(e>=1&&10>e)switch(t){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},l.getLostPoint=function(t){for(var e=t.getModuleCount(),i=0,n=0;e>n;n+=1)for(var o=0;e>o;o+=1){for(var r=0,s=t.isDark(n,o),a=-1;1>=a;a+=1)if(!(0>n+a||n+a>=e))for(var l=-1;1>=l;l+=1)0>o+l||o+l>=e||(0!=a||0!=l)&&s==t.isDark(n+a,o+l)&&(r+=1);r>5&&(i+=3+r-5)}for(n=0;e-1>n;n+=1)for(o=0;e-1>o;o+=1){var h=0;t.isDark(n,o)&&(h+=1),t.isDark(n+1,o)&&(h+=1),t.isDark(n,o+1)&&(h+=1),t.isDark(n+1,o+1)&&(h+=1),(0==h||4==h)&&(i+=3)}for(n=0;e>n;n+=1)for(o=0;e-6>o;o+=1)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(i+=40);for(o=0;e>o;o+=1)for(n=0;e-6>n;n+=1)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(i+=40);var c=0;for(o=0;e>o;o+=1)for(n=0;e>n;n+=1)t.isDark(n,o)&&(c+=1);return i+10*(Math.abs(100*c/e/e-50)/5)},l}(),s=function(){for(var t=new Array(256),e=new Array(256),i=0;8>i;i+=1)t[i]=1<<i;for(i=8;256>i;i+=1)t[i]=t[i-4]^t[i-5]^t[i-6]^t[i-8];for(i=0;255>i;i+=1)e[t[i]]=i;var n={glog:function(t){if(1>t)throw new Error("glog("+t+")");return e[t]},gexp:function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return t[e]}};return n}(),a=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var i={};return i.totalCount=t,i.dataCount=e,i},i={},o=function(e,i){switch(i){case n.L:return t[4*(e-1)+0];case n.M:return t[4*(e-1)+1];case n.Q:return t[4*(e-1)+2];case n.H:return t[4*(e-1)+3];default:return}};return i.getRSBlocks=function(t,i){var n=o(t,i);if(void 0===n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var r=n.length/3,s=new Array,a=0;r>a;a+=1)for(var l=n[3*a+0],h=n[3*a+1],c=n[3*a+2],d=0;l>d;d+=1)s.push(e(h,c));return s},i}(),l=function(){var t=new Array,e=0,i={getBuffer:function(){return t},getAt:function(e){var i=Math.floor(e/8);return 1==(t[i]>>>7-e%8&1)},put:function(t,e){for(var n=0;e>n;n+=1)i.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return e},putBit:function(i){var n=Math.floor(e/8);t.length<=n&&t.push(0),i&&(t[n]|=128>>>e%8),e+=1}};return i},h=function(t){var n=i.MODE_8BIT_BYTE,o=e.stringToBytes(t),r={getMode:function(){return n},getLength:function(){return o.length},write:function(t){for(var e=0;e<o.length;e+=1)t.put(o[e],8)}};return r},c=function(){var t=new Array,e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,i,n){i=i||0,n=n||t.length;for(var o=0;n>o;o+=1)e.writeByte(t[o+i])},writeString:function(t){for(var i=0;i<t.length;i+=1)e.writeByte(t.charCodeAt(i))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var i=0;i<t.length;i+=1)i>0&&(e+=","),e+=t[i];return e+"]"}};return e},d=function(){var t=0,e=0,i=0,n="",o={},r=function(t){n+=String.fromCharCode(s(63&t))},s=function(t){if(0>t);else{if(26>t)return 65+t;if(52>t)return t-26+97;if(62>t)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw new Error("n:"+t)};return o.writeByte=function(n){for(t=t<<8|255&n,e+=8,i+=1;e>=6;)r(t>>>e-6),e-=6},o.flush=function(){if(e>0&&(r(t<<6-e),t=0,e=0),i%3!=0)for(var o=3-i%3,s=0;o>s;s+=1)n+="="},o.toString=function(){return n},o},u=function(t){var e=t,i=0,n=0,o=0,r={read:function(){for(;8>o;){if(i>=e.length){if(0==o)return-1;throw new Error("unexpected end of file./"+o)}var t=e.charAt(i);if(i+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(n=n<<6|s(t.charCodeAt(0)),o+=6)}var r=n>>>o-8&255;return o-=8,r}},s=function(t){if(t>=65&&90>=t)return t-65;if(t>=97&&122>=t)return t-97+26;if(t>=48&&57>=t)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw new Error("c:"+t)};return r},f=function(t,e){var i=t,n=e,o=new Array(t*e),r={setPixel:function(t,e,n){o[e*i+t]=n},write:function(t){t.writeString("GIF87a"),t.writeShort(i),t.writeShort(n),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(i),t.writeShort(n),t.writeByte(0);var e=2,o=a(e);t.writeByte(e);for(var r=0;o.length-r>255;)t.writeByte(255),t.writeBytes(o,r,255),r+=255;t.writeByte(o.length-r),t.writeBytes(o,r,o.length-r),t.writeByte(0),t.writeString(";")}},s=function(t){var e=t,i=0,n=0,o={write:function(t,o){if(t>>>o!=0)throw new Error("length over");for(;i+o>=8;)e.writeByte(255&(t<<i|n)),o-=8-i,t>>>=8-i,n=0,i=0;n|=t<<i,i+=o},flush:function(){i>0&&e.writeByte(n)}};return o},a=function(t){for(var e=1<<t,i=1+(1<<t),n=t+1,r=l(),a=0;e>a;a+=1)r.add(String.fromCharCode(a));r.add(String.fromCharCode(e)),r.add(String.fromCharCode(i));var h=c(),d=s(h);d.write(e,n);var u=0,f=String.fromCharCode(o[u]);for(u+=1;u<o.length;){var p=String.fromCharCode(o[u]);u+=1,r.contains(f+p)?f+=p:(d.write(r.indexOf(f),n),r.size()<4095&&(r.size()==1<<n&&(n+=1),r.add(f+p)),f=p)}return d.write(r.indexOf(f),n),d.write(i,n),d.flush(),h.toByteArray()},l=function(){var t={},e=0,i={add:function(n){if(i.contains(n))throw new Error("dup key:"+n);t[n]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return"undefined"!=typeof t[e]}};return i};return r},p=function(t,e,i,n){for(var o=f(t,e),r=0;e>r;r+=1)for(var s=0;t>s;s+=1)o.setPixel(s,r,i(s,r));var a=c();o.write(a);for(var l=d(),h=a.toByteArray(),u=0;u<h.length;u+=1)l.writeByte(h[u]);l.flush();var p="";return p+="<img",p+=' src="',p+="data:image/gif;base64,",p+=l,p+='"',p+=' width="',p+=t,p+='"',p+=' height="',p+=e,p+='"',n&&(p+=' alt="',p+=n,p+='"'),p+"/>"};return e}();return function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports&&(module.exports=t())}(function(){return t}),function(t){t.stringToBytes=function(t){function e(t){for(var e=[],i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e.push(n):2048>n?e.push(192|n>>6,128|63&n):55296>n||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(i++,n=65536+((1023&n)<<10|1023&t.charCodeAt(i)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}return e(t)}}(t),t}()),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";function e(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t}function i(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}function n(t){return t._leaflet_id=t._leaflet_id||++_e,t._leaflet_id}function o(t,e,i){var n,o,r,s;return s=function(){n=!1,o&&(r.apply(i,o),o=!1)},r=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}}function r(t,e,i){var n=e[1],o=e[0],r=n-o;return t===n&&i?t:((t-o)%r+r)%r+o}function s(){return!1}function a(t,e){var i=Math.pow(10,e===undefined?6:e);return Math.round(t*i)/i}function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return l(t).split(/\s+/)}function c(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?me(t.options):{}),e)t.options[i]=e[i];return t.options}function d(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}function u(t,e){return t.replace(ve,function(t,i){var n=e[i];if(n===undefined)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n})}function f(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function g(t){var e=+new Date,i=Math.max(0,16-(e-xe));return xe=e+i,window.setTimeout(t,i)}function m(t,e,n){if(!n||we!==g)return we.call(window,i(t,e));t.call(e)}function _(t){t&&ke.call(window,t)}function v(){}function y(t){if("undefined"!=typeof L&&L&&L.Mixin){t=ye(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function b(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}function x(t,e,i){return t instanceof b?t:ye(t)?new b(t[0],t[1]):t===undefined||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new b(t.x,t.y):new b(t,e,i)}function w(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function k(t,e){return!t||t instanceof w?t:new w(t,e)}function C(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function T(t,e){return t instanceof C?t:new C(t,e)}function M(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==undefined&&(this.alt=+i)}function S(t,e,i){return t instanceof M?t:ye(t)&&"object"!=typeof t[0]?3===t.length?new M(t[0],t[1],t[2]):2===t.length?new M(t[0],t[1]):null:t===undefined||null===t?t:"object"==typeof t&&"lat"in t?new M(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===undefined?null:new M(t,e,i)}function D(t,e,i,n){if(ye(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function j(t,e,i,n){return new D(t,e,i,n)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t,e){var i,n,o,r,s,a,l="";for(i=0,o=t.length;i<o;i++){for(n=0,r=(s=t[i]).length;n<r;n++)l+=(n?"L":"M")+(a=s[n]).x+" "+a.y;l+=e?_i?"z":"x":""}return l||"M0 0"}function E(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function I(t,e,i,n){return"touchstart"===e?z(t,i,n):"touchmove"===e?B(t,i,n):"touchend"===e&&W(t,i,n),this}function O(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(bi,n,!1):"touchmove"===e?t.removeEventListener(xi,n,!1):"touchend"===e&&(t.removeEventListener(wi,n,!1),t.removeEventListener(ki,n,!1)),this}function z(t,e,n){var o=i(function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&kt(t),H(t,e)});t["_leaflet_touchstart"+n]=o,t.addEventListener(bi,o,!1),Ti||(document.addEventListener(bi,N,!0),document.addEventListener(xi,F,!0),document.addEventListener(wi,R,!0),document.addEventListener(ki,R,!0),Ti=!0)}function N(t){Ci[t.pointerId]=t}function F(t){Ci[t.pointerId]&&(Ci[t.pointerId]=t)}function R(t){delete Ci[t.pointerId]}function H(t,e){for(var i in t.touches=[],Ci)t.touches.push(Ci[i]);t.changedTouches=[t],e(t)}function B(t,e,i){var n=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||H(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(xi,n,!1)}function W(t,e,i){var n=function(t){H(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(wi,n,!1),t.addEventListener(ki,n,!1)}function $(t,e,i){function n(t){if(ci){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),i=e-(r||e);s=t.touches?t.touches[0]:t,a=i>0&&i<=l,r=e}function o(t){if(a&&!s.cancelBubble){if(ci){if("mouse"===t.pointerType)return;var i,n,o={};for(n in s)i=s[n],o[n]=i&&i.bind?i.bind(s):i;s=o}s.type="dblclick",s.button=0,e(s),r=null}}var r,s,a=!1,l=250;return t[Di+Mi+i]=n,t[Di+Si+i]=o,t[Di+"dblclick"+i]=e,t.addEventListener(Mi,n,!!gi&&{passive:!1}),t.addEventListener(Si,o,!!gi&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Y(t,e){var i=t[Di+Mi+e],n=t[Di+Si+e],o=t[Di+"dblclick"+e];return t.removeEventListener(Mi,i,!!gi&&{passive:!1}),t.removeEventListener(Si,n,!!gi&&{passive:!1}),t.removeEventListener("dblclick",o,!1),this}function q(t){return"string"==typeof t?document.getElementById(t):t}function U(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function V(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function Z(t){var e=t.parentNode;e&&e.removeChild(t)}function K(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function G(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function X(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function J(t,e){if(t.classList!==undefined)return t.classList.contains(e);var i=it(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function Q(t,e){if(t.classList!==undefined)for(var i=h(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!J(t,e)){var r=it(t);et(t,(r?r+" ":"")+e)}}function tt(t,e){t.classList!==undefined?t.classList.remove(e):et(t,l((" "+it(t)+" ").replace(" "+e+" "," ")))}function et(t,e){t.className.baseVal===undefined?t.className=e:t.className.baseVal=e}function it(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===undefined?t.className:t.className.baseVal}function nt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ot(t,e)}function ot(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}function rt(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function st(t,e,i){var n=e||new b(0,0);t.style[ji]=(ii?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function at(t,e){t._leaflet_pos=e,ri?st(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function lt(t){return t._leaflet_pos||new b(0,0)}function ht(){gt(window,"dragstart",kt)}function ct(){mt(window,"dragstart",kt)}function dt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ut(),ze=t,Ne=t.style.outline,t.style.outline="none",gt(window,"keydown",ut))}function ut(){ze&&(ze.style.outline=Ne,ze=undefined,Ne=undefined,mt(window,"keydown",ut))}function ft(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function pt(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function gt(t,e,i,n){if("object"==typeof e)for(var o in e)vt(t,o,e[o],i);else for(var r=0,s=(e=h(e)).length;r<s;r++)vt(t,e[r],i,n);return this}function mt(t,e,i,n){if("object"==typeof e)for(var o in e)yt(t,o,e[o],i);else if(e)for(var r=0,s=(e=h(e)).length;r<s;r++)yt(t,e[r],i,n);else{for(var a in t[Li])yt(t,a,t[Li][a]);delete t[Li]}return this}function _t(){if(ci)return!($e||Je)}function vt(t,e,i,o){var r=e+n(i)+(o?"_"+n(o):"");if(t[Li]&&t[Li][r])return this;var s=function(e){return i.call(o||t,e||window.event)},a=s;ci&&0===e.indexOf("touch")?I(t,e,s,r):di&&"dblclick"===e&&!_t()?$(t,s,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Oi[e]||e,s,!!gi&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,jt(t,e)&&a(e)},t.addEventListener(Oi[e],s,!1)):t.addEventListener(e,a,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[Li]=t[Li]||{},t[Li][r]=s}function yt(t,e,i,o){var r=e+n(i)+(o?"_"+n(o):""),s=t[Li]&&t[Li][r];if(!s)return this;ci&&0===e.indexOf("touch")?O(t,e,r):di&&"dblclick"===e&&!_t()?Y(t,r):"removeEventListener"in t?t.removeEventListener(Oi[e]||e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[Li][r]=null}function bt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Dt(t),this}function xt(t){return vt(t,"wheel",bt),this}function wt(t){return gt(t,"mousedown touchstart dblclick",bt),vt(t,"click",St),this}function kt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ct(t){return kt(t),bt(t),this}function Tt(t,e){if(!e)return new b(t.clientX,t.clientY);var i=pt(e),n=i.boundingClientRect;return new b((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}function Mt(t){return $e?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/zi:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function St(t){Ni[t.type]=!0}function Dt(t){var e=Ni[t.type];return Ni[t.type]=!1,e}function jt(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t}function At(t,e){return new Hi(t,e)}function Pt(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Lt(t=zt(t,i),i)}function Et(t,e,i){return Math.sqrt(Bt(t,e,i,!0))}function It(t,e,i){return Bt(t,e,i)}function Lt(t,e){var i=t.length,n=new(typeof Uint8Array!=undefined+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,Ot(t,n,e,0,i-1);var o,r=[];for(o=0;o<i;o++)n[o]&&r.push(t[o]);return r}function Ot(t,e,i,n,o){var r,s,a,l=0;for(s=n+1;s<=o-1;s++)(a=Bt(t[s],t[n],t[o],!0))>l&&(r=s,l=a);l>i&&(e[r]=1,Ot(t,e,i,n,r),Ot(t,e,i,r,o))}function zt(t,e){for(var i=[t[0]],n=1,o=0,r=t.length;n<r;n++)Ht(t[n],t[o])>e&&(i.push(t[n]),o=n);return o<r-1&&i.push(t[r-1]),i}function Nt(t,e,i,n,o){var r,s,a,l=n?Ji:Rt(t,i),h=Rt(e,i);for(Ji=h;;){if(!(l|h))return[t,e];if(l&h)return!1;a=Rt(s=Ft(t,e,r=l||h,i,o),i),r===l?(t=s,l=a):(e=s,h=a)}}function Ft(t,e,i,n,o){var r,s,a=e.x-t.x,l=e.y-t.y,h=n.min,c=n.max;return 8&i?(r=t.x+a*(c.y-t.y)/l,s=c.y):4&i?(r=t.x+a*(h.y-t.y)/l,s=h.y):2&i?(r=c.x,s=t.y+l*(c.x-t.x)/a):1&i&&(r=h.x,s=t.y+l*(h.x-t.x)/a),new b(r,s,o)}function Rt(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Ht(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function Bt(t,e,i,n){var o,r=e.x,s=e.y,a=i.x-r,l=i.y-s,h=a*a+l*l;return h>0&&((o=((t.x-r)*a+(t.y-s)*l)/h)>1?(r=i.x,s=i.y):o>0&&(r+=a*o,s+=l*o)),a=t.x-r,l=t.y-s,n?a*a+l*l:new b(r,s)}function Wt(t){return!ye(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]}function $t(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wt(t)}function Yt(t,e,i){var n,o,r,s,a,l,h,c,d,u=[1,4,2,8];for(o=0,h=t.length;o<h;o++)t[o]._code=Rt(t[o],e);for(s=0;s<4;s++){for(c=u[s],n=[],o=0,r=(h=t.length)-1;o<h;r=o++)a=t[o],l=t[r],a._code&c?l._code&c||((d=Ft(l,a,c,e,i))._code=Rt(d,e),n.push(d)):(l._code&c&&((d=Ft(l,a,c,e,i))._code=Rt(d,e),n.push(d)),n.push(a));t=n}return t}function qt(t){return new vn(t)}function Ut(t,e){return new xn(t,e)}function Vt(t,e){return new kn(t,e)}function Zt(t,e,i){return new Cn(t,e,i)}function Kt(t,e){return new Tn(t,e)}function Gt(t,e){return new Mn(t,e)}function Xt(t,e){var i,n,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],h=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Qt;if(!a&&!s)return null;switch(s.type){case"Point":return Jt(h,t,i=c(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)i=c(a[o]),l.push(Jt(h,t,i,e));return new mn(l);case"LineString":case"MultiLineString":return n=te(a,"LineString"===s.type?0:1,c),new Tn(n,e);case"Polygon":case"MultiPolygon":return n=te(a,"Polygon"===s.type?1:2,c),new Mn(n,e);case"GeometryCollection":for(o=0,
r=s.geometries.length;o<r;o++){var d=Xt({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);d&&l.push(d)}return new mn(l);default:throw new Error("Invalid GeoJSON object.")}}function Jt(t,e,i,n){return t?t(e,i):new xn(i,n&&n.markersInheritOptions&&n)}function Qt(t){return new M(t[1],t[0],t[2])}function te(t,e,i){for(var n,o=[],r=0,s=t.length;r<s;r++)n=e?te(t[r],e-1,i):(i||Qt)(t[r]),o.push(n);return o}function ee(t,e){return e="number"==typeof e?e:6,t.alt!==undefined?[a(t.lng,e),a(t.lat,e),a(t.alt,e)]:[a(t.lng,e),a(t.lat,e)]}function ie(t,e,i,n){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?ie(t[r],e-1,i,n):ee(t[r],n));return!e&&i&&o.push(o[0]),o}function ne(t,i){return t.feature?e({},t.feature,{geometry:i}):oe(i)}function oe(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function re(t,e){return new Sn(t,e)}function se(t,e,i){return new En(t,e,i)}function ae(t,e,i){return new In(t,e,i)}function le(t){return new Rn(t)}function he(t){return new Hn(t)}function ce(t,e){return new Bn(t,e)}function de(t,e){return new Wn(t,e)}function ue(t){return mi?new Yn(t):null}function fe(t){return _i||vi?new Zn(t):null}function pe(t,e){return new Kn(t,e)}var ge="1.7.0",me=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),_e=0,ve=/\{ *([\w_-]+) *\}/g,ye=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},be="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",xe=0,we=window.requestAnimationFrame||p("RequestAnimationFrame")||g,ke=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},Ce={extend:e,create:me,bind:i,lastId:_e,stamp:n,throttle:o,wrapNum:r,falseFn:s,formatNum:a,trim:l,splitWords:h,setOptions:c,getParamString:d,template:u,isArray:ye,indexOf:f,emptyImageUrl:be,requestFn:we,cancelFn:ke,requestAnimFrame:m,cancelAnimFrame:_};v.extend=function(t){var i=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=i.__super__=this.prototype,o=me(n);for(var r in o.constructor=i,i.prototype=o,this)Object.prototype.hasOwnProperty.call(this,r)&&"prototype"!==r&&"__super__"!==r&&(i[r]=this[r]);return t.statics&&(e(i,t.statics),delete t.statics),t.includes&&(y(t.includes),e.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=e(me(o.options),t.options)),e(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},i},v.include=function(t){return e(this.prototype,t),this},v.mergeOptions=function(t){return e(this.prototype.options,t),this},v.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var Te={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,r=(t=h(t)).length;o<r;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var o=0,r=(t=h(t)).length;o<r;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=undefined);for(var o={fn:e,ctx:i},r=n,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===i)return;r.push(o)},_off:function(t,e,i){var n,o,r;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=undefined),n)for(o=0,r=n.length;o<r;o++){var a=n[o];if(a.ctx===i&&a.fn===e)return a.fn=s,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,r=n.length;o<r;o++)n[o].fn=s;delete this._events[t]}},fire:function(t,i,n){if(!this.listens(t,n))return this;var o=e({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var l=r[s];l.fn.call(l.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var r=i(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[n(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[n(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};Te.addEventListener=Te.on,Te.removeEventListener=Te.clearAllEventListeners=Te.off,Te.addOneTimeEventListener=Te.once,Te.fireEvent=Te.fire,Te.hasEventListeners=Te.listens;var Me=v.extend(Te),Se=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(t){return this.clone()._add(x(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(x(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new b(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new b(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Se(this.x),this.y=Se(this.y),this},distanceTo:function(t){var e=(t=x(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=x(t)).x===this.x&&t.y===this.y},contains:function(t){return t=x(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},w.prototype={extend:function(t){return t=x(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof b?x(t):k(t))instanceof w?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=k(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>=e.x&&n.x<=i.x,s=o.y>=e.y&&n.y<=i.y;return r&&s},overlaps:function(t){t=k(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>e.x&&n.x<i.x,s=o.y>e.y&&n.y<i.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},C.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof M)e=t,i=t;else{if(!(t instanceof C))return t?this.extend(S(t)||T(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new M(e.lat,e.lng),this._northEast=new M(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new C(new M(e.lat-n,e.lng-o),new M(i.lat+n,i.lng+o))},getCenter:function(){return new M((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new M(this.getNorth(),this.getWest())},getSouthEast:function(){return new M(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof M||"lat"in t?S(t):T(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof C?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=T(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&n.lat<=i.lat,s=o.lng>=e.lng&&n.lng<=i.lng;return r&&s},overlaps:function(t){t=T(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&n.lat<i.lat,s=o.lng>e.lng&&n.lng<i.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=T(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},M.prototype={equals:function(t,e){return!!t&&(t=S(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(e===undefined?1e-9:e))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return Ae.distance(this,S(t))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return T([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new M(this.lat,this.lng,this.alt)}};var De,je={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new w(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?r(t.lng,this.wrapLng,!0):t.lng;return new M(this.wrapLat?r(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new C(new M(r.lat-n,r.lng-o),new M(s.lat-n,s.lng-o))}},Ae=e({},je,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),a=r*r+Math.cos(n)*Math.cos(o)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),Pe=6378137,Ee={R:Pe,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new b(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new M((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(De=Pe*Math.PI,new w([-De,-De],[De,De]))};D.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new b((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Ie,Le,Oe,ze,Ne,Fe=e({},Ae,{code:"EPSG:3857",projection:Ee,transformation:function(){var t=.5/(Math.PI*Ee.R);return j(t,.5,-t,.5)}()}),Re=e({},Fe,{code:"EPSG:900913"}),He=document.documentElement.style,Be="ActiveXObject"in window,We=Be&&!document.addEventListener,$e="msLaunchUri"in navigator&&!("documentMode"in document),Ye=E("webkit"),qe=E("android"),Ue=E("android 2")||E("android 3"),Ve=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ze=qe&&E("Google")&&Ve<537&&!("AudioNode"in window),Ke=!!window.opera,Ge=!$e&&E("chrome"),Xe=E("gecko")&&!Ye&&!Ke&&!Be,Je=!Ge&&E("safari"),Qe=E("phantom"),ti="OTransition"in He,ei=0===navigator.platform.indexOf("Win"),ii=Be&&"transition"in He,ni="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ue,oi="MozPerspective"in He,ri=!window.L_DISABLE_3D&&(ii||ni||oi)&&!ti&&!Qe,si="undefined"!=typeof orientation||E("mobile"),ai=si&&Ye,li=si&&ni,hi=!window.PointerEvent&&window.MSPointerEvent,ci=!(!window.PointerEvent&&!hi),di=!window.L_NO_TOUCH&&(ci||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),ui=si&&Ke,fi=si&&Xe,pi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gi=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",s,e),window.removeEventListener("testPassiveEventSupport",s,e)}catch(i){}return t}(),mi=!!document.createElement("canvas").getContext,_i=!(!document.createElementNS||!A("svg").createSVGRect),vi=!_i&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(i){return!1}}(),yi={ie:Be,ielt9:We,edge:$e,webkit:Ye,android:qe,android23:Ue,androidStock:Ze,opera:Ke,chrome:Ge,gecko:Xe,safari:Je,phantom:Qe,opera12:ti,win:ei,ie3d:ii,webkit3d:ni,gecko3d:oi,any3d:ri,mobile:si,mobileWebkit:ai,mobileWebkit3d:li,msPointer:hi,pointer:ci,touch:di,mobileOpera:ui,mobileGecko:fi,retina:pi,passiveEvents:gi,canvas:mi,svg:_i,vml:vi},bi=hi?"MSPointerDown":"pointerdown",xi=hi?"MSPointerMove":"pointermove",wi=hi?"MSPointerUp":"pointerup",ki=hi?"MSPointerCancel":"pointercancel",Ci={},Ti=!1,Mi=hi?"MSPointerDown":ci?"pointerdown":"touchstart",Si=hi?"MSPointerUp":ci?"pointerup":"touchend",Di="_leaflet_",ji=rt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ai=rt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pi="webkitTransition"===Ai||"OTransition"===Ai?Ai+"End":"transitionend";if("onselectstart"in document)Ie=function(){gt(window,"selectstart",kt)},Le=function(){mt(window,"selectstart",kt)};else{var Ei=rt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ie=function(){if(Ei){var t=document.documentElement.style;Oe=t[Ei],t[Ei]="none"}},Le=function(){Ei&&(document.documentElement.style[Ei]=Oe,Oe=undefined)}}var Ii={TRANSFORM:ji,TRANSITION:Ai,TRANSITION_END:Pi,get:q,getStyle:U,create:V,remove:Z,empty:K,toFront:G,toBack:X,hasClass:J,addClass:Q,removeClass:tt,setClass:et,getClass:it,setOpacity:nt,testProp:rt,setTransform:st,setPosition:at,getPosition:lt,disableTextSelection:Ie,enableTextSelection:Le,disableImageDrag:ht,enableImageDrag:ct,preventOutline:dt,restoreOutline:ut,getSizedParentNode:ft,getScale:pt},Li="_leaflet_events",Oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},zi=ei&&Ge?2*window.devicePixelRatio:Xe?window.devicePixelRatio:1,Ni={},Fi={on:gt,off:mt,stopPropagation:bt,disableScrollPropagation:xt,disableClickPropagation:wt,preventDefault:kt,stop:Ct,getMousePosition:Tt,getWheelDelta:Mt,fakeStop:St,skipped:Dt,isExternalTarget:jt,addListener:gt,removeListener:mt},Ri=Me.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=lt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=m(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),at(this._el,i),this.fire("step")},_complete:function(){_(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Hi=Me.extend({options:{crs:Fe,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=c(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==undefined&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==undefined&&this.setView(S(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ai&&ri&&!ui&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,Pi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,n){if((i=i===undefined?this._zoom:this._limitZoom(i),t=this._limitCenter(S(t),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(n.animate!==undefined&&(n.zoom=e({animate:n.animate},n.zoom),n.pan=e({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,i),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(ri?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(ri?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof b?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():T(t);var i=x(e.paddingTopLeft||e.padding||[0,0]),n=x(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===Infinity)return{center:t.getCenter(),zoom:o};var r=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=T(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=x(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ri,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Q(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){function n(t){var e=(_*_-g*g+(t?-1:1)*b*b*v*v)/(2*(t?_:g)*b*v),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function r(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return o(t)/r(t)}function a(t){return g*(r(x)/r(x+y*t))}function l(t){return g*(r(x)*s(x+y*t)-o(x))/b}function h(t){return 1-Math.pow(1-t,1.5)}function c(){var i=(Date.now()-w)/C,n=h(i)*k;i<=1?(this._flyToFrame=m(c,this),this._move(this.unproject(d.add(u.subtract(d).multiplyBy(l(n)/v)),p),this.getScaleZoom(g/a(n),p),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(!1===(i=i||{}).animate||!ri)return this.setView(t,e,i);this._stop();var d=this.project(this.getCenter()),u=this.project(t),f=this.getSize(),p=this._zoom;t=S(t),e=e===undefined?p:e;var g=Math.max(f.x,f.y),_=g*this.getZoomScale(p,e),v=u.distanceTo(d)||1,y=1.42,b=y*y,x=n(0),w=Date.now(),k=(n(1)-x)/y,C=i.duration?1e3*i.duration:1e3*k*.8;return this._moveStart(!0,i.noMoveStart),c.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=T(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,T(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=x((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=x(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),s=this.project(t),a=this.getPixelBounds(),l=a.getSize().divideBy(2),h=k([a.min.add(i),a.max.subtract(n)]);if(!h.contains(s)){this._enforcingBounds=!0;var c=r.subtract(s),d=x(s.x+c.x,s.y+c.y);(s.x<h.min.x||s.x>h.max.x)&&(d.x=r.x-c.x,c.x>0?d.x+=l.x-i.x:d.x-=l.x-n.x),(s.y<h.min.y||s.y>h.max.y)&&(d.y=r.y-c.y,c.y>0?d.y+=l.y-i.y:d.y-=l.y-n.y),this.panTo(this.unproject(d),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),r=n.divideBy(2).round(),s=o.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),o=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new M(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(o,n.maxZoom):o)}var r={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=undefined,this._containerId=undefined}var t;for(t in this._locationWatchId!==undefined&&this.stopLocate(),this._stop(),Z(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)Z(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=V("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new C(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===undefined?this._layersMaxZoom===undefined?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=T(t),i=x(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(i),h=k(this.project(a,n),this.project(s,n)).getSize(),c=ri?this.options.zoomSnap:1,d=l.x/h.x,u=l.y/h.y,f=e?Math.max(d,u):Math.min(d,u);return n=this.getScaleZoom(f,n),c&&(n=Math.round(n/(c/100))*(c/100),n=e?Math.ceil(n/c)*c:Math.floor(n/c)*c),Math.max(o,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new w(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===undefined?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===undefined?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===undefined?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?Infinity:n},project:function(t,e){return e=e===undefined?this._zoom:e,this.options.crs.latLngToPoint(S(t),e)},unproject:function(t,e){return e=e===undefined?this._zoom:e,this.options.crs.pointToLatLng(x(t),e)},layerPointToLatLng:function(t){var e=x(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(S(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(S(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(T(t))},distance:function(t,e){return this.options.crs.distance(S(t),S(e))},containerPointToLayerPoint:function(t){return x(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return x(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(x(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(S(t)))},mouseEventToContainerPoint:function(t){return Tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=q(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");gt(e,"scroll",this._onScroll,this),this._containerId=n(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ri,Q(t,"leaflet-container"+(di?" leaflet-touch":"")+(pi?" leaflet-retina":"")+(We?" leaflet-oldie":"")+(Je?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=U(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),at(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Q(t.markerPane,"leaflet-zoom-hide"),Q(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){at(this._mapPane,new b(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){e===undefined&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){at(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[n(this._container)]=this;var e=t?mt:gt;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),ri&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_(this._resizeRequest),this._resizeRequest=m(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,o=[],r="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((i=this._targets[n(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(r&&!jt(s,t))break;if(o.push(i),r)break}if(s===this._container)break;s=s.parentNode}return o.length||a||r||!jt(s,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!Dt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||dt(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,n){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,i))).length){var r=n[0];"contextmenu"===i&&r.listens(i,!0)&&kt(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10)
;s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(i,s,!0),s.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,i))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return lt(this._mapPane)||new b(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&e!==undefined?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return k([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),r=new w(n.subtract(o),n.add(o)),s=this._getBoundsOffset(r,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new w(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=k(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),r=n.max.subtract(t.max);return new b(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=ri?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=V("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=ji,i=this._proxy.style[e];st(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Z(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();st(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o))&&(m(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),m(function(){this._moveEnd(!0)},this))}}),Bi=v.extend({options:{position:"topright"},initialize:function(t){c(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return Q(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Z(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Wi=function(t){return new Bi(t)};Hi.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,o){var r=i+t+" "+i+o;e[t+o]=V("div",r,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=V("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Z(this._controlCorners[t]);Z(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $i=Bi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in c(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Bi.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(n(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=V("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),wt(e),xt(e);var n=this._section=V("section",t+"-list");i&&(this._map.on("click",this.collapse,this),qe||gt(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=V("a",t+"-toggle",e);o.href="#",o.title="Layers",di?(gt(o,"click",Ct),gt(o,"click",this.expand,this)):gt(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=V("div",t+"-base",n),this._separator=V("div",t+"-separator",n),this._overlaysList=V("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&n(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;K(this._baseLayersList),K(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(n(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+n(this),o),this._layerControlInputs.push(e),e.layerId=n(t.layer),gt(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var s=document.createElement("div");return i.appendChild(s),s.appendChild(e),s.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])||this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==undefined&&n<e.options.minZoom||e.options.maxZoom!==undefined&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Yi=function(t,e,i){return new $i(t,e,i)},qi=Bi.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=V("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var r=V("a",i,n);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),wt(r),gt(r,"click",Ct),gt(r,"click",o,this),gt(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";tt(this._zoomInButton,e),tt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&Q(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&Q(this._zoomInButton,e)}});Hi.mergeOptions({zoomControl:!0}),Hi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qi,this.addControl(this.zoomControl))});var Ui=function(t){return new qi(t)},Vi=Bi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=V("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=V("div",e,i)),t.imperial&&(this._iScale=V("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Zi=function(t){return new Vi(t)},Ki=Bi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){c(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=V("div","leaflet-control-attribution"),wt(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});Hi.mergeOptions({attributionControl:!0}),Hi.addInitHook(function(){this.options.attributionControl&&(new Ki).addTo(this)});var Gi=function(t){return new Ki(t)};Bi.Layers=$i,Bi.Zoom=qi,Bi.Scale=Vi,Bi.Attribution=Ki,Wi.layers=Yi,Wi.zoom=Ui,Wi.scale=Zi,Wi.attribution=Gi;var Xi=v.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xi.addTo=function(t,e){return t.addHandler(e,this),this};var Ji,Qi={Events:Te},tn=di?"touchstart mousedown":"mousedown",en={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},nn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},on=Me.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){c(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(gt(this._dragStartTarget,tn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(on._dragging===this&&this.finishDrag(),mt(this._dragStartTarget,tn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!J(this._element,"leaflet-zoom-anim")&&!(on._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(on._dragging=this,this._preventOutline&&dt(this._element),ht(),Ie(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,i=ft(this._element);this._startPoint=new b(e.clientX,e.clientY),this._parentScale=pt(i),gt(document,nn[t.type],this._onMove,this),gt(document,en[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new b(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,kt(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=lt(this._element).subtract(i),Q(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,_(this._animRequest),this._lastEvent=t,this._animRequest=m(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),at(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nn)mt(document,nn[t],this._onMove,this),mt(document,en[t],this._onUp,this);ct(),Le(),this._moved&&this._moving&&(_(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,on._dragging=!1}}),rn={simplify:Pt,pointToSegmentDistance:Et,closestPointOnSegment:It,clipSegment:Nt,_getEdgeIntersection:Ft,_getBitCode:Rt,_sqClosestPointOnSegment:Bt,isFlat:Wt,_flat:$t},sn={clipPolygon:Yt},an={project:function(t){return new b(t.lng,t.lat)},unproject:function(t){return new M(t.y,t.x)},bounds:new w([-180,-90],[180,90])},ln={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=r*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),r/2);return n=-i*Math.log(Math.max(a,1e-10)),new b(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),l=0,h=.1;l<15&&Math.abs(h)>1e-7;l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=h=Math.PI/2-2*Math.atan(s*e)-a;return new M(a*i,t.x*i/n)}},hn={LonLat:an,Mercator:ln,SphericalMercator:Ee},cn=e({},Ae,{code:"EPSG:3395",projection:ln,transformation:function(){var t=.5/(Math.PI*ln.R);return j(t,.5,-t,.5)}()}),dn=e({},Ae,{code:"EPSG:4326",projection:an,transformation:j(1/180,1,-1/180,.5)}),un=e({},je,{projection:an,transformation:j(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});je.Earth=Ae,je.EPSG3395=cn,je.EPSG3857=Fe,je.EPSG900913=Re,je.EPSG4326=dn,je.Simple=un;var fn=Me.extend({options:{pane:"overlayPane",
// String to be shown in the attribution control, e.g. " OpenStreetMap contributors". It describes the layer data and is often a legal obligation towards copyright holders and tile providers.
attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[n(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[n(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Hi.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=n(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=n(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&n(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?ye(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[n(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=n(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=Infinity,e=-Infinity,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=o.minZoom===undefined?t:Math.min(t,o.minZoom),e=o.maxZoom===undefined?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-Infinity?undefined:e,this._layersMinZoom=t===Infinity?undefined:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var pn=fn.extend({initialize:function(t,e){var i,n;if(c(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return n(t)}}),gn=function(t,e){return new pn(t,e)},mn=pn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),pn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),pn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new C;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),_n=function(t,e){return new mn(t,e)},vn=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){c(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=x(n),r=x("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return pi&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),yn=vn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return yn.imagePath||(yn.imagePath=this._detectIconPath()),(this.options.imagePath||yn.imagePath)+vn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=V("div","leaflet-default-icon-path",document.body),e=U(t,"background-image")||U(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),bn=Xi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new on(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Q(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=lt(e._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),l=k(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!l.contains(r)){var h=x((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(n);i.panBy(h,{animate:!1}),this._draggable._newPos._add(h),this._draggable._startPos._add(h),at(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=m(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(_(this._panRequest),this._panRequest=m(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=lt(e._icon),o=e._map.layerPointToLatLng(n);i&&at(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){_(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),xn=fn.extend({options:{icon:new yn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){c(this,e),this._latlng=S(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=S(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),Q(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(Q(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Z(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Z(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&at(this._icon,t),this._shadow&&at(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&nt(this._icon,t),this._shadow&&nt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),wn=fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return c(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),kn=wn.extend({options:{fill:!0,radius:10},initialize:function(t,e){c(this,e),this._latlng=S(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=S(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return wn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new w(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Cn=kn.extend({initialize:function(t,i,n){if("number"==typeof i&&(i=e({},n,{radius:i})),c(this,i),this._latlng=S(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new C(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:wn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===Ae.distance){var o=Math.PI/180,r=this._mRadius/Ae.R/o,s=i.project([e+r,t]),a=i.project([e-r,t]),l=s.add(a).divideBy(2),h=i.unproject(l).lat,c=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(h*o))/(Math.cos(e*o)*Math.cos(h*o)))/o;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-i.project([h,t-c]).x,this._radiusY=l.y-s.y}else{var d=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(d).x}this._updateBounds()}}),Tn=wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){c(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=Infinity,o=null,r=Bt,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],h=1,c=l.length;h<c;h++){var d=r(t,e=l[h-1],i=l[h],!0);d<n&&(n=d,o=r(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<l-1;t++)if(o=a[t],r=a[t+1],(n+=i=o.distanceTo(r))>e)return s=(n-e)/i,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=S(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new C,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Wt(t),n=0,o=t.length;n<o;n++)i?(e[n]=S(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new b(t,t);this._pxBounds=new w([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,i){var n,o,r=t[0]instanceof M,s=t.length;if(r){for(o=[],n=0;n<s;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,o,r,s,a,l=this._parts;for(e=0,n=0,o=this._rings.length;e<o;e++)for(i=0,r=(a=this._rings[e]).length;i<r-1;i++)(s=Nt(a[i],a[i+1],t,i,!0))&&(l[n]=l[n]||[],l[n].push(s[0]),s[1]===a[i+1]&&i!==r-2||(l[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=Pt(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,r,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(n=0,o=(s=(a=this._parts[i]).length)-1;n<s;o=n++)if((e||0!==n)&&Et(t,a[o],a[n])<=l)return!0;return!1}});Tn._flat=$t;var Mn=Tn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a,l,h=this._rings[0],c=h.length;if(!c)return null;for(r=s=a=0,t=0,e=c-1;t<c;e=t++)i=h[t],n=h[e],o=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*o,a+=(i.y+n.y)*o,r+=3*o;return l=0===r?h[0]:[s/r,a/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Tn.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof M&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Tn.prototype._setLatLngs.call(this,t),Wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new b(e,e);if(t=new w(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,r=this._rings.length;o<r;o++)(n=Yt(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,r,s,a,l,h=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(l=(e=this._parts[o]).length)-1;r<l;s=r++)i=e[r],n=e[s],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(h=!h);return h||Tn.prototype._containsPoint.call(this,t,!0)}}),Sn=mn.extend({initialize:function(t,e){c(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=ye(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=Xt(t,r);return s?(s.feature=oe(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t===undefined?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}}),Dn={toGeoJSON:function(t){return ne(this,{type:"Point",coordinates:ee(this.getLatLng(),t)})}};xn.include(Dn),Cn.include(Dn),kn.include(Dn),Tn.include({toGeoJSON:function(t){var e=!Wt(this._latlngs);return ne(this,{type:(e?"Multi":"")+"LineString",coordinates:ie(this._latlngs,e?1:0,!1,t)})}}),Mn.include({toGeoJSON:function(t){var e=!Wt(this._latlngs),i=e&&!Wt(this._latlngs[0]),n=ie(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),ne(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),pn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),ne(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer(function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(i)n.push(o.geometry);else{var r=oe(o);"FeatureCollection"===r.type?n.push.apply(n,r.features):n.push(r)}}}),i?ne(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var jn=re,An=fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=T(e),c(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Z(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&G(this._image),this},bringToBack:function(){return this._map&&X(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=T(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:V("img");Q(e,"leaflet-image-layer"),this._zoomAnimated&&Q(e,"leaflet-zoom-animated"),this.options.className&&Q(e,this.options.className),e.onselectstart=s,e.onmousemove=s,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;st(this._image,i,e)},_reset:function(){var t=this._image,e=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();at(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==undefined&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Pn=function(t,e,i){return new An(t,e,i)},En=An.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:V("video");if(Q(e,"leaflet-image-layer"),this._zoomAnimated&&Q(e,"leaflet-zoom-animated"),this.options.className&&Q(e,this.options.className),e.onselectstart=s,e.onmousemove=s,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],r=0;r<n.length;r++)o.push(n[r].src);this._url=n.length>0?o:[e.src]}else{ye(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var a=0;a<this._url.length;a++){var l=V("source");l.src=this._url[a],e.appendChild(l)}}}}),In=An.extend({_initImage:function(){var t=this._image=this._url;Q(t,"leaflet-image-layer"),this._zoomAnimated&&Q(t,"leaflet-zoom-animated"),this.options.className&&Q(t,this.options.className),t.onselectstart=s,t.onmousemove=s}}),Ln=fn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){c(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&nt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(nt(this._container,0),this._removeTimeout=setTimeout(i(Z,undefined,this._container),200)):Z(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=S(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&G(this._container),this},bringToBack:function(){return this._map&&X(this._container),this},_prepareOpen:function(t,e,i){if(e instanceof fn||(i=e,e=t),e instanceof mn)for(var n in t._layers){e=t._layers[n];break}if(!i)if(e.getCenter)i=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");i=e.getLatLng()}return this._source=e,this.update(),i},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=x(this.options.offset),i=this._getAnchor();this._zoomAnimated?at(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),On=Ln.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ln.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wn||this._source.on("preclick",bt))},onRemove:function(t){Ln.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wn||this._source.off("preclick",bt))},getEvents:function(){var t=Ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==undefined?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=V("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=V("div",t+"-content-wrapper",e);if(this._contentNode=V("div",t+"-content",i),wt(e),xt(this._contentNode),gt(e,"contextmenu",bt),this._tipContainer=V("div",t+"-tip-container",e),this._tip=V("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=V("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",gt(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&n>o?(e.height=o+"px",Q(t,r)):tt(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();at(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(U(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new b(this._containerLeft,-i-this._containerBottom);o._add(lt(this._container));var r=t.layerPointToContainerPoint(o),s=x(this.options.autoPanPadding),a=x(this.options.autoPanPaddingTopLeft||s),l=x(this.options.autoPanPaddingBottomRight||s),h=t.getSize(),c=0,d=0;r.x+n+l.x>h.x&&(c=r.x+n-h.x+l.x),r.x-c-a.x<0&&(c=r.x-a.x),r.y+i+l.y>h.y&&(d=r.y+i-h.y+l.y),r.y-d-a.y<0&&(d=r.y-a.y),(c||d)&&t.fire("autopanstart").panBy([c,d])}},_onCloseButtonClick:function(t){this._close(),Ct(t)},_getAnchor:function(){return x(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zn=function(t,e){return new On(t,e)};Hi.mergeOptions({closePopupOnClick:!0}),Hi.include({openPopup:function(t,e,i){return t instanceof On||(t=new On(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),fn.include({bindPopup:function(t,e){return t instanceof On?(c(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new On(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ct(t),e instanceof wn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Nn=Ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ln.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ln.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ln.prototype.getEvents.call(this);return di&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){
var t="leaflet-tooltip"+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=V("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,n=this._map,o=this._container,r=n.latLngToContainerPoint(n.getCenter()),s=n.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,h=o.offsetHeight,c=x(this.options.offset),d=this._getAnchor();"top"===a?(e=l/2,i=h):"bottom"===a?(e=l/2,i=0):"center"===a?(e=l/2,i=h/2):"right"===a?(e=0,i=h/2):"left"===a?(e=l,i=h/2):s.x<r.x?(a="right",e=0,i=h/2):(a="left",e=l+2*(c.x+d.x),i=h/2),t=t.subtract(x(e,i,!0)).add(c).add(d),tt(o,"leaflet-tooltip-right"),tt(o,"leaflet-tooltip-left"),tt(o,"leaflet-tooltip-top"),tt(o,"leaflet-tooltip-bottom"),Q(o,"leaflet-tooltip-"+a),at(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&nt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return x(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fn=function(t,e){return new Nn(t,e)};Hi.include({openTooltip:function(t,e,i){return t instanceof Nn||(t=new Nn(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),fn.include({bindTooltip:function(t,e){return t instanceof Nn?(c(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Nn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),di&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Q(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(tt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:undefined)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var Rn=vn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(K(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=x(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});vn.Default=yn;var Hn=fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:si,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,maxNativeZoom:undefined,minNativeZoom:undefined,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){c(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Z(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=undefined},bringToFront:function(){return this._map&&(G(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(X(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof b?t:new b(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==undefined&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-Infinity,Infinity),o=0,r=i.length;o<r;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!We){nt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);nt(o.el,r),r<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(_(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=V("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===undefined)return undefined;for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(Z(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=V("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),s(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Z(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=undefined},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),r=Math.floor(e/2),s=i-1,a=new b(+o,+r);a.z=+s;var l=this._tileCoordsToKey(a),h=this._tiles[l];return h&&h.active?(h.retain=!0,!0):(h&&h.loaded&&(h.retain=!0),s>n&&this._retainParent(o,r,s,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new b(o,r);s.z=i+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(o,r,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return undefined!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:undefined!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=Math.round(e);o=this.options.maxZoom!==undefined&&o>this.options.maxZoom||this.options.minZoom!==undefined&&o<this.options.minZoom?undefined:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),o!==undefined&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();ri?st(t.el,o,n):at(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*n);return new w(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===undefined&&(t=e.getCenter()),this._tileZoom!==undefined){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),r=o.getCenter(),s=[],a=this.options.keepBuffer,l=new w(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var h in this._tiles){var c=this._tiles[h].coords;c.z===this._tileZoom&&l.contains(new b(c.x,c.y))||(this._tiles[h].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var d=o.min.y;d<=o.max.y;d++)for(var u=o.min.x;u<=o.max.x;u++){var f=new b(u,d);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(u=0;u<s.length;u++)this._addTile(s[u],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return T(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i);return[e.unproject(n,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new C(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new b(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(Z(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Q(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s,t.onmousemove=s,We&&this.options.opacity<1&&nt(t,this.options.opacity),qe&&!Ue&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&m(i(this._tileReady,this,t,null,r)),at(r,n),this._tiles[o]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(nt(n.el,0),_(this._fadeFrame),this._fadeFrame=m(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(Q(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),We||!this._map._fadeAnimated?m(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new b(this._wrapX?r(t.x,this._wrapX):t.x,this._wrapY?r(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new w(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Bn=Hn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=c(this,e)).detectRetina&&pi&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),qe||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===undefined&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return gt(n,"load",i(this._tileOnLoad,this,e,n)),gt(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var i={r:pi?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=n),i["-y"]=n}return u(this._url,e(i,this.options))},_tileOnLoad:function(t,e){We?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=s,e.onerror=s,e.complete||(e.src=be,Z(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return Ze||e.el.setAttribute("src",be),Hn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==be))return Hn.prototype._tileReady.call(this,t,e,i)}}),Wn=Bn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var n=e({},this.defaultWmsParams);for(var o in i)o in this.options||(n[o]=i[o]);var r=(i=c(this,i)).detectRetina&&pi?2:1,s=this.getTileSize();n.width=s.x*r,n.height=s.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Bn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=k(i.project(e[0]),i.project(e[1])),o=n.min,r=n.max,s=(this._wmsVersion>=1.3&&this._crs===dn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=Bn.prototype.getTileUrl.call(this,t);return a+d(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,i){return e(this.wmsParams,t),i||this.redraw(),this}});Bn.WMS=Wn,ce.wms=de;var $n=fn.extend({options:{padding:.1,tolerance:0},initialize:function(t){c(this,t),n(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=lt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-i).add(n).add(o).subtract(s);ri?st(this._container,a,i):at(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new w(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yn=$n.extend({getEvents:function(){var t=$n.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$n.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");gt(t,"mousemove",this._onMouseMove,this),gt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){_(this._redrawRequest),delete this._ctx,Z(this._container),mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){$n.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=pi?2:1;at(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",pi&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){$n.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[n(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[n(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||m(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),i=0;i<a;i++){for(n=0,o=s[i].length;n<o;n++)r=s[i][n],l[n?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(i=e);i&&(St(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(tt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(Q(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}}),qn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Un={_initContainer:function(){this._container=V("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($n.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=qn("shape");Q(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=qn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Z(e),t.removeInteractiveTarget(e),delete this._layers[n(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=qn("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=ye(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=qn("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){G(t._container)},_bringToBack:function(t){X(t._container)}},Vn=vi?qn:A,Zn=$n.extend({getEvents:function(){var t=$n.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Vn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Z(this._container),mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){$n.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),at(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Vn("path");t.options.className&&Q(e,t.options.className),t.options.interactive&&Q(e,"leaflet-interactive"),this._updateStyle(t),this._layers[n(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Z(t._path),t.removeInteractiveTarget(t._path),delete this._layers[n(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,P(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){G(t._path)},_bringToBack:function(t){X(t._path)}});vi&&Zn.include(Un),Hi.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===undefined)return!1;var e=this._paneRenderers[t];return e===undefined&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ue(t)||fe(t)}});var Kn=Mn.extend({initialize:function(t,e){Mn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=T(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Zn.create=Vn,Zn.pointsToPath=P,Sn.geometryToLayer=Xt,Sn.coordsToLatLng=Qt,Sn.coordsToLatLngs=te,Sn.latLngToCoords=ee,Sn.latLngsToCoords=ie,Sn.getFeature=ne,Sn.asFeature=oe,Hi.mergeOptions({boxZoom:!0});var Gn=Xi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Z(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Ie(),ht(),this._startPoint=this._map.mouseEventToContainerPoint(t),gt(document,{contextmenu:Ct,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=V("div","leaflet-zoom-box",this._container),Q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new w(this._point,this._startPoint),i=e.getSize();at(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(Z(this._box),tt(this._container,"leaflet-crosshair")),Le(),ct(),mt(document,{contextmenu:Ct,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new C(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Hi.addInitHook("addHandler","boxZoom",Gn),Hi.mergeOptions({doubleClickZoom:!0});var Xn=Xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Hi.addInitHook("addHandler","doubleClickZoom",Xn),Hi.mergeOptions({dragging:!0,inertia:!Ue,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jn=Xi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new on(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,
dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=T(this._map.options.maxBounds);this._offsetLimit=k(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,r=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(r+i)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=o.multiplyBy(s/r),l=a.distanceTo([0,0]),h=Math.min(i.inertiaMaxSpeed,l),c=a.multiplyBy(h/l),d=h/(i.inertiaDeceleration*s),u=c.multiplyBy(-d/2).round();u.x||u.y?(u=e._limitOffset(u,e.options.maxBounds),m(function(){e.panBy(u,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Hi.addInitHook("addHandler","dragging",Jn),Hi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qn=Xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),gt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=x(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Ct(t)}}});Hi.addInitHook("addHandler","keyboard",Qn),Hi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var to=Xi.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Mt(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),o),Ct(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=i?Math.ceil(o/i)*i:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Hi.addInitHook("addHandler","scrollWheelZoom",to),Hi.mergeOptions({tap:!0,tapTolerance:15});var eo=Xi.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(kt(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new b(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&Q(n,"leaflet-active"),this._holdTimeout=setTimeout(i(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),gt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),mt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&tt(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new b(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});!di||ci&&!Je||Hi.addInitHook("addHandler","tap",eo),Hi.mergeOptions({touchZoom:di&&!Ue,bounceAtZoomLimits:!0});var io=Xi.extend({addHooks:function(){Q(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend",this._onTouchEnd,this),kt(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),_(this._animRequest);var a=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=m(a,this,!0),kt(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,_(this._animRequest),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Hi.addInitHook("addHandler","touchZoom",io),Hi.BoxZoom=Gn,Hi.DoubleClickZoom=Xn,Hi.Drag=Jn,Hi.Keyboard=Qn,Hi.ScrollWheelZoom=to,Hi.Tap=eo,Hi.TouchZoom=io,t.version=ge,t.Control=Bi,t.control=Wi,t.Browser=yi,t.Evented=Me,t.Mixin=Qi,t.Util=Ce,t.Class=v,t.Handler=Xi,t.extend=e,t.bind=i,t.stamp=n,t.setOptions=c,t.DomEvent=Fi,t.DomUtil=Ii,t.PosAnimation=Ri,t.Draggable=on,t.LineUtil=rn,t.PolyUtil=sn,t.Point=b,t.point=x,t.Bounds=w,t.bounds=k,t.Transformation=D,t.transformation=j,t.Projection=hn,t.LatLng=M,t.latLng=S,t.LatLngBounds=C,t.latLngBounds=T,t.CRS=je,t.GeoJSON=Sn,t.geoJSON=re,t.geoJson=jn,t.Layer=fn,t.LayerGroup=pn,t.layerGroup=gn,t.FeatureGroup=mn,t.featureGroup=_n,t.ImageOverlay=An,t.imageOverlay=Pn,t.VideoOverlay=En,t.videoOverlay=se,t.SVGOverlay=In,t.svgOverlay=ae,t.DivOverlay=Ln,t.Popup=On,t.popup=zn,t.Tooltip=Nn,t.tooltip=Fn,t.Icon=vn,t.icon=qt,t.DivIcon=Rn,t.divIcon=le,t.Marker=xn,t.marker=Ut,t.TileLayer=Bn,t.tileLayer=ce,t.GridLayer=Hn,t.gridLayer=he,t.SVG=Zn,t.svg=fe,t.Renderer=$n,t.Canvas=Yn,t.canvas=ue,t.Path=wn,t.CircleMarker=kn,t.circleMarker=Vt,t.Circle=Cn,t.circle=Zt,t.Polyline=Tn,t.polyline=Kt,t.Polygon=Mn,t.polygon=Gt,t.Rectangle=Kn,t.rectangle=pe,t.Map=Hi,t.map=At;var no=window.L;t.noConflict=function(){return window.L=no,this},window.L=t}),L.Icon.Default=L.Icon.Default.extend({_getIconUrl:function(t){return{"icon-2x.png":"/assets/marker-icon-2x-00179c4c1ee830d3a108412ae0d294f55776cfeb085c60129a39aa6fc4ae2528.png","shadow.png":"/assets/marker-shadow-264f5c640339f042dd729062cfc04c17f8ea0f29882b538e3848ed8f10edb4da.png","icon.png":"/assets/marker-icon-574c3a5cca85f4114085b6841596d62f00d7c892c7b03f28cbfa301deb1dc437.png"}[t+".png"]},_detectIconPath:function(){return""}}),L.Marker=L.Marker.extend({options:{icon:new L.Icon.Default}}),L.marker=function(t,e){return new L.Marker(t,e)},function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Chartkick=e()}(this,function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Function}function i(t){return"[object Object]"===Object.prototype.toString.call(t)&&!e(t)&&t instanceof Object}function n(e,o){var r;for(r in o)"__proto__"!==r&&(i(o[r])||t(o[r])?(i(o[r])&&!i(e[r])&&(e[r]={}),t(o[r])&&!t(e[r])&&(e[r]=[]),n(e[r],o[r])):o[r]!==undefined&&(e[r]=o[r]))}function o(t,e){var i={};return n(i,t),n(i,e),i}function r(t){var e,i,n,o,r,s,a,l,h,c,d;return"[object Date]"===(c=Object.prototype.toString.call(t))?t:"[object String]"===c&&(n=t.match(X))?(d=parseInt(n[1],10),s=parseInt(n[3],10)-1,e=parseInt(n[5],10),i=parseInt(n[7],10),r=n[9]?parseInt(n[9],10):0,h=n[11]?parseInt(n[11],10):0,o=n[12]?1e3*parseFloat(J+n[12].slice(1)):0,l=Date.UTC(d,s,e,i,r,h,o),n[13]&&n[14]&&(a=60*n[15],n[17]&&(a+=parseInt(n[17],10)),l-=60*(a*="-"===n[14]?-1:1)*1e3),new Date(l)):void 0}function s(t){var e,i,n;for(e=0;e<t.length;e++)for(n=t[e].data,i=0;i<n.length;i++)if(n[i][1]<0)return!0;return!1}function a(t){return""+t}function l(t){return parseFloat(t)}function h(t){var e,i,n,o;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(e=(t=a(t)).match(G))return i=parseInt(e[1],10),n=parseInt(e[3],10)-1,o=parseInt(e[5],10),new Date(i,n,o);t=r(t.replace(/ /,"T").replace(" ","").replace("UTC","Z"))||new Date(t)}return t}function c(e){if(!t(e)){var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push([i,e[i]]);e=n}return e}function d(t,e,i,n,r,a,l,h){return function(c,d,u){var f=c.data,p=o({},t);return p=o(p,u||{}),(c.hideLegend||"legend"in d)&&e(p,d.legend,c.hideLegend),d.title&&i(p,d.title),"min"in d?n(p,d.min):s(f)||n(p,0),d.max&&r(p,d.max),"stacked"in d&&a(p,d.stacked),d.colors&&(p.colors=d.colors),d.xtitle&&l(p,d.xtitle),d.ytitle&&h(p,d.ytitle),p=o(p,d.library||{})}}function u(t,e){return t[0].getTime()-e[0].getTime()}function f(t,e){return t[0]-e[0]}function p(t,e){return t-e}function g(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function m(t){return g(t)&&0===t.getMinutes()}function _(t){return m(t)&&0===t.getHours()}function v(t,e){return _(t)&&t.getDay()===e}function y(t){return _(t)&&1===t.getDate()}function b(t){return y(t)&&0===t.getMonth()}function x(t){return!isNaN(h(t))&&a(t).length>=6}function w(t){return"number"==typeof t}function k(t,e,i,n){t=t||"",i.prefix&&(e<0&&(e*=-1,t+="-"),t+=i.prefix);var o=i.suffix||"",r=i.precision,s=i.round;if(i.byteScale){var l,h=n?i.byteScale:e;h>=0x1000000000000000?(e/=0x1000000000000000,l=6):h>=0x4000000000000?(e/=0x4000000000000,l=5):h>=1099511627776?(e/=1099511627776,l=4):h>=1073741824?(e/=1073741824,l=3):h>=1048576?(e/=1048576,l=2):h>=1024?(e/=1024,l=1):l=0,r===undefined&&s===undefined&&(e>=1023.5&&l<Q.length-1&&(e=1,l+=1),r=e>=1e3?4:3),o=" "+Q[l]}if(r!==undefined&&s!==undefined)throw Error("Use either round or precision, not both");if(!n&&(r!==undefined&&(e=e.toPrecision(r),i.zeros||(e=parseFloat(e))),s!==undefined))if(s<0){var c=Math.pow(10,-1*s);e=parseInt((1*e/c).toFixed(0))*c}else e=e.toFixed(s),i.zeros||(e=parseFloat(e));if(i.thousands||i.decimal){var d=(e=a(e)).split(".");e=d[0],i.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,i.thousands)),d.length>1&&(e+=(i.decimal||".")+d[1])}return t+e+o}function C(t,e,i){return i in e?e[i]:i in t.options?t.options[i]:null}function T(t){var e,i,n;for(e=0;e<t.length;e++)for(n=t[e].data,i=0;i<n.length;i++)if(0!=n[i][1])return!1;return!0}function M(t,e,i){Ft.push([t,e,i]),S()}function S(){if(Rt<Ht){var t=Ft.shift();t&&(Rt++,j(t[0],t[1],t[2]),S())}}function D(){Rt--,S()}function j(t,e,i){A(t,e,function(t,e,n){var o="string"==typeof n?n:n.message;i(o)})}function A(t,e,i){var n=window.jQuery||window.Zepto||window.$;if(n&&n.ajax)n.ajax({dataType:"json",url:t,success:e,error:i,complete:D});else{var o=new XMLHttpRequest;o.open("GET",t,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){D(),200===o.status?e(JSON.parse(o.responseText),o.statusText,o):i(o,"error",o.statusText)},o.send()}}function P(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function E(t,e,i){i||(e="Error Loading Chart: "+e),P(t,e),t.style.color="#ff0000"}function I(t){try{t.__render()}catch(e){throw E(t.element,e.message),e}}function L(t,e){if("string"==typeof e)M(e,function(e){t.rawData=e,I(t)},function(e){E(t.element,e)});else if("function"==typeof e)try{e(function(e){t.rawData=e,I(t)},function(e){E(t.element,e,!0)})}catch(i){E(t.element,i,!0)}else t.rawData=e,I(t)}function O(t){var e=t.element,i=document.createElement("a"),n=t.options.download;!0===n?n={}:"string"==typeof n&&(n={filename:n}),i.download=n.filename||"chart.png",i.style.position="absolute",i.style.top="20px",i.style.right="20px",i.style.zIndex=1e3,i.style.lineHeight="20px",i.target="_blank";var o=document.createElement("img");o.alt="Download",o.style.border="none",o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",i.appendChild(o),e.style.position="relative",t.__downloadAttached=!0,t.__enterEvent=z(e,"mouseover",function(o){var r=o.relatedTarget;r&&(r===this||F(this,r))||!t.options.download||(i.href=t.toImage(n),e.appendChild(i))}),t.__leaveEvent=z(e,"mouseout",function(t){var e=t.relatedTarget;e&&(e===this||F(this,e))||i.parentNode&&i.parentNode.removeChild(i)})}function z(t,e,i){if(t.addEventListener)return t.addEventListener(e,i,!1),i;var n=function(){return i.call(t,window.event)};return t.attachEvent("on"+e,n),n}function N(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)}function F(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function R(t){if(t){if("Highcharts"===t.product)return Ct;if(t.charts)return Nt;if(e(t))return vt}throw new Error("Unknown adapter")}function H(t){var e=new(R(t))(t);-1===Wt.indexOf(e)&&Wt.push(e)}function B(){"Chart"in window&&H(window.Chart),"Highcharts"in window&&H(window.Highcharts),window.google&&window.google.charts&&H(window.google)}function W(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var i=0;i<t.length;i++)if(t[i].data.length>0)return!1;return!0}function $(t,e){e.options.messages&&e.options.messages.empty&&W(e.data,t)?P(e.element,e.options.messages.empty):(Y(t,e),e.options.download&&!e.__downloadAttached&&"chartjs"===e.adapter&&O(e))}function Y(t,i){var n,o,r,s;for(r="render"+t,s=i.options.adapter,B(),n=0;n<Wt.length;n++)if(o=Wt[n],(!s||s===o.name)&&e(o[r]))return i.adapter=o.name,i.__adapterObject=o,o[r](i);throw Wt.length>0?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}function q(t,e,i){return W(t)?!i.xmin&&!i.xmax||i.xmin&&!x(i.xmin)||i.xmax&&!x(i.xmax)?"number":"datetime":U(t,w)?"number":!e&&U(t,x)?"datetime":"string"}function U(t,e){var i,n,o;for(i=0;i<t.length;i++)for(o=c(t[i].data),n=0;n<o.length;n++)if(!e(o[n][0]))return!1;return!0}function V(t){var e,i,n=[];for(e=0;e<t.length;e++){var o={};for(i in t[e])t[e].hasOwnProperty(i)&&(o[i]=t[e][i]);n.push(o)}return n}function Z(e,i,n){var o,r=e.options,s=e.rawData;for(!t(s)||"object"!=typeof s[0]||t(s[0])?(s=[{name:r.label,data:s}],e.hideLegend=!0):e.hideLegend=!1,s=V(s),o=0;o<s.length;o++)s[o].data=c(s[o].data);for(e.xtype=i||(r.discrete?"string":q(s,n,r)),o=0;o<s.length;o++)s[o].data=Yt(s[o].data,e.xtype);return s}function K(t){var e,i=c(t.rawData);for(e=0;e<i.length;e++)i[e]=[a(i[e][0]),l(i[e][1])];return i}var G=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,X=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,J=String(1.5).charAt(1),Q=["bytes","KB","MB","GB","TB","PB","EB"],tt={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},et={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},it=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],nt=function(t,e,i){e!==undefined?(t.legend.display=!!e,e&&!0!==e&&(t.legend.position=e)):i&&(t.legend.display=!1)},ot=function(t,e){t.title.display=!0,t.title.text=e},rt=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=l(e))},st=function(t,e){t.scales.yAxes[0].ticks.max=l(e)},at=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=l(e))},lt=function(t,e){t.scales.xAxes[0].ticks.max=l(e)},ht=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},ct=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},dt=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},ut=function(t,e){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?"rgba("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+", "+e+")":t},ft=function(t){return null!=t},pt=function(t,e,i){var n=Math.ceil(t.element.offsetWidth/4/e.labels.length);n>25?n=25:n<10&&(n=10),i.scales.xAxes[0].ticks.callback||(i.scales.xAxes[0].ticks.callback=function(t){return(t=a(t)).length>n?t.substring(0,n-2)+"...":t})},gt=function(e,i,n){var o={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros};if(e.options.bytes){var r=e.data;"pie"===n&&(r=[{data:r}]);for(var s=0,a=0;a<r.length;a++)for(var l=r[a],h=0;h<l.data.length;h++)l.data[h][1]>s&&(s=l.data[h][1]);for(var c=1;s>=1024;)c*=1024,s/=1024;o.byteScale=c}if("pie"!==n){var d=i.scales.yAxes;"bar"===n&&(d=i.scales.xAxes),o.byteScale&&(d[0].ticks.stepSize||(d[0].ticks.stepSize=o.byteScale/2),d[0].ticks.maxTicksLimit||(d[0].ticks.maxTicksLimit=4)),d[0].ticks.callback||(d[0].ticks.callback=function(t){return k("",t,o,!0)})}if(!i.tooltips.callbacks.label)if("scatter"===n)i.tooltips.callbacks.label=function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),i+"("+t.xLabel+", "+t.yLabel+")"};else if("bubble"===n)i.tooltips.callbacks.label=function(t,e){var i=e.datasets[t.datasetIndex].label||"";i&&(i+=": ");var n=e.datasets[t.datasetIndex].data[t.index];return i+"("+t.xLabel+", "+t.yLabel+", "+n.v+")"};else if("pie"===n)i.tooltips.callbacks.label=function(e,i){var n=i.labels[e.index],r=": ";return t(n)?(n=n.slice())[0]+=r:n+=r,k(n,i.datasets[e.datasetIndex].data[e.index],o)};else{var u="bar"===n?"xLabel":"yLabel";i.tooltips.callbacks.label=function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),k(i,t[u],o)}}},mt=d(o(tt,et),nt,ot,rt,st,ht,ct,dt),_t=function(t,e,i,n){var r,s=[],a=[],c=t.options.colors||it,d=!0,u=!0,f=!0,x=!0,w=!0,k=!0,T=t.data,M=0;if("bubble"===i)for(var S=0;S<T.length;S++)for(var D=T[S],j=0;j<D.data.length;j++)D.data[j][2]>M&&(M=D.data[j][2]);var A,P,E,I,L,O=[],z=[];if("bar"===i||"column"===i||"number"!==t.xtype&&"bubble"!==t.xtype){var N,F,R=[];for(A=0;A<T.length;A++)for(E=T[A],P=0;P<E.data.length;P++)I=E.data[P],O[L="datetime"==t.xtype?I[0].getTime():I[0]]||(O[L]=new Array(T.length)),O[L][A]=l(I[1]),-1===R.indexOf(L)&&R.push(L);for("datetime"!==t.xtype&&"number"!==t.xtype||R.sort(p),P=0;P<T.length;P++)z.push([]);for(F=0;F<R.length;F++)for(A=R[F],"datetime"===t.xtype?(N=new Date(l(A)),d=d&&_(N),r||(r=N.getDay()),u=u&&v(N,r),f=f&&y(N),x=x&&b(N),w=w&&m(N),k=k&&g(N)):N=A,a.push(N),P=0;P<T.length;P++)z[P].push(O[A][P]===undefined?null:O[A][P])}else for(var H=0;H<T.length;H++){for(var B=T[H],W=[],$=0;$<B.data.length;$++){var Y={x:l(B.data[$][0]),y:l(B.data[$][1])};"bubble"===i&&(Y.r=20*l(B.data[$][2])/M,Y.v=B.data[$][2]),W.push(Y)}z.push(W)}for(A=0;A<T.length;A++){var q=(E=T[A]).color||c[A],U="line"!==i?ut(q,.5):q,V={label:E.name||"",data:z[A],fill:"area"===i,borderColor:q,backgroundColor:U,pointBackgroundColor:q,borderWidth:2,pointHoverBackgroundColor:q};E.stack&&(V.stack=E.stack),!1===C(t,E,"curve")&&(V.lineTension=0),!1===C(t,E,"points")&&(V.pointRadius=0,V.pointHitRadius=5),V=o(V=o(V=o(V,t.options.dataset||{}),E.library||{}),E.dataset||{}),s.push(V)}var Z=t.options.xmin,K=t.options.xmax;if("datetime"===t.xtype){var G="math"in n.helpers?"ticks":"time";ft(Z)&&(e.scales.xAxes[0][G].min=h(Z).getTime()),ft(K)&&(e.scales.xAxes[0][G].max=h(K).getTime())}else"number"===t.xtype&&(ft(Z)&&(e.scales.xAxes[0].ticks.min=Z),ft(K)&&(e.scales.xAxes[0].ticks.max=K));if("datetime"===t.xtype&&0===a.length&&(ft(Z)&&a.push(h(Z)),ft(K)&&a.push(h(K)),d=!1,u=!1,f=!1,x=!1,w=!1,k=!1),"datetime"===t.xtype&&a.length>0){var X=(ft(Z)?h(Z):a[0]).getTime(),J=(ft(K)?h(K):a[0]).getTime();for(A=1;A<a.length;A++){var Q=a[A].getTime();Q<X&&(X=Q),Q>J&&(J=Q)}var tt,et=(J-X)/864e5;if(!e.scales.xAxes[0].time.unit)if(x||et>3650?(e.scales.xAxes[0].time.unit="year",tt=365):f||et>300?(e.scales.xAxes[0].time.unit="month",tt=30):d||et>10?(e.scales.xAxes[0].time.unit="day",tt=1):w||et>.5?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",tt=1/24):k&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",tt=1/24/60),tt&&et>0){var nt=Math.ceil(et/tt/(t.element.offsetWidth/100));u&&1===tt&&(nt=7*Math.ceil(nt/7)),e.scales.xAxes[0].time.unitStepSize=nt}e.scales.xAxes[0].time.tooltipFormat||(d?e.scales.xAxes[0].time.tooltipFormat="ll":w?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":k&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}return{labels:a,datasets:s}},vt=function(t){this.name="chartjs",this.library=t};vt.prototype.renderLineChart=function(t,e){var i={};!t.options.max&&T(t.data)&&(i.max=1);var n=mt(t,o(i,t.options));gt(t,n,e);var r=_t(t,n,e||"line",this.library);"number"===t.xtype?(n.scales.xAxes[0].type="linear",n.scales.xAxes[0].position="bottom"):n.scales.xAxes[0].type="string"===t.xtype?"category":"time",this.drawChart(t,"line",r,n)},vt.prototype.renderPieChart=function(t){var e=o({},tt);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&nt(e,t.options.legend),t.options.title&&ot(e,t.options.title),e=o(e,t.options.library||{}),gt(t,e,"pie");for(var i=[],n=[],r=0;r<t.data.length;r++){var s=t.data[r];i.push(s[0]),n.push(s[1])}var a={data:n,backgroundColor:t.options.colors||it},l={labels:i,datasets:[a=o(a,t.options.dataset||{})]};this.drawChart(t,"pie",l,e)},vt.prototype.renderColumnChart=function(t,e){var i;if("bar"===e){var n=o(tt,et);delete n.scales.yAxes[0].ticks.maxTicksLimit,i=d(n,nt,ot,at,lt,ht,ct,dt)(t,t.options)}else i=mt(t,t.options);gt(t,i,e);var r=_t(t,i,"column",this.library);"bar"!==e&&pt(t,r,i),this.drawChart(t,"bar"===e?"horizontalBar":"bar",r,i)},vt.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")},vt.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},vt.prototype.renderScatterChart=function(t,e){e=e||"scatter";var i=mt(t,t.options);gt(t,i,e),"showLines"in i||(i.showLines=!1);var n=_t(t,i,e,this.library);i.scales.xAxes[0].type="linear",i.scales.xAxes[0].position="bottom",this.drawChart(t,e,n,i)},vt.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")},vt.prototype.destroy=function(t){t.chart&&t.chart.destroy()},vt.prototype.drawChart=function(t,e,i,n){this.destroy(t);var o={type:e,data:i,options:n};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(o)+");"),t.element.innerHTML="<canvas></canvas>";var r=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(r,o)};var yt={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}}},bt=function(t,e,i){e!==undefined?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):i&&(t.legend.enabled=!1)},xt=function(t,e){t.title.text=e},wt=d(yt,bt,xt,function(t,e){t.yAxis.min=e},function(t,e){t.yAxis.max=e},function(t,e){var i=e?!0===e?"normal":e:null;t.plotOptions.series.stacking=i,t.plotOptions.area.stacking=i,t.plotOptions.areaspline.stacking=i},function(t,e){t.xAxis.title.text=e},function(t,e){t.yAxis.title.text=e}),kt=function(t,e,i){var n={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};"pie"===i||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return k("",this.value,n)}),e.tooltip.pointFormatter||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25cf</span> '+k(this.series.name+": <b>",this.y,n)+"</b><br/>"})},Ct=function(t){this.name="highcharts",this.library=t};Ct.prototype.renderLineChart=function(t,e){var i={};"areaspline"===(e=e||"spline")&&(i={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var n,o,r,s=wt(t,t.options,i);s.xAxis.type="string"===t.xtype?"category":"number"===t.xtype?"linear":"datetime",s.chart.type||(s.chart.type=e),kt(t,s,e);var a=t.data;for(o=0;o<a.length;o++){if(a[o].name=a[o].name||"Value",n=a[o].data,"datetime"===t.xtype)for(r=0;r<n.length;r++)n[r][0]=n[r][0].getTime();a[o].marker={symbol:"circle"},!1===t.options.points&&(a[o].marker.enabled=!1)}this.drawChart(t,a,s)},Ct.prototype.renderScatterChart=function(t){var e=wt(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},Ct.prototype.renderPieChart=function(t){var e=o(yt,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&bt(e,t.options.legend),t.options.title&&xt(e,t.options.title);var i=o(e,t.options.library||{});kt(t,i,"pie");var n=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,n,i)},Ct.prototype.renderColumnChart=function(t,e){e=e||"column";var i,n,o,r,s=t.data,a=wt(t,t.options),l=[],h=[];for(a.chart.type=e,kt(t,a,e),i=0;i<s.length;i++)for(o=s[i],n=0;n<o.data.length;n++)l[(r=o.data[n])[0]]||(l[r[0]]=new Array(s.length),h.push(r[0])),l[r[0]][i]=r[1];"number"===t.xtype&&h.sort(p),a.xAxis.categories=h;var c,d=[];for(i=0;i<s.length;i++){for(r=[],n=0;n<h.length;n++)r.push(l[h[n]][i]||0);c={name:s[i].name||"Value",data:r},s[i].stack&&(c.stack=s[i].stack),d.push(c)}this.drawChart(t,d,a)},Ct.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},Ct.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")},Ct.prototype.destroy=function(t){t.chart&&t.chart.destroy()},Ct.prototype.drawChart=function(t,e,i){this.destroy(t),i.chart.renderTo=t.element.id,i.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(i)+");"),t.chart=new this.library.Chart(i)};var Tt={},Mt=[],St={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},Dt=function(t,e,i){var n;e!==undefined?(n=e?!0===e?"right":e:"none",t.legend.position=n):i&&(t.legend.position="none")},jt=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},At=function(t,e){t.hAxis.viewWindow.min=e},Pt=function(t,e){t.hAxis.viewWindow.max=e},Et=function(t,e){t.isStacked=e||!1
},It=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},Lt=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},Ot=d(St,Dt,jt,function(t,e){t.vAxis.viewWindow.min=e},function(t,e){t.vAxis.viewWindow.max=e},Et,It,Lt),zt=function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()},Nt=function(t){this.name="google",this.library=t};Nt.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={};!1===t.options.curve&&(i.curveType="none"),!1===t.options.points&&(i.pointSize=0);var n=Ot(t,t.options,i),o=e.createDataTable(t.data,t.xtype);e.drawChart(t,"LineChart",o,n)})},Nt.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(i.colors=t.options.colors),t.options.donut&&(i.pieHole=.5),"legend"in t.options&&Dt(i,t.options.legend),t.options.title&&jt(i,t.options.title);var n=o(o(St,i),t.options.library||{}),r=new e.library.visualization.DataTable;r.addColumn("string",""),r.addColumn("number","Value"),r.addRows(t.data),e.drawChart(t,"PieChart",r,n)})},Nt.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,function(){var i=Ot(t,t.options),n=e.createDataTable(t.data,t.xtype);e.drawChart(t,"ColumnChart",n,i)})},Nt.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={hAxis:{gridlines:{color:"#ccc"}}},n=d(St,Dt,jt,At,Pt,Et,It,Lt)(t,t.options,i),o=e.createDataTable(t.data,t.xtype);e.drawChart(t,"BarChart",o,n)})},Nt.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,function(){var i={isStacked:!0,pointSize:0,areaOpacity:.5},n=Ot(t,t.options,i),o=e.createDataTable(t.data,t.xtype);e.drawChart(t,"AreaChart",o,n)})},Nt.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,"geochart",function(){var i={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},n=o(o(St,i),t.options.library||{}),r=new e.library.visualization.DataTable;r.addColumn("string",""),r.addColumn("number",t.options.label||"Value"),r.addRows(t.data),e.drawChart(t,"GeoChart",r,n)})},Nt.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,function(){var i,n,o,r,s={},a=Ot(t,t.options,s),l=t.data,h=[];for(i=0;i<l.length;i++)for(l[i].name=l[i].name||"Value",r=l[i].data,n=0;n<r.length;n++){var c=new Array(l.length+1);c[0]=r[n][0],c[i+1]=r[n][1],h.push(c)}for((o=new e.library.visualization.DataTable).addColumn("number",""),i=0;i<l.length;i++)o.addColumn("number",l[i].name);o.addRows(h),e.drawChart(t,"ScatterChart",o,a)})},Nt.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",function(){var i={legend:"none"};t.options.colors&&(i.colors=t.options.colors);var n=o(o(St,i),t.options.library||{}),r=new e.library.visualization.DataTable;r.addColumn({type:"string",id:"Name"}),r.addColumn({type:"date",id:"Start"}),r.addColumn({type:"date",id:"End"}),r.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,"Timeline",r,n)})},Nt.prototype.destroy=function(t){t.chart&&t.chart.clearChart()},Nt.prototype.drawChart=function(t,e,i,n){this.destroy(t),t.options.code&&window.console.log("var data = new google.visualization.DataTable("+i.toJSON()+");\nvar chart = new google.visualization."+e+"(element);\nchart.draw(data, "+JSON.stringify(n)+");"),t.chart=new this.library.visualization[e](t.element),zt(function(){t.chart.draw(i,n)})},Nt.prototype.waitForLoaded=function(t,e,i){var n=this;if(i||(i=e,e="corechart"),Mt.push({pack:e,callback:i}),Tt[e])this.runCallbacks();else{Tt[e]=!0;var o={packages:[e],callback:function(){n.runCallbacks()}},r=t.__config();r.language&&(o.language=r.language),"geochart"===e&&r.mapsApiKey&&(o.mapsApiKey=r.mapsApiKey),this.library.charts.load("current",o)}},Nt.prototype.runCallbacks=function(){for(var t,e=0;e<Mt.length;e++)t=Mt[e],this.library.visualization&&("corechart"===t.pack&&this.library.visualization.LineChart||"timeline"===t.pack&&this.library.visualization.Timeline||"geochart"===t.pack&&this.library.visualization.GeoChart)&&(t.callback(),Mt.splice(e,1),e--)},Nt.prototype.createDataTable=function(t,e){var i,n,o,r,s,h=[],c=[];for(i=0;i<t.length;i++)for(o=t[i],t[i].name=t[i].name||"Value",n=0;n<o.data.length;n++)r=o.data[n],h[s="datetime"===e?r[0].getTime():r[0]]||(h[s]=new Array(t.length),c.push(s)),h[s][i]=l(r[1]);var d,p=[],g=!0;for(n=0;n<c.length;n++)i=c[n],"datetime"===e?(d=new Date(l(i)),g=g&&_(d)):d="number"===e?l(i):i,p.push([d].concat(h[i]));if("datetime"===e)p.sort(u);else if("number"===e){for(p.sort(f),i=0;i<p.length;i++)p[i][0]=a(p[i][0]);e="string"}var m=new this.library.visualization.DataTable;for(e="datetime"===e&&g?"date":e,m.addColumn(e,""),i=0;i<t.length;i++)m.addColumn("number",t[i].name);return m.addRows(p),m};var Ft=[],Rt=0,Ht=4,Bt={},Wt=[],$t=function(t,e){return t="number"===e?l(t):"datetime"===e?h(t):a(t)},Yt=function(t,e){var i,n,o=[];for(n=0;n<t.length;n++)"bubble"===e?o.push([l(t[n][0]),l(t[n][1]),l(t[n][2])]):(i=$t(t[n][0],e),o.push([i,l(t[n][1])]));return"datetime"===e?o.sort(u):"number"===e&&o.sort(f),o},qt=function(t,e,i){var n;if("string"==typeof t&&(n=t,!(t=document.getElementById(t))))throw new Error("No element with id "+n);this.element=t,this.options=o(Ut.options,i||{}),this.dataSource=e,Ut.charts[t.id]=this,L(this,e),this.options.refresh&&this.startRefresh()};qt.prototype.getElement=function(){return this.element},qt.prototype.getDataSource=function(){return this.dataSource},qt.prototype.getData=function(){return this.data},qt.prototype.getOptions=function(){return this.options},qt.prototype.getChartObject=function(){return this.chart},qt.prototype.getAdapter=function(){return this.adapter},qt.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),L(this,t)},qt.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()},qt.prototype.redraw=function(){L(this,this.rawData)},qt.prototype.refreshData=function(){if("string"==typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";L(this,this.dataSource+t+"_="+(new Date).getTime())}else"function"==typeof this.dataSource&&L(this,this.dataSource)},qt.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(e&&"string"!=typeof this.dataSource&&"function"!=typeof this.dataSource)throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval(function(){t.refreshData()},1e3*e)}},qt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},qt.prototype.toImage=function(t){if("chartjs"===this.adapter){if(t&&t.background&&"transparent"!==t.background){var e=this.chart.chart.canvas,i=this.chart.chart.ctx,n=document.createElement("canvas"),o=n.getContext("2d");return n.width=i.canvas.width,n.height=i.canvas.height,o.fillStyle=t.background,o.fillRect(0,0,n.width,n.height),o.drawImage(e,0,0),n.toDataURL("image/png")}return this.chart.toBase64Image()}return null},qt.prototype.destroy=function(){this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&N(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&N(this.element,"mouseout",this.__leaveEvent)},qt.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=o(Ut.options,t),e&&(this.stopRefresh(),this.startRefresh())},qt.prototype.__render=function(){this.data=this.__processData(),$(this.__chartName(),this)},qt.prototype.__config=function(){return Bt};var Ut={LineChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Z(this)},e.prototype.__chartName=function(){return"LineChart"},e}(qt),PieChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return K(this)},e.prototype.__chartName=function(){return"PieChart"},e}(qt),ColumnChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Z(this,null,!0)},e.prototype.__chartName=function(){return"ColumnChart"},e}(qt),BarChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Z(this,null,!0)},e.prototype.__chartName=function(){return"BarChart"},e}(qt),AreaChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Z(this)},e.prototype.__chartName=function(){return"AreaChart"},e}(qt),GeoChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return K(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(qt),ScatterChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Z(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(qt),BubbleChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Z(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(qt),Timeline:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=h(e[t][1]),e[t][2]=h(e[t][2]);return e},e.prototype.__chartName=function(){return"Timeline"},e}(qt),charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(Bt[e]=t[e])},setDefaultOptions:function(t){Ut.options=t},eachChart:function(t){for(var e in Ut.charts)Ut.charts.hasOwnProperty(e)&&t(Ut.charts[e])},config:Bt,options:{},adapters:Wt,addAdapter:H,use:function(t){return H(t),Ut}};return"undefined"==typeof window||window.Chartkick||(window.Chartkick=Ut),Ut["default"]=Ut,Ut}),
/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Chart=e()}(this,function(){"use strict";function t(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function e(t,e){return t(e={exports:{}},e.exports),e.exports}function i(t){return t&&t["default"]||t}function n(){for(var t={},e=Object.keys(Ke),i=e.length,n=0;n<i;n++)t[e[n]]={distance:-1,parent:null};return t}function o(t){var e=n(),i=[t];for(e[t].distance=0;i.length;)for(var o=i.pop(),r=Object.keys(Ke[o]),s=r.length,a=0;a<s;a++){var l=r[a],h=e[l];-1===h.distance&&(h.distance=e[o].distance+1,h.parent=o,i.unshift(l))}return e}function r(t,e){return function(i){return e(t(i))}}function s(t,e){for(var i=[e[t].parent,t],n=Ke[e[t].parent][t],o=e[t].parent;e[o].parent;)i.unshift(e[o].parent),n=r(Ke[e[o].parent][o],n),o=e[o].parent;return n.conversion=i,n}function a(t){var e=function(e){return e===undefined||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function l(t){var e=function(e){if(e===undefined||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var i=t(e);if("object"==typeof i)for(var n=i.length,o=0;o<n;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}function h(t){if(t){var e=/^#([a-fA-F0-9]{3,4})$/i,i=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,r=/(\w+)/,s=[0,0,0],a=1,l=t.match(e),h="";if(l){h=(l=l[1])[3];for(var c=0;c<s.length;c++)s[c]=parseInt(l[c]+l[c],16);h&&(a=Math.round(parseInt(h+h,16)/255*100)/100)}else if(l=t.match(i)){h=l[2],l=l[1];for(c=0;c<s.length;c++)s[c]=parseInt(l.slice(2*c,2*c+2),16);h&&(a=Math.round(parseInt(h,16)/255*100)/100)}else if(l=t.match(n)){for(c=0;c<s.length;c++)s[c]=parseInt(l[c+1]);a=parseFloat(l[4])}else if(l=t.match(o)){for(c=0;c<s.length;c++)s[c]=Math.round(2.55*parseFloat(l[c+1]));a=parseFloat(l[4])}else if(l=t.match(r)){if("transparent"==l[1])return[0,0,0,0];if(!(s=Qe[l[1]]))return}for(c=0;c<s.length;c++)s[c]=C(s[c],0,255);return a=a||0==a?C(a,0,1):1,s[3]=a,s}}function c(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]);return[C(parseInt(i[1]),0,360),C(parseFloat(i[2]),0,100),C(parseFloat(i[3]),0,100),C(isNaN(n)?1:n,0,1)]}}}function d(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,i=t.match(e);if(i){var n=parseFloat(i[4]);return[C(parseInt(i[1]),0,360),C(parseFloat(i[2]),0,100),C(parseFloat(i[3]),0,100),C(isNaN(n)?1:n,0,1)]}}}function u(t){var e=h(t);return e&&e.slice(0,3)}function f(t){var e=c(t);return e&&e.slice(0,3)}function p(t){var e=h(t);return e?e[3]:(e=c(t))?e[3]:(e=d(t))?e[3]:void 0}function g(t,e){e=e!==undefined&&3===t.length?e:t[3];return"#"+T(t[0])+T(t[1])+T(t[2])+(e>=0&&e<1?T(Math.round(255*e)):"")}function m(t,e){return e<1||t[3]&&t[3]<1?_(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function _(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function v(t,e){return e<1||t[3]&&t[3]<1?y(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function y(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function b(t,e){return e<1||t[3]&&t[3]<1?x(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function x(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function w(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(e!==undefined&&1!==e?", "+e:"")+")"}function k(t){return ei[t.slice(0,3)]}function C(t,e,i){return Math.min(Math.max(e,t),i)}function T(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}function M(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function S(t){return!t||ai.isNullOrUndef(t.size)||ai.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function D(t,e,i,n){var o,r,s,a,l,h,c,d,u,f=Object.keys(i);for(o=0,r=f.length;o<r;++o)if(h=i[s=f[o]],e.hasOwnProperty(s)||(e[s]=h),(a=e[s])!==h&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=a),(c=typeof h)===typeof(l=t[s]))if("string"===c){if((d=ri(l)).valid&&(u=ri(h)).valid){e[s]=u.mix(d,n).rgbString();continue}}else if(Mi.isFinite(l)&&Mi.isFinite(h)){e[s]=l+(h-l)*n;continue}e[s]=h}}function j(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Fi.forEach(function(e){var i="onData"+e.charAt(0).toUpperCase()+e.slice(1),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),o=n.apply(this,e);return Mi.each(t._chartjs.listeners,function(t){"function"==typeof t[i]&&t[i].apply(t,e)}),o}})}))}function A(t,e){var i=t._chartjs;if(i){var n=i.listeners,o=n.indexOf(e);-1!==o&&n.splice(o,1),n.length>0||(Fi.forEach(function(e){delete t[e]}),delete t._chartjs)}}function P(t,e){var i=e.startAngle,n=e.endAngle,o=e.pixelMargin,r=o/e.outerRadius,s=e.x,a=e.y;t.beginPath(),t.arc(s,a,e.outerRadius,i-r,n+r),e.innerRadius>o?(r=o/e.innerRadius,t.arc(s,a,e.innerRadius-o,n+r,i-r,!0)):t.arc(s,a,o,n+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip()}function E(t,e,i,n){var o,r=i.endAngle;for(n&&(i.endAngle=i.startAngle+Bi,P(t,i),i.endAngle=r,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=Bi,i.fullCircles--)),t.beginPath(),t.arc(i.x,i.y,i.innerRadius,i.startAngle+Bi,i.startAngle,!0),o=0;o<i.fullCircles;++o)t.stroke();for(t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.startAngle+Bi),o=0;o<i.fullCircles;++o)t.stroke()}function I(t,e,i){var n="inner"===e.borderAlign;n?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),i.fullCircles&&E(t,e,i,n),n&&P(t,i),t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),t.stroke()}function L(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function O(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius}function z(t){return t&&t.width!==undefined}function N(t){var e,i,n,o,r;return z(t)?(r=t.width/2,e=t.x-r,i=t.x+r,n=Math.min(t.y,t.base),o=Math.max(t.y,t.base)):(r=t.height/2,e=Math.min(t.x,t.base),i=Math.max(t.x,t.base),n=t.y-r,o=t.y+r),{left:e,top:n,right:i,bottom:o}}function F(t,e,i){return t===e?i:t===i?e:t}function R(t){var e=t.borderSkipped,i={};return e?(t.horizontal?t.base>t.x&&(e=F(e,"left","right")):t.base<t.y&&(e=F(e,"bottom","top")),i[e]=!0,i):i}function H(t,e,i){var n,o,r,s,a=t.borderWidth,l=R(t);return Mi.isObject(a)?(n=+a.top||0,o=+a.right||0,r=+a.bottom||0,s=+a.left||0):n=o=r=s=+a||0,{t:l.top||n<0?0:n>i?i:n,r:l.right||o<0?0:o>e?e:o,b:l.bottom||r<0?0:r>i?i:r,l:l.left||s<0?0:s>e?e:s}}function B(t){var e=N(t),i=e.right-e.left,n=e.bottom-e.top,o=H(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n},inner:{x:e.left+o.l,y:e.top+o.t,w:i-o.l-o.r,h:n-o.t-o.b}}}function W(t,e,i){var n=null===e,o=null===i,r=!(!t||n&&o)&&N(t);return r&&(n||e>=r.left&&e<=r.right)&&(o||i>=r.top&&i<=r.bottom)}function $(t,e){var i,n,o,r,s=t._length;for(o=1,r=e.length;o<r;++o)s=Math.min(s,Math.abs(e[o]-e[o-1]));for(o=0,r=t.getTicks().length;o<r;++o)n=t.getPixelForTick(o),s=o>0?Math.min(s,Math.abs(n-i)):s,i=n;return s}function Y(t,e,i){var n,o,r=i.barThickness,s=e.stackCount,a=e.pixels[t],l=Mi.isNullOrUndef(r)?$(e.scale,e.pixels):-1;return Mi.isNullOrUndef(r)?(n=l*i.categoryPercentage,o=i.barPercentage):(n=r*s,o=1),{chunk:n/s,ratio:o,start:a-n/2}}function q(t,e,i){var n,o=e.pixels,r=o[t],s=t>0?o[t-1]:null,a=t<o.length-1?o[t+1]:null,l=i.categoryPercentage;return null===s&&(s=r-(null===a?e.end-e.start:a-r)),null===a&&(a=r+r-s),n=r-(r-Math.min(s,a))/2*l,{chunk:Math.abs(a-s)/2*l/e.stackCount,ratio:i.barPercentage,start:n}}function U(t,e){var i=t&&t.options.ticks||{},n=i.reverse,o=i.min===undefined?e:0,r=i.max===undefined?e:0;return{start:n?r:o,end:n?o:r}}function V(t,e,i){var n=i/2,o=U(t,n),r=U(e,n);return{top:r.end,right:o.end,bottom:r.start,left:o.start}}function Z(t){var e,i,n,o;return Mi.isObject(t)?(e=t.top,i=t.right,n=t.bottom,o=t.left):e=i=n=o=t,{top:e,right:i,bottom:n,left:o}}function K(t,e){return t.native?{x:t.x,y:t.y}:Mi.getRelativePosition(t,e)}function G(t,e){var i,n,o,r,s,a,l=t._getSortedVisibleDatasetMetas();for(n=0,r=l.length;n<r;++n)for(o=0,s=(i=l[n].data).length;o<s;++o)(a=i[o])._view.skip||e(a)}function X(t,e){var i=[];return G(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function J(t,e,i,n){var o=Number.POSITIVE_INFINITY,r=[];return G(t,function(t){if(!i||t.inRange(e.x,e.y)){var s=t.getCenterPoint(),a=n(e,s);a<o?(r=[t],o=a):a===o&&r.push(t)}}),r}function Q(t){var e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){var o=e?Math.abs(t.x-n.x):0,r=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function tt(t,e,i){var n=K(e,t);i.axis=i.axis||"x";var o=Q(i.axis),r=i.intersect?X(t,n):J(t,n,!1,o),s=[];return r.length?(t._getSortedVisibleDatasetMetas().forEach(function(t){var e=t.data[r[0]._index];e&&!e._view.skip&&s.push(e)}),s):[]}function et(t,e){return Mi.where(t,function(t){return t.pos===e})}function it(t,e){return t.sort(function(t,i){var n=e?i:t,o=e?t:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function nt(t){var e,i,n,o=[];for(e=0,i=(t||[]).length;e<i;++e)n=t[e],o.push({index:e,box:n,pos:n.position,horizontal:n.isHorizontal(),weight:n.weight});return o}function ot(t,e){var i,n,o;for(i=0,n=t.length;i<n;++i)(o=t[i]).width=o.horizontal?o.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,o.height=o.horizontal&&e.hBoxMaxHeight}function rt(t){var e=nt(t),i=it(et(e,"left"),!0),n=it(et(e,"right")),o=it(et(e,"top"),!0),r=it(et(e,"bottom"));return{leftAndTop:i.concat(o),rightAndBottom:n.concat(r),chartArea:et(e,"chartArea"),vertical:i.concat(n),horizontal:o.concat(r)}}function st(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function at(t,e,i){var n,o,r=i.box,s=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?r.height:r.width,t[i.pos]+=i.size,r.getPadding){var a=r.getPadding();s.top=Math.max(s.top,a.top),s.left=Math.max(s.left,a.left),s.bottom=Math.max(s.bottom,a.bottom),s.right=Math.max(s.right,a.right)}if(n=e.outerWidth-st(s,t,"left","right"),o=e.outerHeight-st(s,t,"top","bottom"),n!==t.w||o!==t.h){t.w=n,t.h=o;var l=i.horizontal?[n,t.w]:[o,t.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function lt(t){function e(e){var n=Math.max(i[e]-t[e],0);return t[e]+=n,n}var i=t.maxPadding;t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function ht(t,e){function i(t){var i={left:0,top:0,right:0,bottom:0};return t.forEach(function(t){i[t]=Math.max(e[t],n[t])}),i}var n=e.maxPadding;return i(t?["left","right"]:["top","bottom"])}function ct(t,e,i){var n,o,r,s,a,l,h=[];for(n=0,o=t.length;n<o;++n)(s=(r=t[n]).box).update(r.width||e.w,r.height||e.h,ht(r.horizontal,e)),at(e,i,r)&&(l=!0,h.length&&(a=!0)),s.fullWidth||h.push(r);return a&&ct(h,e,i)||l}function dt(t,e,i){var n,o,r,s,a=i.padding,l=e.x,h=e.y;for(n=0,o=t.length;n<o;++n)s=(r=t[n]).box,r.horizontal?(s.left=s.fullWidth?a.left:e.left,s.right=s.fullWidth?i.outerWidth-a.right:e.left+e.w,s.top=h,s.bottom=h+s.height,s.width=s.right-s.left,h=s.bottom):(s.left=l,s.right=l+s.width,s.top=e.top,s.bottom=e.top+e.h,s.height=s.bottom-s.top,l=s.right);e.x=l,e.y=h}function ut(t,e){var i=Mi.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):undefined}function ft(t,e){var i=t.style,n=t.getAttribute("height"),o=t.getAttribute("width");if(t[Pn]={initial:{height:n,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===o||""===o){var r=ut(t,"width");r!==undefined&&(t.width=r)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=ut(t,"height");r!==undefined&&(t.height=s)}return t}function pt(t,e,i){t.addEventListener(e,i,Fn)}function gt(t,e,i){t.removeEventListener(e,i,Fn)}function mt(t,e,i,n,o){return{type:t,chart:e,native:o||null,x:i!==undefined?i:null,y:n!==undefined?n:null}}function _t(t,e){var i=Nn[t.type]||t.type,n=Mi.getRelativePosition(t,e);return mt(i,e,n.x,n.y,t)}function vt(t,e){var i=!1,n=[];return function(){n=Array.prototype.slice.call(arguments),e=e||this,i||(i=!0,Mi.requestAnimFrame.call(window,function(){i=!1,t.apply(e,n)}))}}function yt(t){var e=document.createElement("div");return e.className=t||"",e}function bt(t){var e=1e6,i=yt(In),n=yt(In+"-expand"),o=yt(In+"-shrink");n.appendChild(yt()),o.appendChild(yt()),i.appendChild(n),i.appendChild(o),i._reset=function(){n.scrollLeft=e,n.scrollTop=e,o.scrollLeft=e,o.scrollTop=e};var r=function(){i._reset(),t()};return pt(n,"scroll",r.bind(n,"expand")),pt(o,"scroll",r.bind(o,"shrink")),i}function xt(t,e){var i=t[Pn]||(t[Pn]={}),n=i.renderProxy=function(t){t.animationName===On&&e()};Mi.each(zn,function(e){pt(t,e,n)}),i.reflow=!!t.offsetParent,t.classList.add(Ln)}function wt(t){var e=t[Pn]||{},i=e.renderProxy;i&&(Mi.each(zn,function(e){gt(t,e,i)}),delete e.renderProxy),t.classList.remove(Ln)}function kt(t,e,i){var n=t[Pn]||(t[Pn]={}),o=n.resizer=bt(vt(function(){if(n.resizer){var o=i.options.maintainAspectRatio&&t.parentNode,r=o?o.clientWidth:0;e(mt("resize",i)),o&&o.clientWidth<r&&i.canvas&&e(mt("resize",i))}}));xt(t,function(){if(n.resizer){var e=t.parentNode;e&&e!==o.parentNode&&e.insertBefore(o,e.firstChild),o._reset()}})}function Ct(t){var e=t[Pn]||{},i=e.resizer;delete e.resizer,wt(t),i&&i.parentNode&&i.parentNode.removeChild(i)}function Tt(t,e){var i=t[Pn]||(t[Pn]={});if(!i.containsStyles){i.containsStyles=!0,e="/* Chart.js */\n"+e;var n=document.createElement("style");n.setAttribute("type","text/css"),n.appendChild(document.createTextNode(e)),t.appendChild(n)}}function Mt(t,e){return e&&(Mi.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function St(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Dt(t){var e=t._xScale,i=t._yScale||t._scale,n=t._index,o=t._datasetIndex,r=t._chart.getDatasetMeta(o).controller,s=r._getIndexScale(),a=r._getValueScale();return{xLabel:e?e.getLabelForIndex(n,o):"",yLabel:i?i.getLabelForIndex(n,o):"",label:s?""+s.getLabelForIndex(n,o):"",value:a?""+a.getLabelForIndex(n,o):"",index:n,datasetIndex:o,x:t._model.x,y:t._model.y}}function jt(t){var e=yi.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Yn(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Yn(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Yn(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Yn(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Yn(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Yn(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Yn(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Yn(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Yn(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function At(t,e){var i=t._chart.ctx,n=2*e.yPadding,o=0,r=e.body,s=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);s+=e.beforeBody.length+e.afterBody.length;var a=e.title.length,l=e.footer.length,h=e.titleFontSize,c=e.bodyFontSize,d=e.footerFontSize;n+=a*h,n+=a?(a-1)*e.titleSpacing:0,n+=a?e.titleMarginBottom:0,n+=s*c,n+=s?(s-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*d,n+=l?(l-1)*e.footerSpacing:0;var u=0,f=function(t){o=Math.max(o,i.measureText(t).width+u)};return i.font=Mi.fontString(h,e._titleFontStyle,e._titleFontFamily),Mi.each(e.title,f),i.font=Mi.fontString(c,e._bodyFontStyle,e._bodyFontFamily),Mi.each(e.beforeBody.concat(e.afterBody),f),u=e.displayColors?c+2:0,Mi.each(r,function(t){Mi.each(t.before,f),Mi.each(t.lines,f),Mi.each(t.after,f)}),u=0,i.font=Mi.fontString(d,e._footerFontStyle,e._footerFontFamily),Mi.each(e.footer,f),{width:o+=2*e.xPadding,height:n}}function Pt(t,e){var i,n,o,r,s,a=t._model,l=t._chart,h=t._chart.chartArea,c="center",d="center";a.y<e.height?d="top":a.y>l.height-e.height&&(d="bottom");var u=(h.left+h.right)/2,f=(h.top+h.bottom)/2;"center"===d?(i=function(t){return t<=u},n=function(t){return t>u}):(i=function(t){return t<=e.width/2},n=function(t){return t>=l.width-e.width/2}),o=function(t){return t+e.width+a.caretSize+a.caretPadding>l.width},r=function(t){return t-e.width-a.caretSize-a.caretPadding<0},s=function(t){return t<=f?"top":"bottom"},i(a.x)?(c="left",o(a.x)&&(c="center",d=s(a.y))):n(a.x)&&(c="right",r(a.x)&&(c="center",d=s(a.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:d}}function Et(t,e,i,n){var o=t.x,r=t.y,s=t.caretSize,a=t.caretPadding,l=t.cornerRadius,h=i.xAlign,c=i.yAlign,d=s+a,u=l+a;return"right"===h?o-=e.width:"center"===h&&((o-=e.width/2)+e.width>n.width&&(o=n.width-e.width),o<0&&(o=0)),"top"===c?r+=d:r-="bottom"===c?e.height+d:e.height/2,"center"===c?"left"===h?o+=d:"right"===h&&(o-=d):"left"===h?o-=u:"right"===h&&(o+=u),{x:o,y:r}}function It(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Lt(t){return Mt([],St(t))}function Ot(){return Mi.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){if("xAxes"===t||"yAxes"===t){var o,r,s,a=i[t].length;for(e[t]||(e[t]=[]),o=0;o<a;++o)s=i[t][o],r=Gn(s.type,"xAxes"===t?"category":"linear"),o>=e[t].length&&e[t].push({}),!e[t][o].type||s.type&&s.type!==e[t][o].type?Mi.merge(e[t][o],[$n.getScaleDefaults(r),s]):Mi.merge(e[t][o],s)}else Mi._merger(t,e,i,n)}})}function zt(){return Mi.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){var o=e[t]||Object.create(null),r=i[t];"scales"===t?e[t]=Ot(o,r):"scale"===t?e[t]=Mi.merge(o,[$n.getScaleDefaults(r.type),r]):Mi._merger(t,e,i,n)}})}function Nt(t){var e=(t=t||Object.create(null)).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=zt(yi.global,yi[t.type],t.options||{}),t}function Ft(t){var e=t.options;Mi.each(t.scales,function(e){Sn.removeBox(t,e)}),e=zt(yi.global,yi[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Rt(t,e,i){var n,o=function(t){return t.id===n};do{n=e+i++}while(Mi.findIndex(t,o)>=0);return n}function Ht(t){return"top"===t||"bottom"===t}function Bt(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function Wt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function $t(t){this.options=t||{}}function Yt(t,e){for(var i=[],n=t.length/e,o=0,r=t.length;o<r;o+=n)i.push(t[Math.floor(o)]);return i}function qt(t,e,i){var n,o=t.getTicks().length,r=Math.min(e,o-1),s=t.getPixelForTick(r),a=t._startPixel,l=t._endPixel,h=1e-6;if(!(i&&(n=1===o?Math.max(s-a,l-s):0===e?(t.getPixelForTick(1)-s)/2:(s-t.getPixelForTick(r-1))/2,(s+=r<e?n:-n)<a-h||s>l+h)))return s}function Ut(t,e){Mi.each(t,function(t){var i,n=t.gc,o=n.length/2;if(o>e){for(i=0;i<o;++i)delete t.data[n[i]];n.splice(0,o)}})}function Vt(t,e,i,n){function o(t){return{width:y[t]||0,height:b[t]||0,offset:x[t]||0}}var r,s,a,l,h,c,d,u,f,p,g,m,_,v=i.length,y=[],b=[],x=[],w=0,k=0;for(r=0;r<v;++r){if(l=i[r].label,h=i[r].major?e.major:e.minor,t.font=c=h.string,d=n[c]=n[c]||{data:{},gc:[]},u=h.lineHeight,f=p=0,no(l)||io(l)){if(io(l))for(s=0,a=l.length;s<a;++s)g=l[s],no(g)||io(g)||(f=Mi.measureText(t,d.data,d.gc,f,g),p+=u)}else f=Mi.measureText(t,d.data,d.gc,f,l),p=u;y.push(f),b.push(p),x.push(u/2),w=Math.max(f,w),k=Math.max(p,k)}return Ut(n,v),m=y.indexOf(w),_=b.indexOf(k),{first:o(0),last:o(v-1),widest:o(m),highest:o(_)}}function Zt(t){return t.drawTicks?t.tickMarkLength:0}function Kt(t){var e,i;return t.display?(e=Mi.options._parseFont(t),i=Mi.options.toPadding(t.padding),e.lineHeight+i.height):0}function Gt(t,e){return Mi.extend(Mi.options._parseFont({fontFamily:oo(e.fontFamily,t.fontFamily),fontSize:oo(e.fontSize,t.fontSize),fontStyle:oo(e.fontStyle,t.fontStyle),lineHeight:oo(e.lineHeight,t.lineHeight)}),{color:Mi.options.resolve([e.fontColor,t.fontColor,yi.global.defaultFontColor])})}function Xt(t){var e=Gt(t,t.minor);return{minor:e,major:t.major.enabled?Gt(t,t.major):e}}function Jt(t){var e,i,n,o=[];for(i=0,n=t.length;i<n;++i)"undefined"!=typeof(e=t[i])._index&&o.push(e);return o}function Qt(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}function te(t,e,i,n){var o,r,s,a,l=Qt(t),h=(e.length-1)/n;if(!l)return Math.max(h,1);for(s=0,a=(o=Mi.math._factorize(l)).length-1;s<a;s++)if((r=o[s])>h)return r;return Math.max(h,1)}function ee(t){var e,i,n=[];for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}function ie(t,e,i){var n,o,r=0,s=e[0];for(i=Math.ceil(i),n=0;n<t.length;n++)o=t[n],n===s?(o._index=n,s=e[++r*i]):delete o.label}function ne(t,e,i,n){var o,r,s,a,l=oo(i,0),h=Math.min(oo(n,t.length),t.length),c=0;for(e=Math.ceil(e),n&&(e=(o=n-i)/Math.floor(o/e)),a=l;a<0;)c++,a=Math.round(l+c*e);for(r=Math.max(l,0);r<h;r++)s=t[r],r===a?(s._index=r,c++,a=Math.round(l+c*e)):delete s.label}function oe(t,e){var i,n,o,r,s=[],a=1e-14,l=t.stepSize,h=l||1,c=t.maxTicks-1,d=t.min,u=t.max,f=t.precision,p=e.min,g=e.max,m=Mi.niceNum((g-p)/c/h)*h;if(m<a&&po(d)&&po(u))return[p,g];(r=Math.ceil(g/m)-Math.floor(p/m))>c&&(m=Mi.niceNum(r*m/c/h)*h),l||po(f)?i=Math.pow(10,Mi._decimalPlaces(m)):(i=Math.pow(10,f),m=Math.ceil(m*i)/i),n=Math.floor(p/m)*m,o=Math.ceil(g/m)*m,l&&(!po(d)&&Mi.almostWhole(d/m,m/1e3)&&(n=d),!po(u)&&Mi.almostWhole(u/m,m/1e3)&&(o=u)),r=(o-n)/m,r=Mi.almostEquals(r,Math.round(r),m/1e3)?Math.round(r):Math.ceil(r),n=Math.round(n*i)/i,o=Math.round(o*i)/i,s.push(po(d)?n:d);for(var _=1;_<r;++_)s.push(Math.round((n+_*m)*i)/i);return s.push(po(u)?o:u),s}function re(t,e,i){var n=[i.type,e===undefined&&i.stack===undefined?i.index:"",i.stack].join(".");return t[n]===undefined&&(t[n]={pos:[],neg:[]}),t[n]}function se(t,e,i,n){var o,r,s=t.options,a=re(e,s.stacked,i),l=a.pos,h=a.neg,c=n.length;for(o=0;o<c;++o)r=t._parseValue(n[o]),isNaN(r.min)||isNaN(r.max)||i.data[o].hidden||(l[o]=l[o]||0,h[o]=h[o]||0,s.relativePoints?l[o]=100:r.min<0||r.max<0?h[o]+=r.min:l[o]+=r.max)}function ae(t,e,i){var n,o,r=i.length;for(n=0;n<r;++n)o=t._parseValue(i[n]),isNaN(o.min)||isNaN(o.max)||e.data[n].hidden||(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}function le(t,e){var i,n,o=[],r=xo(t.min,Math.pow(10,Math.floor(wo(e.min)))),s=Math.floor(wo(e.max)),a=Math.ceil(e.max/Math.pow(10,s));0===r?(i=Math.floor(wo(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),o.push(r),r=n*Math.pow(10,i)):(i=Math.floor(wo(r)),n=Math.floor(r/Math.pow(10,i)));var l=i<0?Math.pow(10,Math.abs(i)):1;do{o.push(r),10===++n&&(n=1,l=++i>=0?1:l),r=Math.round(n*Math.pow(10,i)*l)/l}while(i<s||i===s&&n<a);var h=xo(t.max,r);return o.push(h),o}function he(t,e){return Mi.isFinite(t)&&t>=0?t:e}function ce(t){var e=t.ticks;return e.display&&t.display?Mo(e.fontSize,yi.global.defaultFontSize)+2*e.backdropPaddingY:0}function de(t,e,i){return Mi.isArray(i)?{w:Mi.longestText(t,t.font,i),h:i.length*e}:{w:t.measureText(i).width,h:e}}function ue(t,e,i,n,o){return t===n||t===o?{start:e-i/2,end:e+i/2}:t<n||t>o?{start:e-i,end:e}:{start:e,end:e+i}}function fe(t){var e,i,n,o=Mi.options._parseFont(t.options.pointLabels),r={l:0,r:t.width,t:0,b:t.height-t.paddingTop},s={};t.ctx.font=o.string,t._pointLabelSizes=[];var a=t.chart.data.labels.length;for(e=0;e<a;e++){n=t.getPointPosition(e,t.drawingArea+5),i=de(t.ctx,o.lineHeight,t.pointLabels[e]),t._pointLabelSizes[e]=i;var l=t.getIndexAngle(e),h=Mi.toDegrees(l)%360,c=ue(h,n.x,i.w,0,180),d=ue(h,n.y,i.h,90,270);c.start<r.l&&(r.l=c.start,s.l=l),c.end>r.r&&(r.r=c.end,s.r=l),d.start<r.t&&(r.t=d.start,s.t=l),d.end>r.b&&(r.b=d.end,s.b=l)}t.setReductions(t.drawingArea,r,s)}function pe(t){return 0===t||180===t?"center":t<180?"left":"right"}function ge(t,e,i,n){var o,r,s=i.y+n/2;if(Mi.isArray(e))for(o=0,r=e.length;o<r;++o)t.fillText(e[o],i.x,s),s+=n;else t.fillText(e,i.x,s)}function me(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function _e(t){var e=t.ctx,i=t.options,n=i.pointLabels,o=ce(i),r=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),s=Mi.options._parseFont(n);e.save(),e.font=s.string,e.textBaseline="middle";for(var a=t.chart.data.labels.length-1;a>=0;a--){var l=0===a?o/2:0,h=t.getPointPosition(a,r+l+5),c=So(n.fontColor,a,yi.global.defaultFontColor);e.fillStyle=c;var d=t.getIndexAngle(a),u=Mi.toDegrees(d);e.textAlign=pe(u),me(u,t._pointLabelSizes[a],h),ge(e,t.pointLabels[a],h,s.lineHeight)}e.restore()}function ve(t,e,i,n){var o,r=t.ctx,s=e.circular,a=t.chart.data.labels.length,l=So(e.color,n-1),h=So(e.lineWidth,n-1);if((s||a)&&l&&h){if(r.save(),r.strokeStyle=l,r.lineWidth=h,r.setLineDash&&(r.setLineDash(e.borderDash||[]),r.lineDashOffset=e.borderDashOffset||0),r.beginPath(),s)r.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{o=t.getPointPosition(0,i),r.moveTo(o.x,o.y);for(var c=1;c<a;c++)o=t.getPointPosition(c,i),r.lineTo(o.x,o.y)}r.closePath(),r.stroke(),r.restore()}}function ye(t){return Mi.isNumber(t)?t:0}function be(t,e){return t-e}function xe(t){var e,i,n,o={},r=[];for(e=0,i=t.length;e<i;++e)o[n=t[e]]||(o[n]=!0,r.push(n));return r}function we(t){return Mi.valueOrDefault(t.time.min,t.ticks.min)}function ke(t){return Mi.valueOrDefault(t.time.max,t.ticks.max)}function Ce(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var o,r,s,a,l,h=[],c=[e];for(o=0,r=t.length;o<r;++o)(a=t[o])>e&&a<i&&c.push(a);for(c.push(i),o=0,r=c.length;o<r;++o)l=c[o+1],s=c[o-1],a=c[o],s!==undefined&&l!==undefined&&Math.round((l+s)/2)===a||h.push({time:a,pos:o/(r-1)});return h}function Te(t,e,i){for(var n,o,r,s=0,a=t.length-1;s>=0&&s<=a;){if(o=t[(n=s+a>>1)-1]||null,r=t[n],!o)return{lo:null,hi:r};if(r[e]<i)s=n+1;else{if(!(o[e]>i))return{lo:o,hi:r};a=n-1}}return{lo:r,hi:null}}function Me(t,e,i,n){var o=Te(t,e,i),r=o.lo?o.hi?o.lo:t[t.length-2]:t[0],s=o.lo?o.hi?o.hi:t[t.length-1]:t[1],a=s[e]-r[e],l=a?(i-r[e])/a:0,h=(s[n]-r[n])*l;return r[n]+h}function Se(t,e){var i=t._adapter,n=t.options.time,o=n.parser,r=o||n.format,s=e;return"function"==typeof o&&(s=o(s)),Mi.isFinite(s)||(s="string"==typeof r?i.parse(s,r):i.parse(s)),null!==s?+s:(o||"function"!=typeof r||(s=r(e),Mi.isFinite(s)||(s=i.parse(s))),s)}function De(t,e){if(Mi.isNullOrUndef(e))return null;var i=t.options.time,n=Se(t,t.getRightValue(e));return null===n?n:(i.round&&(n=+t._adapter.startOf(n,i.round)),n)}function je(t,e,i,n){var o,r,s,a=Fo.length;for(o=Fo.indexOf(t);o<a-1;++o)if(s=(r=No[Fo[o]]).steps?r.steps:zo,r.common&&Math.ceil((i-e)/(s*r.size))<=n)return Fo[o];return Fo[a-1]}function Ae(t,e,i,n,o){var r,s;for(r=Fo.length-1;r>=Fo.indexOf(i);r--)if(s=Fo[r],No[s].common&&t._adapter.diff(o,n,s)>=e-1)return s;return Fo[i?Fo.indexOf(i):0]}function Pe(t){for(var e=Fo.indexOf(t)+1,i=Fo.length;e<i;++e)if(No[Fo[e]].common)return Fo[e]}function Ee(t,e,i,n){var o,r=t._adapter,s=t.options,a=s.time,l=a.unit||je(a.minUnit,e,i,n),h=Io([a.stepSize,a.unitStepSize,1]),c="week"===l&&a.isoWeekday,d=e,u=[];if(c&&(d=+r.startOf(d,"isoWeek",c)),d=+r.startOf(d,c?"day":l),r.diff(i,e,l)>1e5*h)throw e+" and "+i+" are too far apart with stepSize of "+h+" "+l;for(o=d;o<i;o=+r.add(o,h,l))u.push(o);return o!==i&&"ticks"!==s.bounds||u.push(o),u}function Ie(t,e,i,n,o){var r,s,a=0,l=0;return o.offset&&e.length&&(r=Me(t,"time",e[0],"pos"),a=1===e.length?1-r:(Me(t,"time",e[1],"pos")-r)/2,s=Me(t,"time",e[e.length-1],"pos"),l=1===e.length?s:(s-Me(t,"time",e[e.length-2],"pos"))/2),{start:a,end:l,factor:1/(a+1+l)}}function Le(t,e,i,n){var o,r,s=t._adapter,a=+s.startOf(e[0].value,n),l=e[e.length-1].value;for(o=a;o<=l;o=+s.add(o,1,n))(r=i[o])>=0&&(e[r].major=!0);return e}function Oe(t,e,i){var n,o,r=[],s={},a=e.length;for(n=0;n<a;++n)s[o=e[n]]=n,r.push({value:o,major:!1});return 0!==a&&i?Le(t,r,s,i):r}function ze(t,e,i){var n,o=t._model||{},r=o.fill;if(r===undefined&&(r=!!o.backgroundColor),!1===r||null===r)return!1;if(!0===r)return"origin";if(n=parseFloat(r,10),isFinite(n)&&Math.floor(n)===n)return"-"!==r[0]&&"+"!==r[0]||(n=e+n),!(n===e||n<0||n>=i)&&n;switch(r){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return r;default:return!1}}function Ne(t){var e,i=t.el._model||{},n=t.el._scale||{},o=t.fill,r=null;if(isFinite(o))return null;if("start"===o?r=i.scaleBottom===undefined?n.bottom:i.scaleBottom:"end"===o?r=i.scaleTop===undefined?n.top:i.scaleTop:i.scaleZero!==undefined?r=i.scaleZero:n.getBasePixel&&(r=n.getBasePixel()),r!==undefined&&null!==r){if(r.x!==undefined&&r.y!==undefined)return r;if(Mi.isFinite(r))return{x:(e=n.isHorizontal())?r:null,y:e?null:r}}return null}function Fe(t){var e,i,n,o,r,s=t.el._scale,a=s.options,l=s.chart.data.labels.length,h=t.fill,c=[];if(!l)return null;for(e=a.ticks.reverse?s.max:s.min,i=a.ticks.reverse?s.min:s.max,n=s.getPointPositionForValue(0,e),o=0;o<l;++o)r="start"===h||"end"===h?s.getPointPositionForValue(o,"start"===h?e:i):s.getBasePosition(o),a.gridLines.circular&&(r.cx=n.x,r.cy=n.y,r.angle=s.getIndexAngle(o)-Math.PI/2),c.push(r);return c}function Re(t){return(t.el._scale||{}).getPointPositionForValue?Fe(t):Ne(t)}function He(t,e,i){var n,o=t[e].fill,r=[e];if(!i)return o;for(;!1!==o&&-1===r.indexOf(o);){if(!isFinite(o))return o;if(!(n=t[o]))return!1;if(n.visible)return o;r.push(o),o=n.fill}return!1}function Be(t){var e=t.fill,i="dataset";return!1===e?null:(isFinite(e)||(i="boundary"),qo[i](t))}function We(t){return t&&!t.skip}function $e(t,e,i,n,o){var r,s,a,l;if(n&&o){for(t.moveTo(e[0].x,e[0].y),r=1;r<n;++r)Mi.canvas.lineTo(t,e[r-1],e[r]);if(i[0].angle===undefined)for(t.lineTo(i[o-1].x,i[o-1].y),r=o-1;r>0;--r)Mi.canvas.lineTo(t,i[r],i[r-1],!0);else for(s=i[0].cx,a=i[0].cy,l=Math.sqrt(Math.pow(i[0].x-s,2)+Math.pow(i[0].y-a,2)),r=o-1;r>0;--r)t.arc(s,a,l,i[r].angle,i[r-1].angle,!0)}}function Ye(t,e,i,n,o,r){var s,a,l,h,c,d,u,f,p=e.length,g=n.spanGaps,m=[],_=[],v=0,y=0;for(t.beginPath(),s=0,a=p;s<a;++s)c=i(h=e[l=s%p]._view,l,n),d=We(h),u=We(c),r&&f===undefined&&d&&(a=p+(f=s+1)),d&&u?(v=m.push(h),y=_.push(c)):v&&y&&(g?(d&&m.push(h),u&&_.push(c)):($e(t,m,_,v,y),v=y=0,m=[],_=[]));$e(t,m,_,v,y),t.closePath(),t.fillStyle=o,t.fill()}function qe(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}function Ue(t,e){var i=new Go({ctx:t.ctx,options:e,chart:t});Sn.configure(t,i,e),Sn.addBox(t,i),t.legend=i}function Ve(t,e){var i=new Qo({ctx:t.ctx,options:e,chart:t});Sn.configure(t,i,e),Sn.addBox(t,i),t.titleBlock=i}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ze={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],
floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ke=e(function(t){function e(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}var i={};for(var n in Ze)Ze.hasOwnProperty(n)&&(i[Ze[n]]=n);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in o)if(o.hasOwnProperty(r)){if(!("channels"in o[r]))throw new Error("missing channels property: "+r);if(!("labels"in o[r]))throw new Error("missing channel labels property: "+r);if(o[r].labels.length!==o[r].channels)throw new Error("channel and label counts mismatch: "+r);var s=o[r].channels,a=o[r].labels;delete o[r].channels,delete o[r].labels,Object.defineProperty(o[r],"channels",{value:s}),Object.defineProperty(o[r],"labels",{value:a})}o.rgb.hsl=function(t){var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=Math.min(n,o,r),a=Math.max(n,o,r),l=a-s;return a===s?e=0:n===a?e=(o-r)/l:o===a?e=2+(r-n)/l:r===a&&(e=4+(n-o)/l),(e=Math.min(60*e,360))<0&&(e+=360),i=(s+a)/2,[e,100*(a===s?0:i<=.5?l/(a+s):l/(2-a-s)),100*i]},o.rgb.hsv=function(t){var e,i,n,o,r,s=t[0]/255,a=t[1]/255,l=t[2]/255,h=Math.max(s,a,l),c=h-Math.min(s,a,l),d=function(t){return(h-t)/6/c+.5};return 0===c?o=r=0:(r=c/h,e=d(s),i=d(a),n=d(l),s===h?o=n-i:a===h?o=1/3+e-n:l===h&&(o=2/3+i-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*r,100*h]},o.rgb.hwb=function(t){var e=t[0],i=t[1],n=t[2];return[o.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(i,n))),100*(n=1-1/255*Math.max(e,Math.max(i,n)))]},o.rgb.cmyk=function(t){var e,i=t[0]/255,n=t[1]/255,o=t[2]/255;return[100*((1-i-(e=Math.min(1-i,1-n,1-o)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var n=i[t];if(n)return n;var o,r=Infinity;for(var s in Ze)if(Ze.hasOwnProperty(s)){var a=e(t,Ze[s]);a<r&&(r=a,o=s)}return o},o.keyword.rgb=function(t){return Ze[t]},o.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),i=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.hsl.rgb=function(t){var e,i,n,o,r,s=t[0]/360,a=t[1]/100,l=t[2]/100;if(0===a)return[r=255*l,r,r];e=2*l-(i=l<.5?l*(1+a):l+a-l*a),o=[0,0,0];for(var h=0;h<3;h++)(n=s+1/3*-(h-1))<0&&n++,n>1&&n--,r=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,o[h]=255*r;return o},o.hsl.hsv=function(t){var e=t[0],i=t[1]/100,n=t[2]/100,o=i,r=Math.max(n,.01);return i*=(n*=2)<=1?n:2-n,o*=r<=1?r:2-r,[e,100*(0===n?2*o/(r+o):2*i/(n+i)),100*((n+i)/2)]},o.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,r=e-Math.floor(e),s=255*n*(1-i),a=255*n*(1-i*r),l=255*n*(1-i*(1-r));switch(n*=255,o){case 0:return[n,l,s];case 1:return[a,n,s];case 2:return[s,n,l];case 3:return[s,a,n];case 4:return[l,s,n];case 5:return[n,s,a]}},o.hsv.hsl=function(t){var e,i,n,o=t[0],r=t[1]/100,s=t[2]/100,a=Math.max(s,.01);return n=(2-r)*s,i=r*a,[o,100*(i=(i/=(e=(2-r)*a)<=1?e:2-e)||0),100*(n/=2)]},o.hwb.rgb=function(t){var e,i,n,o,r,s,a,l=t[0]/360,h=t[1]/100,c=t[2]/100,d=h+c;switch(d>1&&(h/=d,c/=d),n=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(n=1-n),o=h+n*((i=1-c)-h),e){default:case 6:case 0:r=i,s=o,a=h;break;case 1:r=o,s=i,a=h;break;case 2:r=h,s=i,a=o;break;case 3:r=h,s=o,a=i;break;case 4:r=o,s=h,a=i;break;case 5:r=i,s=h,a=o}return[255*r,255*s,255*a]},o.cmyk.rgb=function(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},o.xyz.rgb=function(t){var e,i,n,o=t[0]/100,r=t[1]/100,s=t[2]/100;return i=-.9689*o+1.8758*r+.0415*s,n=.0557*o+-.204*r+1.057*s,e=(e=3.2406*o+-1.5372*r+-.4986*s)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(t){var e=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(t){var e,i,n,o=t[0];e=t[1]/500+(i=(o+16)/116),n=i-t[2]/200;var r=Math.pow(i,3),s=Math.pow(e,3),a=Math.pow(n,3);return i=r>.008856?r:(i-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[e*=95.047,i*=100,n*=108.883]},o.lab.lch=function(t){var e,i=t[0],n=t[1],o=t[2];return(e=360*Math.atan2(o,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+o*o),e]},o.lch.lab=function(t){var e,i=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[i,n*Math.cos(e),n*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],i=t[1],n=t[2],r=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var s=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===r&&(s+=60),s},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],i=t[1],n=t[2];return e===i&&i===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},o.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var i;return t-=16,[Math.floor(t/36)/5*255,Math.floor((i=t%36)/6)/5*255,i%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];3===e[0].length&&(i=i.split("").map(function(t){return t+t}).join(""));var n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(t){var e,i=t[0]/255,n=t[1]/255,o=t[2]/255,r=Math.max(Math.max(i,n),o),s=Math.min(Math.min(i,n),o),a=r-s;return e=a<=0?0:r===i?(n-o)/a%6:r===n?2+(o-i)/a:4+(i-n)/a+4,e/=6,[360*(e%=1),100*a,100*(a<1?s/(1-a):0)]},o.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=1,o=0;return(n=i<.5?2*e*i:2*e*(1-i))<1&&(o=(i-.5*n)/(1-n)),[t[0],100*n,100*o]},o.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,n=e*i,o=0;return n<1&&(o=(i-n)/(1-n)),[t[0],100*n,100*o]},o.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,n=t[2]/100;if(0===i)return[255*n,255*n,255*n];var o=[0,0,0],r=e%1*6,s=r%1,a=1-s,l=0;switch(Math.floor(r)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return l=(1-i)*n,[255*(i*o[0]+l),255*(i*o[1]+l),255*(i*o[2]+l)]},o.hcg.hsv=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e),n=0;return i>0&&(n=e/i),[t[0],100*n,100*i]},o.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[t[0],100*n,100*i]},o.hcg.hwb=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},o.hwb.hcg=function(t){var e=t[1]/100,i=1-t[2]/100,n=i-e,o=0;return n<1&&(o=(i-n)/(1-n)),[t[0],100*n,100*o]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}),Ge=(Ke.rgb,Ke.hsl,Ke.hsv,Ke.hwb,Ke.cmyk,Ke.xyz,Ke.lab,Ke.lch,Ke.hex,Ke.keyword,Ke.ansi16,Ke.ansi256,Ke.hcg,Ke.apple,Ke.gray,function(t){for(var e=o(t),i={},n=Object.keys(e),r=n.length,a=0;a<r;a++){var l=n[a];null!==e[l].parent&&(i[l]=s(l,e))}return i}),Xe={};Object.keys(Ke).forEach(function(t){Xe[t]={},Object.defineProperty(Xe[t],"channels",{value:Ke[t].channels}),Object.defineProperty(Xe[t],"labels",{value:Ke[t].labels});var e=Ge(t);Object.keys(e).forEach(function(i){var n=e[i];Xe[t][i]=l(n),Xe[t][i].raw=a(n)})});var Je=Xe,Qe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ti={getRgba:h,getHsla:c,getRgb:u,getHsl:f,getHwb:d,getAlpha:p,hexString:g,rgbString:m,rgbaString:_,percentString:v,percentaString:y,hslString:b,hslaString:x,hwbString:w,keyword:k},ei={};for(var ii in Qe)ei[Qe[ii]]=ii;var ni=function(t){return t instanceof ni?t:this instanceof ni?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=ti.getRgba(t))?this.setValues("rgb",e):(e=ti.getHsla(t))?this.setValues("hsl",e):(e=ti.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&((e=t).r!==undefined||e.red!==undefined?this.setValues("rgb",e):e.l!==undefined||e.lightness!==undefined?this.setValues("hsl",e):e.v!==undefined||e.value!==undefined?this.setValues("hsv",e):e.w!==undefined||e.whiteness!==undefined?this.setValues("hwb",e):e.c===undefined&&e.cyan===undefined||this.setValues("cmyk",e)))):new ni(t);var e};ni.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return t===undefined?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return ti.hexString(this.values.rgb)},rgbString:function(){return ti.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return ti.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return ti.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return ti.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return ti.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return ti.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return ti.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=this,n=t,o=e===undefined?.5:e,r=2*o-1,s=i.alpha()-n.alpha(),a=((r*s==-1?r:(r+s)/(1+r*s))+1)/2,l=1-a;return this.rgb(a*i.red()+l*n.red(),a*i.green()+l*n.green(),a*i.blue()+l*n.blue()).alpha(i.alpha()*o+n.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new ni,n=this.values,o=i.values;for(var r in n)n.hasOwnProperty(r)&&(t=n[r],"[object Array]"===(e={}.toString.call(t))?o[r]=t.slice(0):"[object Number]"===e?o[r]=t:console.error("unexpected color value:",t));return i}},ni.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},ni.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},ni.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},ni.prototype.setValues=function(t,e){var i,n,o=this.values,r=this.spaces,s=this.maxes,a=1;if(this.valid=!0,"alpha"===t)a=e;else if(e.length)o[t]=e.slice(0,t.length),a=e[t.length];else if(e[t.charAt(0)]!==undefined){for(i=0;i<t.length;i++)o[t][i]=e[t.charAt(i)];a=e.a}else if(e[r[t][0]]!==undefined){var l=r[t];for(i=0;i<t.length;i++)o[t][i]=e[l[i]];a=e.alpha}if(o.alpha=Math.max(0,Math.min(1,a===undefined?o.alpha:a)),"alpha"===t)return!1;for(i=0;i<t.length;i++)n=Math.max(0,Math.min(s[t][i],o[t][i])),o[t][i]=Math.round(n);for(var h in r)h!==t&&(o[h]=Je[t][h](o[t]));return!0},ni.prototype.setSpace=function(t,e){var i=e[0];return i===undefined?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},ni.prototype.setChannel=function(t,e,i){var n=this.values[t];return i===undefined?n[e]:i===n[e]?this:(n[e]=i,this.setValues(t,n),this)},"undefined"!=typeof window&&(window.Color=ni);var oi,ri=ni,si={noop:function(){},uid:(oi=0,function(){return oi++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,i){return si.valueOrDefault(si.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)},each:function(t,e,i,n){var o,r,s;if(si.isArray(t))if(r=t.length,n)for(o=r-1;o>=0;o--)e.call(i,t[o],o);else for(o=0;o<r;o++)e.call(i,t[o],o);else if(si.isObject(t))for(r=(s=Object.keys(t)).length,o=0;o<r;o++)e.call(i,t[s[o]],s[o])},arrayEquals:function(t,e){var i,n,o,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(o=t[i],r=e[i],o instanceof Array&&r instanceof Array){if(!si.arrayEquals(o,r))return!1}else if(o!==r)return!1;return!0},clone:function(t){if(si.isArray(t))return t.map(si.clone);if(si.isObject(t)){for(var e=Object.create(t),i=Object.keys(t),n=i.length,o=0;o<n;++o)e[i[o]]=si.clone(t[i[o]]);return e}return t},_merger:function(t,e,i,n){if(M(t)){var o=e[t],r=i[t];si.isObject(o)&&si.isObject(r)?si.merge(o,r,n):e[t]=si.clone(r)}},_mergerIf:function(t,e,i){if(M(t)){var n=e[t],o=i[t];si.isObject(n)&&si.isObject(o)?si.mergeIf(n,o):e.hasOwnProperty(t)||(e[t]=si.clone(o))}},merge:function(t,e,i){var n,o,r,s,a,l=si.isArray(e)?e:[e],h=l.length;if(!si.isObject(t))return t;for(n=(i=i||{}).merger||si._merger,o=0;o<h;++o)if(e=l[o],si.isObject(e))for(a=0,s=(r=Object.keys(e)).length;a<s;++a)n(r[a],t,e,i);return t},mergeIf:function(t,e){return si.merge(t,e,{merger:si._mergerIf})},extend:Object.assign||function(t){return si.merge(t,[].slice.call(arguments,1),{merger:function(t,e,i){e[t]=i[t]}})},inherits:function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=si.inherits,t&&si.extend(i.prototype,t),i.__super__=e.prototype,i},_deprecated:function(t,e,i,n){e!==undefined&&console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead')}},ai=si;si.callCallback=si.callback,si.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},si.getValueOrDefault=si.valueOrDefault,si.getValueAtIndexOrDefault=si.valueAtIndexOrDefault;var li={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-li.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*li.easeInBounce(2*t):.5*li.easeOutBounce(2*t-1)+.5}},hi={effects:li};ai.easingEffects=li;var ci=Math.PI,di=ci/180,ui=2*ci,fi=ci/2,pi=ci/4,gi=2*ci/3,mi={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,o,r){if(r){var s=Math.min(r,o/2,n/2),a=e+s,l=i+s,h=e+n-s,c=i+o-s;t.moveTo(e,l),a<h&&l<c?(t.arc(a,l,s,-ci,-fi),t.arc(h,l,s,-fi,0),t.arc(h,c,s,0,fi),t.arc(a,c,s,fi,ci)):a<h?(t.moveTo(a,i),t.arc(h,l,s,-fi,fi),t.arc(a,l,s,fi,ci+fi)):l<c?(t.arc(a,l,s,-ci,0),t.arc(a,c,s,0,ci)):t.arc(a,l,s,-ci,ci),t.closePath(),t.moveTo(e,i)}else t.rect(e,i,n,o)},drawPoint:function(t,e,i,n,o,r){var s,a,l,h,c,d=(r||0)*di;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(s=e.toString())||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,o),t.rotate(d),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(i)||i<=0)){switch(t.beginPath(),e){default:t.arc(n,o,i,0,ui),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(d)*i,o-Math.cos(d)*i),d+=gi,t.lineTo(n+Math.sin(d)*i,o-Math.cos(d)*i),d+=gi,t.lineTo(n+Math.sin(d)*i,o-Math.cos(d)*i),t.closePath();break;case"rectRounded":h=i-(c=.516*i),a=Math.cos(d+pi)*h,l=Math.sin(d+pi)*h,t.arc(n-a,o-l,c,d-ci,d-fi),t.arc(n+l,o-a,c,d-fi,d),t.arc(n+a,o+l,c,d,d+fi),t.arc(n-l,o+a,c,d+fi,d+ci),t.closePath();break;case"rect":if(!r){h=Math.SQRT1_2*i,t.rect(n-h,o-h,2*h,2*h);break}d+=pi;case"rectRot":a=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-a,o-l),t.lineTo(n+l,o-a),t.lineTo(n+a,o+l),t.lineTo(n-l,o+a),t.closePath();break;case"crossRot":d+=pi;case"cross":a=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-a,o-l),t.lineTo(n+a,o+l),t.moveTo(n+l,o-a),t.lineTo(n-l,o+a);break;case"star":a=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-a,o-l),t.lineTo(n+a,o+l),t.moveTo(n+l,o-a),t.lineTo(n-l,o+a),d+=pi,a=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-a,o-l),t.lineTo(n+a,o+l),t.moveTo(n+l,o-a),t.lineTo(n-l,o+a);break;case"line":a=Math.cos(d)*i,l=Math.sin(d)*i,t.moveTo(n-a,o-l),t.lineTo(n+a,o+l);break;case"dash":t.moveTo(n,o),t.lineTo(n+Math.cos(d)*i,o+Math.sin(d)*i)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){var i=1e-6;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){var o=i.steppedLine;if(o){if("middle"===o){var r=(e.x+i.x)/2;t.lineTo(r,n?i.y:e.y),t.lineTo(r,n?e.y:i.y)}else"after"===o&&!n||"after"!==o&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}else i.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):t.lineTo(i.x,i.y)}},_i=mi;ai.clear=mi.clear,ai.drawRoundedRectangle=function(t){t.beginPath(),mi.roundedRect.apply(mi,arguments)};var vi={_set:function(t,e){return ai.merge(this[t]||(this[t]={}),e)}};vi._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var yi=vi,bi=ai.valueOrDefault,xi={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,i,n,o;return ai.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,o=+t.left||0):e=i=n=o=+t||0,{top:e,right:i,bottom:n,left:o,height:e+n,width:o+i}},_parseFont:function(t){var e=yi.global,i=bi(t.fontSize,e.defaultFontSize),n={family:bi(t.fontFamily,e.defaultFontFamily),lineHeight:ai.options.toLineHeight(bi(t.lineHeight,e.defaultLineHeight),i),size:i,style:bi(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return n.string=S(n),n},resolve:function(t,e,i,n){var o,r,s,a=!0;for(o=0,r=t.length;o<r;++o)if((s=t[o])!==undefined&&(e!==undefined&&"function"==typeof s&&(s=s(e),a=!1),i!==undefined&&ai.isArray(s)&&(s=s[i],a=!1),s!==undefined))return n&&!a&&(n.cacheable=!1),s}},wi={_factorize:function(t){var e,i=[],n=Math.sqrt(t);for(e=1;e<n;e++)t%e==0&&(i.push(e),i.push(t/e));return n===(0|n)&&i.push(n),i.sort(function(t,e){return t-e}).pop(),i},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e}},ki=wi;ai.log10=wi.log10;var Ci=function(t,e){return{x:function(i){return t+t+e-i},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}},Ti=function(){return{x:function(t){return t},setWidth:function(){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t){return t}}},Mi=ai,Si=hi,Di=_i,ji=xi,Ai=ki,Pi={getRtlAdapter:function(t,e,i){return t?Ci(e,i):Ti()},overrideTextDirection:function(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)},restoreTextDirection:function(t){var e=t.prevTextDirection;e!==undefined&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}};Mi.easing=Si,Mi.canvas=Di,Mi.options=ji,Mi.math=Ai,Mi.rtl=Pi;var Ei=function(t){Mi.extend(this,t),this.initialize.apply(this,arguments)};Mi.extend(Ei.prototype,{_type:undefined,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=Mi.extend({},t._model)),t._start={},t},transition:function(t){var e=this,i=e._model,n=e._start,o=e._view;return i&&1!==t?(o||(o=e._view={}),n||(n=e._start={}),D(n,o,i,t),e):(e._view=Mi.extend({},i),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Mi.isNumber(this._model.x)&&Mi.isNumber(this._model.y)}}),Ei.extend=Mi.inherits;var Ii=Ei,Li=Ii.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Oi=Li;Object.defineProperty(Li.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Li.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),yi._set("global",{animation:{duration:1e3,easing:"easeOutQuart",
onProgress:Mi.noop,onComplete:Mi.noop}});var zi={animations:[],request:null,addAnimation:function(t,e,i,n){var o,r,s=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=i,n||(t.animating=!0),o=0,r=s.length;o<r;++o)if(s[o].chart===t)return void(s[o]=e);s.push(e),1===s.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=Mi.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=Mi.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this;t.advance(),t.animations.length>0&&t.requestAnimationFrame()},advance:function(){for(var t,e,i,n,o=this.animations,r=0;r<o.length;)e=(t=o[r]).chart,i=t.numSteps,n=Math.floor((Date.now()-t.startTime)/t.duration*i)+1,t.currentStep=Math.min(n,i),Mi.callback(t.render,[e,t],e),Mi.callback(t.onAnimationProgress,[t],e),t.currentStep>=i?(Mi.callback(t.onAnimationComplete,[t],e),e.animating=!1,o.splice(r,1)):++r}},Ni=Mi.options.resolve,Fi=["push","pop","shift","splice","unshift"],Ri=function(t,e){this.initialize(t,e)};Mi.extend(Ri.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var i=this;i.chart=t,i.index=e,i.linkScales(),i.addElements(),i._type=i.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),i=t.chart,n=i.scales,o=t.getDataset(),r=i.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!o.xAxisID||(e.xAxisID=o.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!o.yAxisID||(e.yAxisID=o.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&A(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,i=e.dataElementType;return i&&new i({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,i=this,n=i.getMeta(),o=i.getDataset().data||[],r=n.data;for(t=0,e=o.length;t<e;++t)r[t]=r[t]||i.createMetaData(t);n.dataset=n.dataset||i.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),i=e.data||(e.data=[]);t._data!==i&&(t._data&&A(t._data,t),i&&Object.isExtensible(i)&&j(i,t),t._data=i),t.resyncElements()},_configure:function(){var t=this;t._config=Mi.merge(Object.create(null),[t.chart.options.datasets[t._type],t.getDataset()],{merger:function(t,e,i){"_meta"!==t&&"data"!==t&&Mi._merger(t,e,i)}})},_update:function(t){var e=this;e._configure(),e._cachedDataOpts=null,e.update(t)},update:Mi.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,o=0;o<n;++o)i[o].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},getStyle:function(t){var e,i=this,n=i.getMeta(),o=n.dataset;return i._configure(),o&&t===undefined?e=i._resolveDatasetElementOptions(o||{}):(t=t||0,e=i._resolveDataElementOptions(n.data[t]||{},t)),!1!==e.fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var i,n,o,r,s=this,a=s.chart,l=s._config,h=t.custom||{},c=a.options.elements[s.datasetElementType.prototype._type]||{},d=s._datasetElementOptions,u={},f={chart:a,dataset:s.getDataset(),datasetIndex:s.index,hover:e};for(i=0,n=d.length;i<n;++i)o=d[i],r=e?"hover"+o.charAt(0).toUpperCase()+o.slice(1):o,u[o]=Ni([h[r],l[r],c[r]],f);return u},_resolveDataElementOptions:function(t,e){var i=this,n=t&&t.custom,o=i._cachedDataOpts;if(o&&!n)return o;var r,s,a,l,h=i.chart,c=i._config,d=h.options.elements[i.dataElementType.prototype._type]||{},u=i._dataElementOptions,f={},p={chart:h,dataIndex:e,dataset:i.getDataset(),datasetIndex:i.index},g={cacheable:!n};if(n=n||{},Mi.isArray(u))for(s=0,a=u.length;s<a;++s)f[l=u[s]]=Ni([n[l],c[l],d[l]],p,e,g);else for(s=0,a=(r=Object.keys(u)).length;s<a;++s)f[l=r[s]]=Ni([n[l],c[u[l]],c[l],d[l]],p,e,g);return g.cacheable&&(i._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(t){Mi.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},o=t._model,r=Mi.getHoverColor;t.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth},o.backgroundColor=Ni([n.hoverBackgroundColor,e.hoverBackgroundColor,r(o.backgroundColor)],undefined,i),o.borderColor=Ni([n.hoverBorderColor,e.hoverBorderColor,r(o.borderColor)],undefined,i),o.borderWidth=Ni([n.hoverBorderWidth,e.hoverBorderWidth,o.borderWidth],undefined,i)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,i,n,o,r,s=this.getMeta().dataset,a={};if(s){for(r=s._model,o=this._resolveDatasetElementOptions(s,!0),t=0,e=(n=Object.keys(o)).length;t<e;++t)a[i=n[t]]=r[i],r[i]=o[i];s.$previousStyle=a}},resyncElements:function(){var t=this,e=t.getMeta(),i=t.getDataset().data,n=e.data.length,o=i.length;o<n?e.data.splice(o,n-o):o>n&&t.insertElements(n,o-n)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Ri.extend=Mi.inherits;var Hi=Ri,Bi=2*Math.PI;yi._set("global",{elements:{arc:{backgroundColor:yi.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Wi=Ii.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=Mi.getAngleFromPoint(i,{x:t,y:e}),o=n.angle,r=n.distance,s=i.startAngle,a=i.endAngle;a<s;)a+=Bi;for(;o>a;)o-=Bi;for(;o<s;)o+=Bi;var l=o>=s&&o<=a,h=r>=i.innerRadius&&r<=i.outerRadius;return l&&h}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t,e=this._chart.ctx,i=this._view,n="inner"===i.borderAlign?.33:0,o={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-n,0),pixelMargin:n,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/Bi)};if(e.save(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,o.fullCircles){for(o.endAngle=o.startAngle+Bi,e.beginPath(),e.arc(o.x,o.y,o.outerRadius,o.startAngle,o.endAngle),e.arc(o.x,o.y,o.innerRadius,o.endAngle,o.startAngle,!0),e.closePath(),t=0;t<o.fullCircles;++t)e.fill();o.endAngle=o.startAngle+i.circumference%Bi}e.beginPath(),e.arc(o.x,o.y,o.outerRadius,o.startAngle,o.endAngle),e.arc(o.x,o.y,o.innerRadius,o.endAngle,o.startAngle,!0),e.closePath(),e.fill(),i.borderWidth&&I(e,i,o),e.restore()}}),$i=Mi.valueOrDefault,Yi=yi.global.defaultColor;yi._set("global",{elements:{line:{tension:.4,backgroundColor:Yi,borderWidth:3,borderColor:Yi,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var qi=Ii.extend({_type:"line",draw:function(){var t,e,i,n=this,o=n._view,r=n._chart.ctx,s=o.spanGaps,a=n._children.slice(),l=yi.global,h=l.elements.line,c=-1,d=n._loop;if(a.length){if(n._loop){for(t=0;t<a.length;++t)if(e=Mi.previousItem(a,t),!a[t]._view.skip&&e._view.skip){a=a.slice(t).concat(a.slice(0,t)),d=s;break}d&&a.push(a[0])}for(r.save(),r.lineCap=o.borderCapStyle||h.borderCapStyle,r.setLineDash&&r.setLineDash(o.borderDash||h.borderDash),r.lineDashOffset=$i(o.borderDashOffset,h.borderDashOffset),r.lineJoin=o.borderJoinStyle||h.borderJoinStyle,r.lineWidth=$i(o.borderWidth,h.borderWidth),r.strokeStyle=o.borderColor||l.defaultColor,r.beginPath(),(i=a[0]._view).skip||(r.moveTo(i.x,i.y),c=0),t=1;t<a.length;++t)i=a[t]._view,e=-1===c?Mi.previousItem(a,t):a[c],i.skip||(c!==t-1&&!s||-1===c?r.moveTo(i.x,i.y):Mi.canvas.lineTo(r,e._view,i),c=t);d&&r.closePath(),r.stroke(),r.restore()}}}),Ui=Mi.valueOrDefault,Vi=yi.global.defaultColor;yi._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Vi,borderColor:Vi,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Zi=Ii.extend({_type:"point",inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:L,inXRange:L,inYRange:O,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._chart.ctx,n=e.pointStyle,o=e.rotation,r=e.radius,s=e.x,a=e.y,l=yi.global,h=l.defaultColor;e.skip||(t===undefined||Mi.canvas._isPointInArea(e,t))&&(i.strokeStyle=e.borderColor||h,i.lineWidth=Ui(e.borderWidth,l.elements.point.borderWidth),i.fillStyle=e.backgroundColor||h,Mi.canvas.drawPoint(i,n,r,s,a,o))}}),Ki=yi.global.defaultColor;yi._set("global",{elements:{rectangle:{backgroundColor:Ki,borderColor:Ki,borderSkipped:"bottom",borderWidth:0}}});var Gi=Ii.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,i=B(e),n=i.outer,o=i.inner;t.fillStyle=e.backgroundColor,t.fillRect(n.x,n.y,n.w,n.h),n.w===o.w&&n.h===o.h||(t.save(),t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.clip(),t.fillStyle=e.borderColor,t.rect(o.x,o.y,o.w,o.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return W(this._view,t,e)},inLabelRange:function(t,e){var i=this._view;return z(i)?W(i,t,null):W(i,null,e)},inXRange:function(t){return W(this._view,t,null)},inYRange:function(t){return W(this._view,null,t)},getCenterPoint:function(){var t,e,i=this._view;return z(i)?(t=i.x,e=(i.y+i.base)/2):(t=(i.x+i.base)/2,e=i.y),{x:t,y:e}},getArea:function(){var t=this._view;return z(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),Xi={},Ji=Wi,Qi=qi,tn=Zi,en=Gi;Xi.Arc=Ji,Xi.Line=Qi,Xi.Point=tn,Xi.Rectangle=en;var nn=Mi._deprecated,on=Mi.valueOrDefault;yi._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),yi._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var rn=Hi.extend({dataElementType:Xi.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,i=this;Hi.prototype.initialize.apply(i,arguments),(t=i.getMeta()).stack=i.getDataset().stack,t.bar=!0,e=i._getIndexScale().options,nn("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),nn("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),nn("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),nn("bar chart",i._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),nn("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,i,n=this,o=n.getMeta().data;for(n._ruler=n.getRuler(),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t)},updateElement:function(t,e,i){var n=this,o=n.getMeta(),r=n.getDataset(),s=n._resolveDataElementOptions(t,e);t._xScale=n.getScaleForId(o.xAxisID),t._yScale=n.getScaleForId(o.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderSkipped:s.borderSkipped,borderWidth:s.borderWidth,datasetLabel:r.label,label:n.chart.data.labels[e]},Mi.isArray(r.data[e])&&(t._model.borderSkipped=null),n._updateElementGeometry(t,e,i,s),t.pivot()},_updateElementGeometry:function(t,e,i,n){var o=this,r=t._model,s=o._getValueScale(),a=s.getBasePixel(),l=s.isHorizontal(),h=o._ruler||o.getRuler(),c=o.calculateBarValuePixels(o.index,e,n),d=o.calculateBarIndexPixels(o.index,e,h,n);r.horizontal=l,r.base=i?a:c.base,r.x=l?i?a:c.head:d.center,r.y=l?d.center:i?a:c.head,r.height=l?d.size:undefined,r.width=l?undefined:d.size},_getStacks:function(t){var e,i,n=this,o=n._getIndexScale(),r=o._getMatchingVisibleMetas(n._type),s=o.options.stacked,a=r.length,l=[];for(e=0;e<a&&(i=r[e],(!1===s||-1===l.indexOf(i.stack)||s===undefined&&i.stack===undefined)&&l.push(i.stack),i.index!==t);++e);return l},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t),n=e!==undefined?i.indexOf(e):-1;return-1===n?i.length-1:n},getRuler:function(){var t,e,i=this,n=i._getIndexScale(),o=[];for(t=0,e=i.getMeta().data.length;t<e;++t)o.push(n.getPixelForValue(null,t,i.index));return{pixels:o,start:n._startPixel,end:n._endPixel,stackCount:i.getStackCount(),scale:n}},calculateBarValuePixels:function(t,e,i){var n,o,r,s,a,l,h,c=this,d=c.chart,u=c._getValueScale(),f=u.isHorizontal(),p=d.data.datasets,g=u._getMatchingVisibleMetas(c._type),m=u._parseValue(p[t].data[e]),_=i.minBarLength,v=u.options.stacked,y=c.getMeta().stack,b=m.start===undefined?0:m.max>=0&&m.min>=0?m.min:m.max,x=m.start===undefined?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,w=g.length;if(v||v===undefined&&y!==undefined)for(n=0;n<w&&(o=g[n]).index!==t;++n)o.stack===y&&(r=(h=u._parseValue(p[o.index].data[e])).start===undefined?h.end:h.min>=0&&h.max>=0?h.max:h.min,(m.min<0&&r<0||m.max>=0&&r>0)&&(b+=r));return s=u.getPixelForValue(b),l=(a=u.getPixelForValue(b+x))-s,_!==undefined&&Math.abs(l)<_&&(l=_,a=x>=0&&!f||x<0&&f?s-_:s+_),{size:l,base:s,head:a,center:a+l/2}},calculateBarIndexPixels:function(t,e,i,n){var o=this,r="flex"===n.barThickness?q(e,i,n):Y(e,i,n),s=o.getStackIndex(t,o.getMeta().stack),a=r.start+r.chunk*s+r.chunk/2,l=Math.min(on(n.maxBarThickness,Infinity),r.chunk*r.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}},draw:function(){var t=this,e=t.chart,i=t._getValueScale(),n=t.getMeta().data,o=t.getDataset(),r=n.length,s=0;for(Mi.canvas.clipArea(e.ctx,e.chartArea);s<r;++s){var a=i._parseValue(o.data[s]);isNaN(a.min)||isNaN(a.max)||n[s].draw()}Mi.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var t=this,e=Mi.extend({},Hi.prototype._resolveDataElementOptions.apply(t,arguments)),i=t._getIndexScale().options,n=t._getValueScale().options;return e.barPercentage=on(i.barPercentage,e.barPercentage),e.barThickness=on(i.barThickness,e.barThickness),e.categoryPercentage=on(i.categoryPercentage,e.categoryPercentage),e.maxBarThickness=on(i.maxBarThickness,e.maxBarThickness),e.minBarLength=on(n.minBarLength,e.minBarLength),e}}),sn=Mi.valueOrDefault,an=Mi.options.resolve;yi._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}});var ln=Hi.extend({dataElementType:Xi.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,i=e.getMeta().data;Mi.each(i,function(i,n){e.updateElement(i,n,t)})},updateElement:function(t,e,i){var n=this,o=n.getMeta(),r=t.custom||{},s=n.getScaleForId(o.xAxisID),a=n.getScaleForId(o.yAxisID),l=n._resolveDataElementOptions(t,e),h=n.getDataset().data[e],c=n.index,d=i?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof h?h:NaN,e,c),u=i?a.getBasePixel():a.getPixelForValue(h,e,c);t._xScale=s,t._yScale=a,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:i?0:l.radius,skip:r.skip||isNaN(d)||isNaN(u),x:d,y:u},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options,n=Mi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=sn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=sn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=sn(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},_resolveDataElementOptions:function(t,e){var i=this,n=i.chart,o=i.getDataset(),r=t.custom||{},s=o.data[e]||{},a=Hi.prototype._resolveDataElementOptions.apply(i,arguments),l={chart:n,dataIndex:e,dataset:o,datasetIndex:i.index};return i._cachedDataOpts===a&&(a=Mi.extend({},a)),a.radius=an([r.radius,s.r,i._config.radius,n.options.elements.point.radius],l,e),a}}),hn=Mi.valueOrDefault,cn=Math.PI,dn=2*cn,un=cn/2;yi._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,i,n,o=document.createElement("ul"),r=t.data,s=r.datasets,a=r.labels;if(o.setAttribute("class",t.id+"-legend"),s.length)for(e=0,i=s[0].data.length;e<i;++e)(n=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=s[0].backgroundColor[e],a[e]&&n.appendChild(document.createTextNode(a[e]));return o.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=o.controller.getStyle(n);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,o,r=e.index,s=this.chart;for(i=0,n=(s.data.datasets||[]).length;i<n;++i)(o=s.getDatasetMeta(i)).data[r]&&(o.data[r].hidden=!o.data[r].hidden);s.update()}},cutoutPercentage:50,rotation:-un,circumference:dn,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return Mi.isArray(i)?(i=i.slice())[0]+=n:i+=n,i}}}});var fn=Hi.extend({dataElementType:Xi.Arc,linkScales:Mi.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var e,i,n,o,r=this,s=r.chart,a=s.chartArea,l=s.options,h=1,c=1,d=0,u=0,f=r.getMeta(),p=f.data,g=l.cutoutPercentage/100||0,m=l.circumference,_=r._getRingWeight(r.index);if(m<dn){var v=l.rotation%dn,y=(v+=v>=cn?-dn:v<-cn?dn:0)+m,b=Math.cos(v),x=Math.sin(v),w=Math.cos(y),k=Math.sin(y),C=v<=0&&y>=0||y>=dn,T=v<=un&&y>=un||y>=dn+un,M=v<=-un&&y>=-un||y>=cn+un,S=v===-cn||y>=cn?-1:Math.min(b,b*g,w,w*g),D=M?-1:Math.min(x,x*g,k,k*g),j=C?1:Math.max(b,b*g,w,w*g),A=T?1:Math.max(x,x*g,k,k*g);h=(j-S)/2,c=(A-D)/2,d=-(j+S)/2,u=-(A+D)/2}for(n=0,o=p.length;n<o;++n)p[n]._options=r._resolveDataElementOptions(p[n],n);for(s.borderWidth=r.getMaxBorderWidth(),e=(a.right-a.left-s.borderWidth)/h,i=(a.bottom-a.top-s.borderWidth)/c,s.outerRadius=Math.max(Math.min(e,i)/2,0),s.innerRadius=Math.max(s.outerRadius*g,0),s.radiusLength=(s.outerRadius-s.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),s.offsetX=d*s.outerRadius,s.offsetY=u*s.outerRadius,f.total=r.calculateTotal(),r.outerRadius=s.outerRadius-s.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-s.radiusLength*_,0),n=0,o=p.length;n<o;++n)r.updateElement(p[n],n,t)},updateElement:function(t,e,i){var n=this,o=n.chart,r=o.chartArea,s=o.options,a=s.animation,l=(r.left+r.right)/2,h=(r.top+r.bottom)/2,c=s.rotation,d=s.rotation,u=n.getDataset(),f=i&&a.animateRotate?0:t.hidden?0:n.calculateCircumference(u.data[e])*(s.circumference/dn),p=i&&a.animateScale?0:n.innerRadius,g=i&&a.animateScale?0:n.outerRadius,m=t._options||{};Mi.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:l+o.offsetX,y:h+o.offsetY,startAngle:c,endAngle:d,circumference:f,outerRadius:g,innerRadius:p,label:Mi.valueAtIndexOrDefault(u.label,e,o.data.labels[e])}});var _=t._model;i&&a.animateRotate||(_.startAngle=0===e?s.rotation:n.getMeta().data[e-1]._model.endAngle,_.endAngle=_.startAngle+_.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),i=this.getMeta(),n=0;return Mi.each(i.data,function(i,o){t=e.data[o],isNaN(t)||i.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?dn*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,i,n,o,r,s,a,l,h=this,c=0,d=h.chart;if(!t)for(e=0,i=d.data.datasets.length;e<i;++e)if(d.isDatasetVisible(e)){t=(n=d.getDatasetMeta(e)).data,e!==h.index&&(r=n.controller);break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)o=t[e],r?(r._configure(),s=r._resolveDataElementOptions(o,e)):s=o._options,"inner"!==s.borderAlign&&(a=s.borderWidth,c=(l=s.hoverBorderWidth)>(c=a>c?a:c)?l:c);return c},setHoverStyle:function(t){var e=t._model,i=t._options,n=Mi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=hn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=hn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=hn(i.hoverBorderWidth,i.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e},_getRingWeight:function(t){return Math.max(hn(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});yi._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),yi._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var pn=rn.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),gn=Mi.valueOrDefault,mn=Mi.options.resolve,_n=Mi.canvas._isPointInArea;yi._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var vn=Hi.extend({datasetElementType:Xi.Line,dataElementType:Xi.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,i,n=this,o=n.getMeta(),r=o.dataset,s=o.data||[],a=n.chart.options,l=n._config,h=n._showLine=gn(l.showLine,a.showLines);for(n._xScale=n.getScaleForId(o.xAxisID),n._yScale=n.getScaleForId(o.yAxisID),h&&(l.tension!==undefined&&l.lineTension===undefined&&(l.lineTension=l.tension),r._scale=n._yScale,r._datasetIndex=n.index,r._children=s,r._model=n._resolveDatasetElementOptions(r),r.pivot()),e=0,i=s.length;e<i;++e)n.updateElement(s[e],e,t);for(h&&0!==r._model.tension&&n.updateBezierControlPoints(),e=0,i=s.length;e<i;++e)s[e].pivot()},updateElement:function(t,e,i){var n,o,r=this,s=r.getMeta(),a=t.custom||{},l=r.getDataset(),h=r.index,c=l.data[e],d=r._xScale,u=r._yScale,f=s.dataset._model,p=r._resolveDataElementOptions(t,e);n=d.getPixelForValue("object"==typeof c?c:NaN,e,h),o=i?u.getBasePixel():r.calculatePointY(c,e,h),t._xScale=d,t._yScale=u,t._options=p,t._datasetIndex=h,t._index=e,t._model={x:n,y:o,skip:a.skip||isNaN(n)||isNaN(o),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:gn(a.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:p.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,i=e._config,n=t.custom||{},o=e.chart.options,r=o.elements.line,s=Hi.prototype._resolveDatasetElementOptions.apply(e,arguments);return s.spanGaps=gn(i.spanGaps,o.spanGaps),s.tension=gn(i.lineTension,r.tension),s.steppedLine=mn([n.steppedLine,i.steppedLine,r.stepped]),s.clip=Z(gn(i.clip,V(e._xScale,e._yScale,s.borderWidth))),s},calculatePointY:function(t,e,i){var n,o,r,s,a,l,h,c=this,d=c.chart,u=c._yScale,f=0,p=0;if(u.options.stacked){for(a=+u.getRightValue(t),h=(l=d._getSortedVisibleDatasetMetas()).length,n=0;n<h&&(r=l[n]).index!==i;++n)o=d.data.datasets[r.index],"line"===r.type&&r.yAxisID===u.id&&((s=+u.getRightValue(o.data[e]))<0?p+=s||0:f+=s||0);return a<0?u.getPixelForValue(p+a):u.getPixelForValue(f+a)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,i){return Math.max(Math.min(t,i),e)}var e,i,n,o,r=this,s=r.chart,a=r.getMeta(),l=a.dataset._model,h=s.chartArea,c=a.data||[];if(l.spanGaps&&(c=c.filter(function(t){return!t._model.skip})),"monotone"===l.cubicInterpolationMode)Mi.splineCurveMonotone(c);else for(e=0,i=c.length;e<i;++e)n=c[e]._model,o=Mi.splineCurve(Mi.previousItem(c,e)._model,n,Mi.nextItem(c,e)._model,l.tension),n.controlPointPreviousX=o.previous.x,n.controlPointPreviousY=o.previous.y,n.controlPointNextX=o.next.x,n.controlPointNextY=o.next.y;if(s.options.elements.line.capBezierPoints)for(e=0,i=c.length;e<i;++e)n=c[e]._model,_n(n,h)&&(e>0&&_n(c[e-1]._model,h)&&(n.controlPointPreviousX=t(n.controlPointPreviousX,h.left,h.right),n.controlPointPreviousY=t(n.controlPointPreviousY,h.top,h.bottom)),e<c.length-1&&_n(c[e+1]._model,h)&&(n.controlPointNextX=t(n.controlPointNextX,h.left,h.right),n.controlPointNextY=t(n.controlPointNextY,h.top,h.bottom)))},draw:function(){var t,e=this,i=e.chart,n=e.getMeta(),o=n.data||[],r=i.chartArea,s=i.canvas,a=0,l=o.length;for(e._showLine&&(t=n.dataset._model.clip,Mi.canvas.clipArea(i.ctx,{left:!1===t.left?0:r.left-t.left,right:!1===t.right?s.width:r.right+t.right,top:!1===t.top?0:r.top-t.top,bottom:!1===t.bottom?s.height:r.bottom+t.bottom}),n.dataset.draw(),Mi.canvas.unclipArea(i.ctx));a<l;++a)o[a].draw(r)},setHoverStyle:function(t){var e=t._model,i=t._options,n=Mi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=gn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=gn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=gn(i.hoverBorderWidth,i.borderWidth),e.radius=gn(i.hoverRadius,i.radius)}}),yn=Mi.options.resolve;yi._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,i,n,o=document.createElement("ul"),r=t.data,s=r.datasets,a=r.labels;if(o.setAttribute("class",t.id+"-legend"),s.length)for(e=0,i=s[0].data.length;e<i;++e)(n=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=s[0].backgroundColor[e],a[e]&&n.appendChild(document.createTextNode(a[e]));return o.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var o=t.getDatasetMeta(0),r=o.controller.getStyle(n);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[n])||o.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,o,r=e.index,s=this.chart;for(i=0,n=(s.data.datasets||[]).length;i<n;++i)(o=s.getDatasetMeta(i)).data[r].hidden=!o.data[r].hidden;s.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var bn=Hi.extend({dataElementType:Xi.Arc,linkScales:Mi.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n,o=this,r=o.getDataset(),s=o.getMeta(),a=o.chart.options.startAngle||0,l=o._starts=[],h=o._angles=[],c=s.data;for(o._updateRadius(),s.count=o.countVisibleElements(),e=0,i=r.data.length;e<i;e++)l[e]=a,n=o._computeAngle(e),h[e]=n,a+=n;for(e=0,i=c.length;e<i;++e)c[e]._options=o._resolveDataElementOptions(c[e],e),o.updateElement(c[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,i=e.chartArea,n=e.options,o=Math.min(i.right-i.left,i.bottom-i.top);e.outerRadius=Math.max(o/2,0),e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,i){var n=this,o=n.chart,r=n.getDataset(),s=o.options,a=s.animation,l=o.scale,h=o.data.labels,c=l.xCenter,d=l.yCenter,u=s.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(r.data[e]),p=n._starts[e],g=p+(t.hidden?0:n._angles[e]),m=a.animateScale?0:l.getDistanceFromCenterForValue(r.data[e]),_=t._options||{};Mi.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth,borderAlign:_.borderAlign,x:c,y:d,innerRadius:0,outerRadius:i?m:f,startAngle:i&&a.animateRotate?u:p,endAngle:i&&a.animateRotate?u:g,label:Mi.valueAtIndexOrDefault(h,e,h[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),i=0;return Mi.each(e.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},setHoverStyle:function(t){var e=t._model,i=t._options,n=Mi.getHoverColor,o=Mi.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=o(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=o(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=o(i.hoverBorderWidth,i.borderWidth)},_computeAngle:function(t){var e=this,i=this.getMeta().count,n=e.getDataset(),o=e.getMeta();if(isNaN(n.data[t])||o.data[t].hidden)return 0;var r={chart:e.chart,dataIndex:t,dataset:n,datasetIndex:e.index};return yn([e.chart.options.elements.arc.angle,2*Math.PI/i],r,t)}});yi._set("pie",Mi.clone(yi.doughnut)),yi._set("pie",{cutoutPercentage:0});var xn=fn,wn=Mi.valueOrDefault;yi._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var kn=Hi.extend({datasetElementType:Xi.Line,dataElementType:Xi.Point,linkScales:Mi.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",
hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n=this,o=n.getMeta(),r=o.dataset,s=o.data||[],a=n.chart.scale,l=n._config;for(l.tension!==undefined&&l.lineTension===undefined&&(l.lineTension=l.tension),r._scale=a,r._datasetIndex=n.index,r._children=s,r._loop=!0,r._model=n._resolveDatasetElementOptions(r),r.pivot(),e=0,i=s.length;e<i;++e)n.updateElement(s[e],e,t);for(n.updateBezierControlPoints(),e=0,i=s.length;e<i;++e)s[e].pivot()},updateElement:function(t,e,i){var n=this,o=t.custom||{},r=n.getDataset(),s=n.chart.scale,a=s.getPointPositionForValue(e,r.data[e]),l=n._resolveDataElementOptions(t,e),h=n.getMeta().dataset._model,c=i?s.xCenter:a.x,d=i?s.yCenter:a.y;t._scale=s,t._options=l,t._datasetIndex=n.index,t._index=e,t._model={x:c,y:d,skip:o.skip||isNaN(c)||isNaN(d),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:wn(o.tension,h?h.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,i=t.chart.options,n=Hi.prototype._resolveDatasetElementOptions.apply(t,arguments);return n.spanGaps=wn(e.spanGaps,i.spanGaps),n.tension=wn(e.lineTension,i.elements.line.tension),n},updateBezierControlPoints:function(){function t(t,e,i){return Math.max(Math.min(t,i),e)}var e,i,n,o,r=this,s=r.getMeta(),a=r.chart.chartArea,l=s.data||[];for(s.dataset._model.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),e=0,i=l.length;e<i;++e)n=l[e]._model,o=Mi.splineCurve(Mi.previousItem(l,e,!0)._model,n,Mi.nextItem(l,e,!0)._model,n.tension),n.controlPointPreviousX=t(o.previous.x,a.left,a.right),n.controlPointPreviousY=t(o.previous.y,a.top,a.bottom),n.controlPointNextX=t(o.next.x,a.left,a.right),n.controlPointNextY=t(o.next.y,a.top,a.bottom)},setHoverStyle:function(t){var e=t._model,i=t._options,n=Mi.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=wn(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=wn(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=wn(i.hoverBorderWidth,i.borderWidth),e.radius=wn(i.hoverRadius,i.radius)}});yi._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),yi._set("global",{datasets:{scatter:{showLine:!1}}});var Cn={bar:rn,bubble:ln,doughnut:fn,horizontalBar:pn,line:vn,polarArea:bn,pie:xn,radar:kn,scatter:vn},Tn={modes:{single:function(t,e){var i=K(e,t),n=[];return G(t,function(t){if(t.inRange(i.x,i.y))return n.push(t),n}),n.slice(0,1)},label:tt,index:tt,dataset:function(t,e,i){var n=K(e,t);i.axis=i.axis||"xy";var o=Q(i.axis),r=i.intersect?X(t,n):J(t,n,!1,o);return r.length>0&&(r=t.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(t,e){return tt(t,e,{intersect:!1})},point:function(t,e){return X(t,K(e,t))},nearest:function(t,e,i){var n=K(e,t);i.axis=i.axis||"xy";var o=Q(i.axis);return J(t,n,i.intersect,o)},x:function(t,e,i){var n=K(e,t),o=[],r=!1;return G(t,function(t){t.inXRange(n.x)&&o.push(t),t.inRange(n.x,n.y)&&(r=!0)}),i.intersect&&!r&&(o=[]),o},y:function(t,e,i){var n=K(e,t),o=[],r=!1;return G(t,function(t){t.inYRange(n.y)&&o.push(t),t.inRange(n.x,n.y)&&(r=!0)}),i.intersect&&!r&&(o=[]),o}}},Mn=Mi.extend;yi._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Sn={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,o=["fullWidth","position","weight"],r=o.length,s=0;s<r;++s)n=o[s],i.hasOwnProperty(n)&&(e[n]=i[n])},update:function(t,e,i){if(t){var n=t.options.layout||{},o=Mi.options.toPadding(n.padding),r=e-o.width,s=i-o.height,a=rt(t.boxes),l=a.vertical,h=a.horizontal,c=Object.freeze({outerWidth:e,outerHeight:i,padding:o,availableWidth:r,vBoxMaxWidth:r/2/l.length,hBoxMaxHeight:s/2}),d=Mn({maxPadding:Mn({},o),w:r,h:s,x:o.left,y:o.top},o);ot(l.concat(h),c),ct(l,d,c),ct(h,d,c)&&ct(l,d,c),lt(d),dt(a.leftAndTop,d,c),d.x+=d.w,d.y+=d.h,dt(a.rightAndBottom,d,c),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},Mi.each(a.chartArea,function(e){var i=e.box;Mn(i,t.chartArea),i.update(d.w,d.h)})}}},Dn={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},jn="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n",An=i(Object.freeze({__proto__:null,"default":jn})),Pn="$chartjs",En="chartjs-",In=En+"size-monitor",Ln=En+"render-monitor",On=En+"render-animation",zn=["animationstart","webkitAnimationStart"],Nn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fn=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(i){}return t}()&&{passive:!0},Rn={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;Tt(e.host?e:document.head,An)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(this._ensureLoaded(t),ft(t,e),i):null},releaseContext:function(t){var e=t.canvas;if(e[Pn]){var i=e[Pn].initial;["height","width"].forEach(function(t){var n=i[t];Mi.isNullOrUndef(n)?e.removeAttribute(t):e.setAttribute(t,n)}),Mi.each(i.style||{},function(t,i){e.style[i]=t}),e.width=e.width,delete e[Pn]}},addEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var o=i[Pn]||(i[Pn]={});pt(n,e,(o.proxies||(o.proxies={}))[t.id+"_"+e]=function(e){i(_t(e,t))})}else kt(n,i,t)},removeEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var o=((i[Pn]||{}).proxies||{})[t.id+"_"+e];o&&gt(n,e,o)}else Ct(n)}};Mi.addEvent=pt,Mi.removeEvent=gt;var Hn=Rn._enabled?Rn:Dn,Bn=Mi.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Hn);yi._set("global",{plugins:{}});var Wn={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,o,r,s,a,l=this.descriptors(t),h=l.length;for(n=0;n<h;++n)if("function"==typeof(a=(r=(o=l[n]).plugin)[e])&&((s=[t].concat(i||[])).push(o.options),!1===a.apply(r,s)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],n=[],o=t&&t.config||{},r=o.options&&o.options.plugins||{};return this._plugins.concat(o.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,o=r[e];!1!==o&&(!0===o&&(o=Mi.clone(yi.global.plugins[e])),i.push(t),n.push({plugin:t,options:o||{}}))}}),e.descriptors=n,e.id=this._cacheId,n},_invalidate:function(t){delete t.$plugins}},$n={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=Mi.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:undefined},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?Mi.merge(Object.create(null),[yi.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var i=this;i.defaults.hasOwnProperty(t)&&(i.defaults[t]=Mi.extend(i.defaults[t],e))},addScalesToLayout:function(t){Mi.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,Sn.addBox(t,e)})}},Yn=Mi.valueOrDefault,qn=Mi.rtl.getRtlAdapter;yi._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Mi.noop,title:function(t,e){var i="",n=e.labels,o=n?n.length:0;if(t.length>0){var r=t[0];r.label?i=r.label:r.xLabel?i=r.xLabel:o>0&&r.index<o&&(i=n[r.index])}return i},afterTitle:Mi.noop,beforeBody:Mi.noop,beforeLabel:Mi.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),Mi.isNullOrUndef(t.value)?i+=t.yLabel:i+=t.value,i},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Mi.noop,afterBody:Mi.noop,beforeFooter:Mi.noop,footer:Mi.noop,afterFooter:Mi.noop}}});var Un={average:function(t){if(!t.length)return!1;var e,i,n=0,o=0,r=0;for(e=0,i=t.length;e<i;++e){var s=t[e];if(s&&s.hasValue()){var a=s.tooltipPosition();n+=a.x,o+=a.y,++r}}return{x:n/r,y:o/r}},nearest:function(t,e){var i,n,o,r=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i];if(l&&l.hasValue()){var h=l.getCenterPoint(),c=Mi.distanceBetweenPoints(e,h);c<a&&(a=c,o=l)}}if(o){var d=o.tooltipPosition();r=d.x,s=d.y}return{x:r,y:s}}},Vn=Ii.extend({initialize:function(){this._model=jt(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options.callbacks,i=e.beforeTitle.apply(t,arguments),n=e.title.apply(t,arguments),o=e.afterTitle.apply(t,arguments),r=[];return r=Mt(r=Mt(r=Mt(r,St(i)),St(n)),St(o))},getBeforeBody:function(){return Lt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var i=this,n=i._options.callbacks,o=[];return Mi.each(t,function(t){var r={before:[],lines:[],after:[]};Mt(r.before,St(n.beforeLabel.call(i,t,e))),Mt(r.lines,n.label.call(i,t,e)),Mt(r.after,St(n.afterLabel.call(i,t,e))),o.push(r)}),o},getAfterBody:function(){return Lt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),n=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),r=[];return r=Mt(r=Mt(r=Mt(r,St(i)),St(n)),St(o))},update:function(t){var e,i,n=this,o=n._options,r=n._model,s=n._model=jt(o),a=n._active,l=n._data,h={xAlign:r.xAlign,yAlign:r.yAlign},c={x:r.x,y:r.y},d={width:r.width,height:r.height},u={x:r.caretX,y:r.caretY};if(a.length){s.opacity=1;var f=[],p=[];u=Un[o.position].call(n,a,n._eventPosition);var g=[];for(e=0,i=a.length;e<i;++e)g.push(Dt(a[e]));o.filter&&(g=g.filter(function(t){return o.filter(t,l)})),o.itemSort&&(g=g.sort(function(t,e){return o.itemSort(t,e,l)})),Mi.each(g,function(t){f.push(o.callbacks.labelColor.call(n,t,n._chart)),p.push(o.callbacks.labelTextColor.call(n,t,n._chart))}),s.title=n.getTitle(g,l),s.beforeBody=n.getBeforeBody(g,l),s.body=n.getBody(g,l),s.afterBody=n.getAfterBody(g,l),s.footer=n.getFooter(g,l),s.x=u.x,s.y=u.y,s.caretPadding=o.caretPadding,s.labelColors=f,s.labelTextColors=p,s.dataPoints=g,c=Et(s,d=At(this,s),h=Pt(this,d),n._chart)}else s.opacity=0;return s.xAlign=h.xAlign,s.yAlign=h.yAlign,s.x=c.x,s.y=c.y,s.width=d.width,s.height=d.height,s.caretX=u.x,s.caretY=u.y,n._model=s,t&&o.custom&&o.custom.call(n,s),n},drawCaret:function(t,e){var i=this._chart.ctx,n=this._view,o=this.getCaretPosition(t,e,n);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)},getCaretPosition:function(t,e,i){var n,o,r,s,a,l,h=i.caretSize,c=i.cornerRadius,d=i.xAlign,u=i.yAlign,f=t.x,p=t.y,g=e.width,m=e.height;if("center"===u)a=p+m/2,"left"===d?(o=(n=f)-h,r=n,s=a+h,l=a-h):(o=(n=f+g)+h,r=n,s=a-h,l=a+h);else if("left"===d?(n=(o=f+c+h)-h,r=o+h):"right"===d?(n=(o=f+g-c-h)-h,r=o+h):(n=(o=i.caretX)-h,r=o+h),"top"===u)a=(s=p)-h,l=s;else{a=(s=p+m)+h,l=s;var _=r;r=n,n=_}return{x1:n,x2:o,x3:r,y1:s,y2:a,y3:l}},drawTitle:function(t,e,i){var n,o,r,s=e.title,a=s.length;if(a){var l=qn(e.rtl,e.x,e.width);for(t.x=It(e,e._titleAlign),i.textAlign=l.textAlign(e._titleAlign),i.textBaseline="middle",n=e.titleFontSize,o=e.titleSpacing,i.fillStyle=e.titleFontColor,i.font=Mi.fontString(n,e._titleFontStyle,e._titleFontFamily),r=0;r<a;++r)i.fillText(s[r],l.x(t.x),t.y+n/2),t.y+=n+o,r+1===a&&(t.y+=e.titleMarginBottom-o)}},drawBody:function(t,e,i){var n,o,r,s,a,l,h,c,d=e.bodyFontSize,u=e.bodySpacing,f=e._bodyAlign,p=e.body,g=e.displayColors,m=0,_=g?It(e,"left"):0,v=qn(e.rtl,e.x,e.width),y=function(e){i.fillText(e,v.x(t.x+m),t.y+d/2),t.y+=d+u},b=v.textAlign(f);for(i.textAlign=f,i.textBaseline="middle",i.font=Mi.fontString(d,e._bodyFontStyle,e._bodyFontFamily),t.x=It(e,b),i.fillStyle=e.bodyFontColor,Mi.each(e.beforeBody,y),m=g&&"right"!==b?"center"===f?d/2+1:d+2:0,a=0,h=p.length;a<h;++a){for(n=p[a],o=e.labelTextColors[a],r=e.labelColors[a],i.fillStyle=o,Mi.each(n.before,y),l=0,c=(s=n.lines).length;l<c;++l){if(g){var x=v.x(_);i.fillStyle=e.legendColorBackground,i.fillRect(v.leftForLtr(x,d),t.y,d,d),i.lineWidth=1,i.strokeStyle=r.borderColor,i.strokeRect(v.leftForLtr(x,d),t.y,d,d),i.fillStyle=r.backgroundColor,i.fillRect(v.leftForLtr(v.xPlus(x,1),d-2),t.y+1,d-2,d-2),i.fillStyle=o}y(s[l])}Mi.each(n.after,y)}m=0,Mi.each(e.afterBody,y),t.y-=u},drawFooter:function(t,e,i){var n,o,r=e.footer,s=r.length;if(s){var a=qn(e.rtl,e.x,e.width);for(t.x=It(e,e._footerAlign),t.y+=e.footerMarginTop,i.textAlign=a.textAlign(e._footerAlign),i.textBaseline="middle",n=e.footerFontSize,i.fillStyle=e.footerFontColor,i.font=Mi.fontString(n,e._footerFontStyle,e._footerFontFamily),o=0;o<s;++o)i.fillText(r[o],a.x(t.x),t.y+n/2),t.y+=n+e.footerSpacing}},drawBackground:function(t,e,i,n){i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,i.lineWidth=e.borderWidth;var o=e.xAlign,r=e.yAlign,s=t.x,a=t.y,l=n.width,h=n.height,c=e.cornerRadius;i.beginPath(),i.moveTo(s+c,a),"top"===r&&this.drawCaret(t,n),i.lineTo(s+l-c,a),i.quadraticCurveTo(s+l,a,s+l,a+c),"center"===r&&"right"===o&&this.drawCaret(t,n),i.lineTo(s+l,a+h-c),i.quadraticCurveTo(s+l,a+h,s+l-c,a+h),"bottom"===r&&this.drawCaret(t,n),i.lineTo(s+c,a+h),i.quadraticCurveTo(s,a+h,s,a+h-c),"center"===r&&"left"===o&&this.drawCaret(t,n),i.lineTo(s,a+c),i.quadraticCurveTo(s,a,s+c,a),i.closePath(),i.fill(),e.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity,r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&r&&(t.save(),t.globalAlpha=o,this.drawBackground(n,e,t,i),n.y+=e.yPadding,Mi.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),Mi.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e=this,i=e._options,n=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:(e._active=e._chart.getElementsAtEventForMode(t,i.mode,i),i.reverse&&e._active.reverse()),(n=!Mi.arrayEquals(e._active,e._lastActive))&&(e._lastActive=e._active,(i.enabled||i.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),n}}),Zn=Un,Kn=Vn;Kn.positioners=Zn;var Gn=Mi.valueOrDefault;yi._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Xn=function(t,e){return this.construct(t,e),this};Mi.extend(Xn.prototype,{construct:function(t,e){var i=this;e=Nt(e);var n=Bn.acquireContext(t,e),o=n&&n.canvas,r=o&&o.height,s=o&&o.width;i.id=Mi.uid(),i.ctx=n,i.canvas=o,i.config=e,i.width=s,i.height=r,i.aspectRatio=r?s/r:null,i.options=e.options,i._bufferedRender=!1,i._layers=[],i.chart=i,i.controller=i,Xn.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),n&&o?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Wn.notify(t,"beforeInit"),Mi.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),Wn.notify(t,"afterInit"),t},clear:function(){return Mi.canvas.clear(this),this},stop:function(){return zi.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,n=e.canvas,o=i.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(Mi.getMaximumWidth(n))),s=Math.max(0,Math.floor(o?r/o:Mi.getMaximumHeight(n)));if((e.width!==r||e.height!==s)&&(n.width=e.width=r,n.height=e.height=s,n.style.width=r+"px",n.style.height=s+"px",Mi.retinaScale(e,i.devicePixelRatio),!t)){var a={width:r,height:s};Wn.notify(e,"resize",[a]),i.onResize&&i.onResize(e,a),e.stop(),e.update({duration:i.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;Mi.each(e.xAxes,function(t,i){t.id||(t.id=Rt(e.xAxes,"x-axis-",i))}),Mi.each(e.yAxes,function(t,i){t.id||(t.id=Rt(e.yAxes,"y-axis-",i))}),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,i=t.scales||{},n=[],o=Object.keys(i).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(n=n.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&n.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),Mi.each(n,function(e){var n=e.options,r=n.id,s=Gn(n.type,e.dtype);Ht(n.position)!==Ht(e.dposition)&&(n.position=e.dposition),o[r]=!0;var a=null;if(r in i&&i[r].type===s)(a=i[r]).options=n,a.ctx=t.ctx,a.chart=t;else{var l=$n.getScaleConstructor(s);if(!l)return;a=new l({id:r,type:s,options:n,ctx:t.ctx,chart:t}),i[a.id]=a}a.mergeTicksOptions(),e.isDefault&&(t.scale=a)}),Mi.each(o,function(t,e){t||delete i[e]}),t.scales=i,$n.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,i=this,n=[],o=i.data.datasets;for(t=0,e=o.length;t<e;t++){var r=o[t],s=i.getDatasetMeta(t),a=r.type||i.config.type;if(s.type&&s.type!==a&&(i.destroyDatasetMeta(t),s=i.getDatasetMeta(t)),s.type=a,s.order=r.order||0,s.index=t,s.controller)s.controller.updateIndex(t),s.controller.linkScales();else{var l=Cn[s.type];if(l===undefined)throw new Error('"'+s.type+'" is not a chart type.');s.controller=new l(i,t),n.push(s.controller)}}return n},resetElements:function(){var t=this;Mi.each(t.data.datasets,function(e,i){t.getDatasetMeta(i).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,i,n=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),Ft(n),Wn._invalidate(n),!1!==Wn.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var o=n.buildOrUpdateControllers();for(e=0,i=n.data.datasets.length;e<i;e++)n.getDatasetMeta(e).controller.buildOrUpdateElements();n.updateLayout(),n.options.animation&&n.options.animation.duration&&Mi.each(o,function(t){t.reset()}),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],Wn.notify(n,"afterUpdate"),n._layers.sort(Bt("z","_idx")),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){var t=this;!1!==Wn.notify(t,"beforeLayout")&&(Sn.update(this,this.width,this.height),t._layers=[],Mi.each(t.boxes,function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())},t),t._layers.forEach(function(t,e){t._idx=e}),Wn.notify(t,"afterScaleUpdate"),Wn.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==Wn.notify(t,"beforeDatasetsUpdate")){for(var e=0,i=t.data.datasets.length;e<i;++e)t.updateDataset(e);Wn.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,i=e.getDatasetMeta(t),n={meta:i,index:t};!1!==Wn.notify(e,"beforeDatasetUpdate",[n])&&(i.controller._update(),Wn.notify(e,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var i=e.options.animation,n=Gn(t.duration,i&&i.duration),o=t.lazy;if(!1!==Wn.notify(e,"beforeRender")){var r=function(t){Wn.notify(e,"afterRender"),Mi.callback(i&&i.onComplete,[t],e)};if(i&&n){var s=new Oi({numSteps:n/16.66,easing:t.easing||i.easing,render:function(t,e){var i=Mi.easing.effects[e.easing],n=e.currentStep,o=n/e.numSteps;t.draw(i(o),o,n)},onAnimationProgress:i.onProgress,onAnimationComplete:r});zi.addAnimation(e,s,n,o)}else e.draw(),r(new Oi({numSteps:0,chart:e}));return e}},draw:function(t){var e,i,n=this;if(n.clear(),Mi.isNullOrUndef(t)&&(t=1),n.transition(t),!(n.width<=0||n.height<=0)&&!1!==Wn.notify(n,"beforeDraw",[t])){for(i=n._layers,e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(n.chartArea);for(n.drawDatasets(t);e<i.length;++e)i[e].draw(n.chartArea);n._drawTooltip(t),Wn.notify(n,"afterDraw",[t])}},transition:function(t){for(var e=this,i=0,n=(e.data.datasets||[]).length;i<n;++i)e.isDatasetVisible(i)&&e.getDatasetMeta(i).controller.transition(t);e.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,i,n=this,o=[];for(e=0,i=(n.data.datasets||[]).length;e<i;++e)t&&!n.isDatasetVisible(e)||o.push(n.getDatasetMeta(e));return o.sort(Bt("order","index")),o},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,i,n=this;if(!1!==Wn.notify(n,"beforeDatasetsDraw",[t])){for(i=(e=n._getSortedVisibleDatasetMetas()).length-1;i>=0;--i)n.drawDataset(e[i],t);Wn.notify(n,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i=this,n={meta:t,index:t.index,easingValue:e};!1!==Wn.notify(i,"beforeDatasetDraw",[n])&&(t.controller.draw(e),Wn.notify(i,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this,i=e.tooltip,n={tooltip:i,easingValue:t};!1!==Wn.notify(e,"beforeTooltipDraw",[n])&&(i.draw(),Wn.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Tn.modes.single(this,t)},getElementsAtEvent:function(t){return Tn.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Tn.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=Tn.modes[e];return"function"==typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return Tn.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,i=e.data.datasets[t];i._meta||(i._meta={});var n=i._meta[e.id];return n||(n=i._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:t}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t)i.destroyDatasetMeta(t);n&&(i.unbindEvents(),Mi.canvas.clear(i),Bn.releaseContext(i.ctx),i.canvas=null,i.ctx=null),Wn.notify(i,"destroy"),delete Xn.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Kn({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},i=function(){t.eventHandler.apply(t,arguments)};Mi.each(t.options.events,function(n){Bn.addEventListener(t,n,i),e[n]=i}),t.options.responsive&&(i=function(){t.resize()},Bn.addEventListener(t,"resize",i),e.resize=i)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,Mi.each(e,function(e,i){Bn.removeEventListener(t,i,e)}))},updateHoverStyle:function(t,e,i){var n,o,r,s=i?"set":"remove";for(o=0,r=t.length;o<r;++o)(n=t[o])&&this.getDatasetMeta(n._datasetIndex).controller[s+"HoverStyle"](n);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+s+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==Wn.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);i&&(n=i._start?i.handleEvent(t):n|i.handleEvent(t)),Wn.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o):n&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,i=e.options||{},n=i.hover,o=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,n.mode,n),Mi.callback(i.onHover||i.hover.onHover,[t.native,e.active],e),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(e,t.native,e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,n.mode,!1),e.active.length&&n.mode&&e.updateHoverStyle(e.active,n.mode,!0),o=!Mi.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,o}}),Xn.instances={};var Jn=Xn;Xn.Controller=Xn,Xn.types={},Mi.configMerge=zt,Mi.scaleMerge=Ot;var Qn=function(){function t(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function e(t){return t!==undefined&&null!==t&&"none"!==t}function i(i,n,o){var r=document.defaultView,s=Mi._getParentNode(i),a=r.getComputedStyle(i)[n],l=r.getComputedStyle(s)[n],h=e(a),c=e(l),d=Number.POSITIVE_INFINITY;return h||c?Math.min(h?t(a,i,o):d,c?t(l,s,o):d):"none"}Mi.where=function(t,e){if(Mi.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return Mi.each(t,function(t){e(t)&&i.push(t)}),i},Mi.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=i===undefined?t:i;for(var n=0,o=t.length;n<o;++n)if(e.call(i,t[n],n,t))return n;return-1},Mi.findNextWhere=function(t,e,i){Mi.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var o=t[n];if(e(o))return o}},Mi.findPreviousWhere=function(t,e,i){Mi.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;n>=0;n--){var o=t[n];if(e(o))return o}},Mi.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},Mi.almostEquals=function(t,e,i){return Math.abs(t-e)<i},Mi.almostWhole=function(t,e){var i=Math.round(t);return i-e<=t&&i+e>=t},Mi.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},Mi.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},Mi.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},Mi.toRadians=function(t){return t*(Math.PI/180)},Mi.toDegrees=function(t){return t*(180/Math.PI)},Mi._decimalPlaces=function(t){if(Mi.isFinite(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}},Mi.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,o=Math.sqrt(i*i+n*n),r=Math.atan2(n,i);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:o}},Mi.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Mi.aliasPixel=function(t){return t%2==0?0:.5},Mi._alignPixel=function(t,e,i){var n=t.currentDevicePixelRatio,o=i/2;return Math.round((e-o)*n)/n+o},Mi.splineCurve=function(t,e,i,n){var o=t.skip?e:t,r=e,s=i.skip?e:i,a=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),l=Math.sqrt(Math.pow(s.x-r.x,2)+Math.pow(s.y-r.y,2)),h=a/(a+l),c=l/(a+l),d=n*(h=isNaN(h)?0:h),u=n*(c=isNaN(c)?0:c);return{previous:{x:r.x-d*(s.x-o.x),y:r.y-d*(s.y-o.y)},next:{x:r.x+u*(s.x-o.x),y:r.y+u*(s.y-o.y)}}},Mi.EPSILON=Number.EPSILON||1e-14,Mi.splineCurveMonotone=function(t){var e,i,n,o,r,s,a,l,h,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),d=c.length;for(e=0;e<d;++e)if(!(n=c[e]).model.skip){if(i=e>0?c[e-1]:null,(o=e<d-1?c[e+1]:null)&&!o.model.skip){var u=o.model.x-n.model.x;n.deltaK=0!==u?(o.model.y-n.model.y)/u:0}!i||i.model.skip?n.mK=n.deltaK:!o||o.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}for(e=0;e<d-1;++e)n=c[e],o=c[e+1],n.model.skip||o.model.skip||(Mi.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=o.mK=0:(r=n.mK/n.deltaK,s=o.mK/n.deltaK,(l=Math.pow(r,2)+Math.pow(s,2))<=9||(a=3/Math.sqrt(l),n.mK=r*a*n.deltaK,o.mK=s*a*n.deltaK)));for(e=0;e<d;++e)(n=c[e]).model.skip||(i=e>0?c[e-1]:null,o=e<d-1?c[e+1]:null,i&&!i.model.skip&&(h=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-h,n.model.controlPointPreviousY=n.model.y-h*n.mK),o&&!o.model.skip&&(h=(o.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+h,n.model.controlPointNextY=n.model.y+h*n.mK))},Mi.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},Mi.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},Mi.niceNum=function(t,e){var i=Math.floor(Mi.log10(t)),n=t/Math.pow(10,i);return(e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)},Mi.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},Mi.getRelativePosition=function(t,e){var i,n,o=t.originalEvent||t,r=t.target||t.srcElement,s=r.getBoundingClientRect(),a=o.touches;a&&a.length>0?(i=a[0].clientX,n=a[0].clientY):(i=o.clientX,n=o.clientY);var l=parseFloat(Mi.getStyle(r,"padding-left")),h=parseFloat(Mi.getStyle(r,"padding-top")),c=parseFloat(Mi.getStyle(r,"padding-right")),d=parseFloat(Mi.getStyle(r,"padding-bottom")),u=s.right-s.left-l-c,f=s.bottom-s.top-h-d;return{x:i=Math.round((i-s.left-l)/u*r.width/e.currentDevicePixelRatio),y:n=Math.round((n-s.top-h)/f*r.height/e.currentDevicePixelRatio)}},Mi.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},Mi.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},Mi._calculatePadding=function(t,e,i){return(e=Mi.getStyle(t,e)).indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)},Mi._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},Mi.getMaximumWidth=function(t){var e=Mi._getParentNode(t);if(!e)return t.clientWidth;var i=e.clientWidth,n=i-Mi._calculatePadding(e,"padding-left",i)-Mi._calculatePadding(e,"padding-right",i),o=Mi.getConstraintWidth(t);return isNaN(o)?n:Math.min(n,o)},Mi.getMaximumHeight=function(t){var e=Mi._getParentNode(t);if(!e)return t.clientHeight;var i=e.clientHeight,n=i-Mi._calculatePadding(e,"padding-top",i)-Mi._calculatePadding(e,"padding-bottom",i),o=Mi.getConstraintHeight(t);return isNaN(o)?n:Math.min(n,o)},Mi.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},
Mi.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==i){var n=t.canvas,o=t.height,r=t.width;n.height=o*i,n.width=r*i,t.ctx.scale(i,i),n.style.height||n.style.width||(n.style.height=o+"px",n.style.width=r+"px")}},Mi.fontString=function(t,e,i){return e+" "+t+"px "+i},Mi.longestText=function(t,e,i,n){var o=(n=n||{}).data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(o=n.data={},r=n.garbageCollect=[],n.font=e),t.font=e;var s,a,l,h,c,d=0,u=i.length;for(s=0;s<u;s++)if((h=i[s])!==undefined&&null!==h&&!0!==Mi.isArray(h))d=Mi.measureText(t,o,r,d,h);else if(Mi.isArray(h))for(a=0,l=h.length;a<l;a++)(c=h[a])===undefined||null===c||Mi.isArray(c)||(d=Mi.measureText(t,o,r,d,c));var f=r.length/2;if(f>i.length){for(s=0;s<f;s++)delete o[r[s]];r.splice(0,f)}return d},Mi.measureText=function(t,e,i,n,o){var r=e[o];return r||(r=e[o]=t.measureText(o).width,i.push(o)),r>n&&(n=r),n},Mi.numberOfLabelLines=function(t){var e=1;return Mi.each(t,function(t){Mi.isArray(t)&&t.length>e&&(e=t.length)}),e},Mi.color=ri?function(t){return t instanceof CanvasGradient&&(t=yi.global.defaultColor),ri(t)}:function(t){return console.error("Color.js not found!"),t},Mi.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:Mi.color(t).saturate(.5).darken(.1).rgbString()}};Mi.extend($t.prototype,{formats:Wt,parse:Wt,format:Wt,add:Wt,diff:Wt,startOf:Wt,endOf:Wt,_create:function(t){return t}}),$t.override=function(t){Mi.extend($t.prototype,t)};var to={_date:$t},eo={formatters:{values:function(t){return Mi.isArray(t)?t:""+t},linear:function(t,e,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var o=Mi.log10(Math.abs(n)),r="";if(0!==t)if(Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]))<1e-4){var s=Mi.log10(Math.abs(t)),a=Math.floor(s)-Math.floor(o);a=Math.max(Math.min(a,20),0),r=t.toExponential(a)}else{var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r="0";return r},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(Mi.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===e||e===i.length-1?t.toExponential():""}}},io=Mi.isArray,no=Mi.isNullOrUndef,oo=Mi.valueOrDefault,ro=Mi.valueAtIndexOrDefault;yi._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:eo.formatters.values,minor:{},major:{}}});var so=Ii.extend({zeroLineIndex:0,getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){Mi.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,o,r,s,a,l=this,h=l.options.ticks,c=h.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=Mi.extend({left:0,right:0,top:0,bottom:0},i),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),s=l.buildTicks()||[],(!(s=l.afterBuildTicks(s)||s)||!s.length)&&l.ticks)for(s=[],n=0,o=l.ticks.length;n<o;++n)s.push({value:l.ticks[n],major:!1});return l._ticks=s,a=c<s.length,r=l._convertTicksToLabels(a?Yt(s,c):s),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=h.display&&(h.autoSkip||"auto"===h.source)?l._autoSkip(s):s,a&&(r=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=r,l.afterUpdate(),l.minSize},_configure:function(){var t,e,i=this,n=i.options.ticks.reverse;i.isHorizontal()?(t=i.left,e=i.right):(t=i.top,e=i.bottom,n=!n),i._startPixel=t,i._endPixel=e,i._reversePixels=n,i._length=e-t},afterUpdate:function(){Mi.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Mi.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){Mi.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Mi.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Mi.noop,afterDataLimits:function(){Mi.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Mi.callback(this.options.beforeBuildTicks,[this])},buildTicks:Mi.noop,afterBuildTicks:function(t){var e=this;return io(t)&&t.length?Mi.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=Mi.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){Mi.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){Mi.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Mi.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,i,n,o,r,s,a=this,l=a.options,h=l.ticks,c=a.getTicks().length,d=h.minRotation||0,u=h.maxRotation,f=d;!a._isVisible()||!h.display||d>=u||c<=1||!a.isHorizontal()?a.labelRotation=d:(e=(t=a._getLabelSizes()).widest.width,i=t.highest.height-t.highest.offset,n=Math.min(a.maxWidth,a.chart.width-e),e+6>(o=l.offset?a.maxWidth/c:n/(c-1))&&(o=n/(c-(l.offset?.5:1)),r=a.maxHeight-Zt(l.gridLines)-h.padding-Kt(l.scaleLabel),s=Math.sqrt(e*e+i*i),f=Mi.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/o,1)),Math.asin(Math.min(r/s,1))-Math.asin(i/s))),f=Math.max(d,Math.min(u,f))),a.labelRotation=f)},afterCalculateTickRotation:function(){Mi.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Mi.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=t.chart,n=t.options,o=n.ticks,r=n.scaleLabel,s=n.gridLines,a=t._isVisible(),l="bottom"===n.position,h=t.isHorizontal();if(h?e.width=t.maxWidth:a&&(e.width=Zt(s)+Kt(r)),h?a&&(e.height=Zt(s)+Kt(r)):e.height=t.maxHeight,o.display&&a){var c=Xt(o),d=t._getLabelSizes(),u=d.first,f=d.last,p=d.widest,g=d.highest,m=.4*c.minor.lineHeight,_=o.padding;if(h){var v=0!==t.labelRotation,y=Mi.toRadians(t.labelRotation),b=Math.cos(y),x=Math.sin(y),w=x*p.width+b*(g.height-(v?g.offset:0))+(v?0:m);e.height=Math.min(t.maxHeight,e.height+w+_);var k,C,T=t.getPixelForTick(0)-t.left,M=t.right-t.getPixelForTick(t.getTicks().length-1);v?(k=l?b*u.width+x*u.offset:x*(u.height-u.offset),C=l?x*(f.height-f.offset):b*f.width+x*f.offset):(k=u.width/2,C=f.width/2),t.paddingLeft=Math.max((k-T)*t.width/(t.width-T),0)+3,t.paddingRight=Math.max((C-M)*t.width/(t.width-M),0)+3}else{var S=o.mirror?0:p.width+_+m;e.width=Math.min(t.maxWidth,e.width+S),t.paddingTop=u.height/2,t.paddingBottom=f.height/2}}t.handleMargins(),h?(t.width=t._length=i.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){Mi.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(no(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(t.x!==undefined)return this.getRightValue(t.x)}else if(t.y!==undefined)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,i,n,o=this;for(o.ticks=t.map(function(t){return t.value}),o.beforeTickToLabelConversion(),e=o.convertTicksToLabels(t)||o.ticks,o.afterTickToLabelConversion(),i=0,n=t.length;i<n;++i)t[i].label=e[i];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=Vt(t.ctx,Xt(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,i,n,o;return io(t)?(e=+this.getRightValue(t[0]),i=+this.getRightValue(t[1]),n=Math.min(e,i),o=Math.max(e,i)):(t=+this.getRightValue(t),e=undefined,i=t,n=t,o=t),{min:n,max:o,start:e,end:i}},_getScaleLabel:function(t){var e=this._parseValue(t);return e.start!==undefined?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:Mi.noop,getPixelForValue:Mi.noop,getValueForPixel:Mi.noop,getPixelForTick:function(t){var e=this,i=e.options.offset,n=e._ticks.length,o=1/Math.max(n-(i?0:1),1);return t<0||t>n-1?null:e.getPixelForDecimal(t*o+(i?o/2:0))},getPixelForDecimal:function(t){var e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e,i,n,o,r=this,s=r.options.ticks,a=r._length,l=s.maxTicksLimit||a/r._tickSize()+1,h=s.major.enabled?ee(t):[],c=h.length,d=h[0],u=h[c-1];if(c>l)return ie(t,h,c/l),Jt(t);if(n=te(h,t,a,l),c>0){for(e=0,i=c-1;e<i;e++)ne(t,n,h[e],h[e+1]);return o=c>1?(u-d)/(c-1):null,ne(t,n,Mi.isNullOrUndef(o)?0:d-o,d),ne(t,n,u,Mi.isNullOrUndef(o)?t.length:u+o),Jt(t)}return ne(t,n),Jt(t)},_tickSize:function(){var t=this,e=t.options.ticks,i=Mi.toRadians(t.labelRotation),n=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),r=t._getLabelSizes(),s=e.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return t.isHorizontal()?l*n>a*o?a/n:l/o:l*o<a*n?l/n:a/o},_isVisible:function(){var t,e,i,n=this,o=n.chart,r=n.options.display;if("auto"!==r)return!!r;for(t=0,e=o.data.datasets.length;t<e;++t)if(o.isDatasetVisible(t)&&((i=o.getDatasetMeta(t)).xAxisID===n.id||i.yAxisID===n.id))return!0;return!1},_computeGridLineItems:function(t){var e,i,n,o,r,s,a,l,h,c,d,u,f,p,g,m,_,v=this,y=v.chart,b=v.options,x=b.gridLines,w=b.position,k=x.offsetGridLines,C=v.isHorizontal(),T=v._ticksToDraw,M=T.length+(k?1:0),S=Zt(x),D=[],j=x.drawBorder?ro(x.lineWidth,0,0):0,A=j/2,P=Mi._alignPixel,E=function(t){return P(y,t,j)};for("top"===w?(e=E(v.bottom),a=v.bottom-S,h=e-A,d=E(t.top)+A,f=t.bottom):"bottom"===w?(e=E(v.top),d=t.top,f=E(t.bottom)-A,a=e+A,h=v.top+S):"left"===w?(e=E(v.right),s=v.right-S,l=e-A,c=E(t.left)+A,u=t.right):(e=E(v.left),c=t.left,u=E(t.right)-A,s=e+A,l=v.left+S),i=0;i<M;++i)n=T[i]||{},no(n.label)&&i<T.length||(i===v.zeroLineIndex&&b.offset===k?(p=x.zeroLineWidth,g=x.zeroLineColor,m=x.zeroLineBorderDash||[],_=x.zeroLineBorderDashOffset||0):(p=ro(x.lineWidth,i,1),g=ro(x.color,i,"rgba(0,0,0,0.1)"),m=x.borderDash||[],_=x.borderDashOffset||0),(o=qt(v,n._index||i,k))!==undefined&&(r=P(y,o,p),C?s=l=c=u=r:a=h=d=f=r,D.push({tx1:s,ty1:a,tx2:l,ty2:h,x1:c,y1:d,x2:u,y2:f,width:p,color:g,borderDash:m,borderDashOffset:_})));return D.ticksLength=M,D.borderValue=e,D},_computeLabelItems:function(){var t,e,i,n,o,r,s,a,l,h,c,d,u=this,f=u.options,p=f.ticks,g=f.position,m=p.mirror,_=u.isHorizontal(),v=u._ticksToDraw,y=Xt(p),b=p.padding,x=Zt(f.gridLines),w=-Mi.toRadians(u.labelRotation),k=[];for("top"===g?(r=u.bottom-x-b,s=w?"left":"center"):"bottom"===g?(r=u.top+x+b,s=w?"right":"center"):"left"===g?(o=u.right-(m?0:x)-b,s=m?"left":"right"):(o=u.left+(m?0:x)+b,s=m?"right":"left"),t=0,e=v.length;t<e;++t)n=(i=v[t]).label,no(n)||(a=u.getPixelForTick(i._index||t)+p.labelOffset,h=(l=i.major?y.major:y.minor).lineHeight,c=io(n)?n.length:1,_?(o=a,d="top"===g?((w?1:.5)-c)*h:(w?0:.5)*h):(r=a,d=(1-c)*h/2),k.push({x:o,y:r,rotation:w,label:n,font:l,textOffset:d,textAlign:s}));return k},_drawGrid:function(t){var e=this,i=e.options.gridLines;if(i.display){var n,o,r,s,a,l=e.ctx,h=e.chart,c=Mi._alignPixel,d=i.drawBorder?ro(i.lineWidth,0,0):0,u=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(r=0,s=u.length;r<s;++r)n=(a=u[r]).width,o=a.color,n&&o&&(l.save(),l.lineWidth=n,l.strokeStyle=o,l.setLineDash&&(l.setLineDash(a.borderDash),l.lineDashOffset=a.borderDashOffset),l.beginPath(),i.drawTicks&&(l.moveTo(a.tx1,a.ty1),l.lineTo(a.tx2,a.ty2)),i.drawOnChartArea&&(l.moveTo(a.x1,a.y1),l.lineTo(a.x2,a.y2)),l.stroke(),l.restore());if(d){var f,p,g,m,_=d,v=ro(i.lineWidth,u.ticksLength-1,1),y=u.borderValue;e.isHorizontal()?(f=c(h,e.left,_)-_/2,p=c(h,e.right,v)+v/2,g=m=y):(g=c(h,e.top,_)-_/2,m=c(h,e.bottom,v)+v/2,f=p=y),l.lineWidth=d,l.strokeStyle=ro(i.color,0),l.beginPath(),l.moveTo(f,g),l.lineTo(p,m),l.stroke()}}},_drawLabels:function(){var t=this;if(t.options.ticks.display){var e,i,n,o,r,s,a,l,h=t.ctx,c=t._labelItems||(t._labelItems=t._computeLabelItems());for(e=0,n=c.length;e<n;++e){if(s=(r=c[e]).font,h.save(),h.translate(r.x,r.y),h.rotate(r.rotation),h.font=s.string,h.fillStyle=s.color,h.textBaseline="middle",h.textAlign=r.textAlign,a=r.label,l=r.textOffset,io(a))for(i=0,o=a.length;i<o;++i)h.fillText(""+a[i],0,l),l+=s.lineHeight;else h.fillText(a,0,l);h.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,i=t.options,n=i.scaleLabel;if(n.display){var o,r,s=oo(n.fontColor,yi.global.defaultFontColor),a=Mi.options._parseFont(n),l=Mi.options.toPadding(n.padding),h=a.lineHeight/2,c=i.position,d=0;if(t.isHorizontal())o=t.left+t.width/2,r="bottom"===c?t.bottom-h-l.bottom:t.top+h+l.top;else{var u="left"===c;o=u?t.left+h+l.top:t.right-h-l.top,r=t.top+t.height/2,d=u?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(o,r),e.rotate(d),e.textAlign="center",e.textBaseline="middle",e.fillStyle=s,e.font=a.string,e.fillText(n.labelString,0,0),e.restore()}},draw:function(t){var e=this;e._isVisible()&&(e._drawGrid(t),e._drawTitle(),e._drawLabels())},_layers:function(){var t=this,e=t.options,i=e.ticks&&e.ticks.z||0,n=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==n&&t.draw===t._draw?[{z:n,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:i,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:i,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,i=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter(function(n){return(!t||n.type===t)&&(i?n.xAxisID===e.id:n.yAxisID===e.id)})}});so.prototype._draw=so.prototype.draw;var ao=so,lo=Mi.isNullOrUndef,ho={position:"bottom"},co=ao.extend({determineDataLimits:function(){var t,e=this,i=e._getLabels(),n=e.options.ticks,o=n.min,r=n.max,s=0,a=i.length-1;o!==undefined&&(t=i.indexOf(o))>=0&&(s=t),r!==undefined&&(t=i.indexOf(r))>=0&&(a=t),e.minIndex=s,e.maxIndex=a,e.min=i[s],e.max=i[a]},buildTicks:function(){var t=this,e=t._getLabels(),i=t.minIndex,n=t.maxIndex;t.ticks=0===i&&n===e.length-1?e:e.slice(i,n+1)},getLabelForIndex:function(t,e){var i=this,n=i.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===i.id?i.getRightValue(n.data.datasets[e].data[t]):i._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,i=t.ticks;ao.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),i&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(i.length-(e?0:1),1))},getPixelForValue:function(t,e,i){var n,o,r,s=this;return lo(e)||lo(i)||(t=s.chart.data.datasets[i].data[e]),lo(t)||(n=s.isHorizontal()?t.x:t.y),(n!==undefined||t!==undefined&&isNaN(e))&&(o=s._getLabels(),t=Mi.valueOrDefault(n,t),e=-1!==(r=o.indexOf(t))?r:e,isNaN(e)&&(e=t)),s.getPixelForDecimal((e-s._startValue)/s._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=this,i=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(i,0),e.ticks.length-1)},getBasePixel:function(){return this.bottom}}),uo=ho;co._defaults=uo;var fo=Mi.noop,po=Mi.isNullOrUndef,go=ao.extend({getRightValue:function(t){return"string"==typeof t?+t:ao.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var i=Mi.sign(t.min),n=Mi.sign(t.max);i<0&&n<0?t.max=0:i>0&&n>0&&(t.min=0)}var o=e.min!==undefined||e.suggestedMin!==undefined,r=e.max!==undefined||e.suggestedMax!==undefined;e.min!==undefined?t.min=e.min:e.suggestedMin!==undefined&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),e.max!==undefined?t.max=e.max:e.suggestedMax!==undefined&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),o!==r&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this,i=e.options.ticks,n=i.stepSize,o=i.maxTicksLimit;return n?t=Math.ceil(e.max/n)-Math.floor(e.min/n)+1:(t=e._computeTickLimit(),o=o||11),o&&(t=Math.min(o,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:fo,buildTicks:function(){var t=this,e=t.options.ticks,i=t.getTickLimit(),n={maxTicks:i=Math.max(2,i),min:e.min,max:e.max,precision:e.precision,stepSize:Mi.valueOrDefault(e.fixedStepSize,e.stepSize)},o=t.ticks=oe(n,t);t.handleDirectionalChanges(),t.max=Mi.max(o),t.min=Mi.min(o),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),ao.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,i=e.getTicks(),n=e.min,o=e.max;ao.prototype._configure.call(e),e.options.offset&&i.length&&(n-=t=(o-n)/Math.max(i.length-1,1)/2,o+=t),e._startValue=n,e._endValue=o,e._valueRange=o-n}}),mo={position:"left",ticks:{callback:eo.formatters.linear}},_o=0,vo=1,yo=go.extend({determineDataLimits:function(){var t,e,i,n,o=this,r=o.options,s=o.chart.data.datasets,a=o._getMatchingVisibleMetas(),l=r.stacked,h={},c=a.length;if(o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,l===undefined)for(t=0;!l&&t<c;++t)l=(e=a[t]).stack!==undefined;for(t=0;t<c;++t)i=s[(e=a[t]).index].data,l?se(o,h,e,i):ae(o,e,i);Mi.each(h,function(t){n=t.pos.concat(t.neg),o.min=Math.min(o.min,Mi.min(n)),o.max=Math.max(o.max,Mi.max(n))}),o.min=Mi.isFinite(o.min)&&!isNaN(o.min)?o.min:_o,o.max=Mi.isFinite(o.max)&&!isNaN(o.max)?o.max:vo,o.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=Mi.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this;return e.getPixelForDecimal((+e.getRightValue(t)-e._startValue)/e._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}}),bo=mo;yo._defaults=bo;var xo=Mi.valueOrDefault,wo=Mi.math.log10,ko={position:"left",ticks:{callback:eo.formatters.logarithmic}},Co=ao.extend({determineDataLimits:function(){function t(t){return d?t.xAxisID===a.id:t.yAxisID===a.id}var e,i,n,o,r,s,a=this,l=a.options,h=a.chart,c=h.data.datasets,d=a.isHorizontal();a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,a.minNotZero=Number.POSITIVE_INFINITY;var u=l.stacked;if(u===undefined)for(e=0;e<c.length;e++)if(i=h.getDatasetMeta(e),h.isDatasetVisible(e)&&t(i)&&i.stack!==undefined){u=!0;break}if(l.stacked||u){var f={};for(e=0;e<c.length;e++){var p=[(i=h.getDatasetMeta(e)).type,l.stacked===undefined&&i.stack===undefined?e:"",i.stack].join(".");if(h.isDatasetVisible(e)&&t(i))for(f[p]===undefined&&(f[p]=[]),r=0,s=(o=c[e].data).length;r<s;r++){var g=f[p];n=a._parseValue(o[r]),isNaN(n.min)||isNaN(n.max)||i.data[r].hidden||n.min<0||n.max<0||(g[r]=g[r]||0,g[r]+=n.max)}}Mi.each(f,function(t){if(t.length>0){var e=Mi.min(t),i=Mi.max(t);a.min=Math.min(a.min,e),a.max=Math.max(a.max,i)}})}else for(e=0;e<c.length;e++)if(i=h.getDatasetMeta(e),h.isDatasetVisible(e)&&t(i))for(r=0,s=(o=c[e].data).length;r<s;r++)n=a._parseValue(o[r]),isNaN(n.min)||isNaN(n.max)||i.data[r].hidden||n.min<0||n.max<0||(a.min=Math.min(n.min,a.min),a.max=Math.max(n.max,a.max),0!==n.min&&(a.minNotZero=Math.min(n.min,a.minNotZero)));a.min=Mi.isFinite(a.min)?a.min:null,a.max=Mi.isFinite(a.max)?a.max:null,a.minNotZero=Mi.isFinite(a.minNotZero)?a.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,i=1,n=10;t.min=he(e.min,t.min),t.max=he(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(wo(t.min))-1),t.max=Math.pow(10,Math.floor(wo(t.max))+1)):(t.min=i,t.max=n)),null===t.min&&(t.min=Math.pow(10,Math.floor(wo(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(wo(t.min))+1):n),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(wo(t.max))):t.minNotZero=i)},buildTicks:function(){var t=this,e=t.options.ticks,i=!t.isHorizontal(),n={min:he(e.min),max:he(e.max)},o=t.ticks=le(n,t);t.max=Mi.max(o),t.min=Mi.min(o),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&o.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),ao.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(wo(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,i=0;ao.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),i=xo(t.options.ticks.fontSize,yi.global.defaultFontSize)/t._length),t._startValue=wo(e),t._valueOffset=i,t._valueRange=(wo(t.max)-wo(e))/(1-i)},getPixelForValue:function(t){var e=this,i=0;return(t=+e.getRightValue(t))>e.min&&t>0&&(i=(wo(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(i)},getValueForPixel:function(t){var e=this,i=e.getDecimalForPixel(t);return 0===i&&0===e.min?0:Math.pow(10,e._startValue+(i-e._valueOffset)*e._valueRange)}}),To=ko;Co._defaults=To;var Mo=Mi.valueOrDefault,So=Mi.valueAtIndexOrDefault,Do=Mi.options.resolve,jo={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:eo.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},Ao=go.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=ce(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;Mi.each(e.data.datasets,function(o,r){if(e.isDatasetVisible(r)){var s=e.getDatasetMeta(r);Mi.each(o.data,function(e,o){var r=+t.getRightValue(e);isNaN(r)||s.data[o].hidden||(i=Math.min(r,i),n=Math.max(r,n))})}}),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=n===Number.NEGATIVE_INFINITY?0:n,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/ce(this.options))},convertTicksToLabels:function(){var t=this;go.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(function(){var e=Mi.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""})},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?fe(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,i){var n=this,o=e.l/Math.sin(i.l),r=Math.max(e.r-n.width,0)/Math.sin(i.r),s=-e.t/Math.cos(i.t),a=-Math.max(e.b-(n.height-n.paddingTop),0)/Math.cos(i.b);o=ye(o),r=ye(r),s=ye(s),a=ye(a),n.drawingArea=Math.min(Math.floor(t-(o+r)/2),Math.floor(t-(s+a)/2)),n.setCenterPoint(o,r,s,a)},setCenterPoint:function(t,e,i,n){var o=this,r=o.width-e-o.drawingArea,s=t+o.drawingArea,a=i+o.drawingArea,l=o.height-o.paddingTop-n-o.drawingArea;o.xCenter=Math.floor((s+r)/2+o.left),o.yCenter=Math.floor((a+l)/2+o.top+o.paddingTop)},getIndexAngle:function(t){var e=this.chart,i=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(i<0?i+360:i)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(Mi.isNullOrUndef(t))return NaN;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this,n=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+i.xCenter,y:Math.sin(n)*e+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this,i=e.min,n=e.max;return e.getPointPositionForValue(t||0,e.beginAtZero?0:i<0&&n<0?n:i>0&&n>0?i:0)},_drawGrid:function(){var t,e,i,n=this,o=n.ctx,r=n.options,s=r.gridLines,a=r.angleLines,l=Mo(a.lineWidth,s.lineWidth),h=Mo(a.color,s.color);if(r.pointLabels.display&&_e(n),s.display&&Mi.each(n.ticks,function(t,i){0!==i&&(e=n.getDistanceFromCenterForValue(n.ticksAsNumbers[i]),ve(n,s,e,i))}),a.display&&l&&h){for(o.save(),o.lineWidth=l,o.strokeStyle=h,o.setLineDash&&(o.setLineDash(Do([a.borderDash,s.borderDash,[]])),o.lineDashOffset=Do([a.borderDashOffset,s.borderDashOffset,0])),t=n.chart.data.labels.length-1;t>=0;t--)e=n.getDistanceFromCenterForValue(r.ticks.reverse?n.min:n.max),i=n.getPointPosition(t,e),o.beginPath(),o.moveTo(n.xCenter,n.yCenter),o.lineTo(i.x,i.y),o.stroke();o.restore()}},_drawLabels:function(){var t=this,e=t.ctx,i=t.options.ticks;if(i.display){var n,o,r=t.getIndexAngle(0),s=Mi.options._parseFont(i),a=Mo(i.fontColor,yi.global.defaultFontColor);e.save(),e.font=s.string,e.translate(t.xCenter,t.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",Mi.each(t.ticks,function(r,l){(0!==l||i.reverse)&&(n=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),i.showLabelBackdrop&&(o=e.measureText(r).width,e.fillStyle=i.backdropColor,e.fillRect(-o/2-i.backdropPaddingX,-n-s.size/2-i.backdropPaddingY,o+2*i.backdropPaddingX,s.size+2*i.backdropPaddingY)),e.fillStyle=a,e.fillText(r,0,-n))}),e.restore()}},_drawTitle:Mi.noop}),Po=jo;Ao._defaults=Po;var Eo=Mi._deprecated,Io=Mi.options.resolve,Lo=Mi.valueOrDefault,Oo=Number.MIN_SAFE_INTEGER||-9007199254740991,zo=Number.MAX_SAFE_INTEGER||9007199254740991,No={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fo=Object.keys(No),Ro={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Ho=ao.extend({initialize:function(){this.mergeTicksOptions(),ao.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,i=e.time||(e.time={}),n=t._adapter=new to._date(e.adapters.date);return Eo("time scale",i.format,"time.format","time.parser"),Eo("time scale",i.min,"time.min","ticks.min"),Eo("time scale",i.max,"time.max","ticks.max"),Mi.mergeIf(i.displayFormats,n.formats()),ao.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&t.t!==undefined&&(t=t.t),ao.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,o,r,s,a=this,l=a.chart,h=a._adapter,c=a.options,d=c.time.unit||"day",u=zo,f=Oo,p=[],g=[],m=[],_=a._getLabels();for(t=0,i=_.length;t<i;++t)m.push(De(a,_[t]));for(t=0,i=(l.data.datasets||[]).length;t<i;++t)if(l.isDatasetVisible(t))if(o=l.data.datasets[t].data,Mi.isObject(o[0]))for(g[t]=[],e=0,n=o.length;e<n;++e)r=De(a,o[e]),p.push(r),g[t][e]=r;else g[t]=m.slice(0),s||(p=p.concat(m),s=!0);else g[t]=[];m.length&&(u=Math.min(u,m[0]),f=Math.max(f,m[m.length-1])),p.length&&(p=i>1?xe(p).sort(be):p.sort(be),u=Math.min(u,p[0]),f=Math.max(f,p[p.length-1])),u=De(a,we(c))||u,f=De(a,ke(c))||f,u=u===zo?+h.startOf(Date.now(),d):u,f=f===Oo?+h.endOf(Date.now(),d)+1:f,a.min=Math.min(u,f),a.max=Math.max(u+1,f),a._table=[],a._timestamps={data:p,datasets:g,labels:m}},buildTicks:function(){var t,e,i,n=this,o=n.min,r=n.max,s=n.options,a=s.ticks,l=s.time,h=n._timestamps,c=[],d=n.getLabelCapacity(o),u=a.source,f=s.distribution;for(h="data"===u||"auto"===u&&"series"===f?h.data:"labels"===u?h.labels:Ee(n,o,r,d),"ticks"===s.bounds&&h.length&&(o=h[0],r=h[h.length-1]),o=De(n,we(s))||o,r=De(n,ke(s))||r,t=0,e=h.length;t<e;++t)(i=h[t])>=o&&i<=r&&c.push(i);return n.min=o,n.max=r,n._unit=l.unit||(a.autoSkip?je(l.minUnit,n.min,n.max,d):Ae(n,c.length,l.minUnit,n.min,n.max)),n._majorUnit=a.major.enabled&&"year"!==n._unit?Pe(n._unit):undefined,n._table=Ce(n._timestamps.data,o,r,f),n._offsets=Ie(n._table,c,o,r,s),a.reverse&&c.reverse(),Oe(n,c,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i._adapter,o=i.chart.data,r=i.options.time,s=o.labels&&t<o.labels.length?o.labels[t]:"",a=o.datasets[e].data[t];return Mi.isObject(a)&&(s=i.getRightValue(a)),r.tooltipFormat?n.format(Se(i,s),r.tooltipFormat):"string"==typeof s?s:n.format(Se(i,s),r.displayFormats.datetime)},tickFormatFunction:function(t,e,i,n){var o=this,r=o._adapter,s=o.options,a=s.time.displayFormats,l=a[o._unit],h=o._majorUnit,c=a[h],d=i[e],u=s.ticks,f=h&&c&&d&&d.major,p=r.format(t,n||(f?c:l)),g=f?u.major:u.minor,m=Io([g.callback,g.userCallback,u.callback,u.userCallback]);return m?m(p,e,i):p},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(t[e].value,e,t));return n},getPixelForOffset:function(t){var e=this,i=e._offsets,n=Me(e._table,"time",t,"pos");return e.getPixelForDecimal((i.start+n)*i.factor)},getPixelForValue:function(t,e,i){var n=this,o=null;if(e!==undefined&&i!==undefined&&(o=n._timestamps.datasets[i][e]),null===o&&(o=De(n,t)),null!==o)return n.getPixelForOffset(o)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._offsets,n=e.getDecimalForPixel(t)/i.factor-i.end,o=Me(e._table,"pos",n,"time");return e._adapter._create(o)},_getLabelSize:function(t){var e=this,i=e.options.ticks,n=e.ctx.measureText(t).width,o=Mi.toRadians(e.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(o),s=Math.sin(o),a=Lo(i.fontSize,yi.global.defaultFontSize);return{w:n*r+a*s,h:n*s+a*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,i=e.options.time,n=i.displayFormats,o=n[i.unit]||n.millisecond,r=e.tickFormatFunction(t,0,Oe(e,[t],e._majorUnit),o),s=e._getLabelSize(r),a=Math.floor(e.isHorizontal()?e.width/s.w:e.height/s.h);return e.options.offset&&a--,a>0?a:1}}),Bo=Ro;Ho._defaults=Bo;var Wo={category:co,linear:yo,logarithmic:Co,radialLinear:Ao,time:Ho},$o=e(function(e){var i;i=function(){function i(){return In.apply(null,arguments)}function n(t){In=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function a(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){
return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)d(e,i)&&(t[i]=e[i]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,i,n){return Se(t,e,i,n,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=p()),t._pf}function m(t){if(null==t._isValid){var e=g(t),i=Ln.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&e.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function _(t){var e=f(NaN);return null!=t?u(g(e),t):g(e).userInvalidated=!0,e}function v(t,e){var i,n,o;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=g(e)),a(e._locale)||(t._locale=e._locale),zn.length>0)for(i=0;i<zn.length;i++)a(o=e[n=zn[i]])||(t[n]=o);return t}function y(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Nn&&(Nn=!0,i.updateOffset(this),Nn=!1)}function b(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=x(e)),i}function k(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&w(t[n])!==w(e[n]))&&s++;return s+r}function C(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var n=!0;return u(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var o,r=[],s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){for(var a in o+="\n["+s+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];r.push(o)}C(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}function M(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),Fn[t]||(C(e),Fn[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,i;for(i in t)S(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j(t,e){var i,n=u({},t);for(i in e)d(e,i)&&(r(t[i])&&r(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)d(t,i)&&!d(e,i)&&r(t[i])&&(n[i]=u({},n[i]));return n}function A(t){null!=t&&this.set(t)}function P(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return S(n)?n.call(e,i):n}function E(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function I(){return this._invalidDate}function L(t){return this._ordinal.replace("%d",t)}function O(t,e,i,n){var o=this._relativeTime[i];return S(o)?o(t,e,i,n):o.replace(/%d/i,t)}function z(t,e){var i=this._relativeTime[t>0?"future":"past"];return S(i)?i(e):i.replace(/%s/i,e)}function N(t,e){var i=t.toLowerCase();qn[i]=qn[i+"s"]=qn[e]=t}function F(t){return"string"==typeof t?qn[t]||qn[t.toLowerCase()]:undefined}function R(t){var e,i,n={};for(i in t)d(t,i)&&(e=F(i))&&(n[e]=t[i]);return n}function H(t,e){Un[t]=e}function B(t){var e=[];for(var i in t)e.push({unit:i,priority:Un[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function W(t,e,i){var n=""+Math.abs(t),o=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function $(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(Gn[t]=o),e&&(Gn[e[0]]=function(){return W(o.apply(this,arguments),e[1],e[2])}),i&&(Gn[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,i,n=t.match(Vn);for(e=0,i=n.length;e<i;e++)Gn[n[e]]?n[e]=Gn[n[e]]:n[e]=Y(n[e]);return function(e){var o,r="";for(o=0;o<i;o++)r+=S(n[o])?n[o].call(e,t):n[o];return r}}function U(t,e){return t.isValid()?(e=V(e,t.localeData()),Kn[e]=Kn[e]||q(e),Kn[e](t)):t.localeData().invalidDate()}function V(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Zn.lastIndex=0;n>=0&&Zn.test(t);)t=t.replace(Zn,i),Zn.lastIndex=0,n-=1;return t}function Z(t,e,i){go[t]=S(e)?e:function(t){return t&&i?i:e}}function K(t,e){return d(go,t)?go[t](e._strict,e._locale):new RegExp(G(t))}function G(t){return X(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),l(e)&&(n=function(t,i){i[e]=w(t)}),i=0;i<t.length;i++)mo[t[i]]=n}function Q(t,e){J(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function tt(t,e,i){null!=e&&d(mo,t)&&mo[t](e,i._a,i,t)}function et(t){return it(t)?366:365}function it(t){return t%4==0&&t%100!=0||t%400==0}function nt(){return it(this.year())}function ot(t,e){return function(n){return null!=n?(st(this,t,n),i.updateOffset(this,e),this):rt(this,t)}}function rt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function st(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&it(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),ct(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function at(t){return S(this[t=F(t)])?this[t]():this}function lt(t,e){if("object"==typeof t)for(var i=B(t=R(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(S(this[t=F(t)]))return this[t](e);return this}function ht(t,e){return(t%e+e)%e}function ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=ht(e,12);return t+=(e-i)/12,1===i?it(t)?29:28:31-i%7%2}function dt(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Do).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone}function ut(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Do.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ft(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(o=Mo.call(this._shortMonthsParse,s))?o:null:-1!==(o=Mo.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Mo.call(this._shortMonthsParse,s))?o:-1!==(o=Mo.call(this._longMonthsParse,s))?o:null:-1!==(o=Mo.call(this._longMonthsParse,s))?o:-1!==(o=Mo.call(this._shortMonthsParse,s))?o:null}function pt(t,e,i){var n,o,r;if(this._monthsParseExact)return ft.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=f([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function gt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function mt(t){return null!=t?(gt(this,t),i.updateOffset(this,!0),this):rt(this,"Month")}function _t(){return ct(this.year(),this.month())}function vt(t){return this._monthsParseExact?(d(this,"_monthsRegex")||bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Po),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function yt(t){return this._monthsParseExact?(d(this,"_monthsRegex")||bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Eo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function bt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],r=[];for(e=0;e<12;e++)i=f([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)n[e]=X(n[e]),o[e]=X(o[e]);for(e=0;e<24;e++)r[e]=X(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function xt(t,e,i,n,o,r,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,o,r,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,o,r,s),a}function wt(t){var e;if(t<100&&t>=0){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function kt(t,e,i){var n=7+e-i;return-((7+wt(t,0,n).getUTCDay()-e)%7)+n-1}function Ct(t,e,i,n,o){var r,s,a=1+7*(e-1)+(7+i-n)%7+kt(t,n,o);return a<=0?s=et(r=t-1)+a:a>et(t)?(r=t+1,s=a-et(t)):(r=t,s=a),{year:r,dayOfYear:s}}function Tt(t,e,i){var n,o,r=kt(t.year(),e,i),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?n=s+Mt(o=t.year()-1,e,i):s>Mt(t.year(),e,i)?(n=s-Mt(t.year(),e,i),o=t.year()+1):(o=t.year(),n=s),{week:n,year:o}}function Mt(t,e,i){var n=kt(t,e,i),o=kt(t+1,e,i);return(et(t)-n+o)/7}function St(t){return Tt(t,this._week.dow,this._week.doy).week}function Dt(){return this._week.dow}function jt(){return this._week.doy}function At(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Pt(t){var e=Tt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Et(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function It(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Lt(t,e){return t.slice(e,7).concat(t.slice(0,e))}function Ot(t,e){var i=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Lt(i,this._week.dow):t?i[t.day()]:i}function zt(t){return!0===t?Lt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Nt(t){return!0===t?Lt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ft(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(o=Mo.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Mo.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Mo.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Mo.call(this._weekdaysParse,s))?o:-1!==(o=Mo.call(this._shortWeekdaysParse,s))?o:-1!==(o=Mo.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Mo.call(this._shortWeekdaysParse,s))?o:-1!==(o=Mo.call(this._weekdaysParse,s))?o:-1!==(o=Mo.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Mo.call(this._minWeekdaysParse,s))?o:-1!==(o=Mo.call(this._weekdaysParse,s))?o:-1!==(o=Mo.call(this._shortWeekdaysParse,s))?o:null}function Rt(t,e,i){var n,o,r;if(this._weekdaysParseExact)return Ft.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=f([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function Ht(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Et(t,this.localeData()),this.add(t-e,"d")):e}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Wt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=It(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function $t(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=No),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fo),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qt(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ro),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ut(){function t(t,e){return e.length-t.length}var e,i,n,o,r,s=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=f([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),s.push(n),a.push(o),l.push(r),h.push(n),h.push(o),h.push(r);for(s.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=X(a[e]),l[e]=X(l[e]),h[e]=X(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Vt(){return this.hours()%12||12}function Zt(){return this.hours()||24}function Kt(t,e){$(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Gt(t,e){return e._meridiemParse}function Xt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Jt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function te(t){for(var e,i,n,o,r=0;r<t.length;){for(e=(o=Qt(t[r]).split("-")).length,i=(i=Qt(t[r+1]))?i.split("-"):null;e>0;){if(n=ee(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&k(o,i,!0)>=e-1)break;e--}r++}return Ho}function ee(i){var n=null;if(!Yo[i]&&e&&e.exports)try{n=Ho._abbr,t("./locale/"+i),ie(n)}catch(o){}return Yo[i]}function ie(t,e){var i;return t&&((i=a(e)?re(t):ne(t,e))?Ho=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ho._abbr}function ne(t,e){if(null!==e){var i,n=$o;if(e.abbr=t,null!=Yo[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Yo[t]._config;else if(null!=e.parentLocale)if(null!=Yo[e.parentLocale])n=Yo[e.parentLocale]._config;else{if(null==(i=ee(e.parentLocale)))return qo[e.parentLocale]||(qo[e.parentLocale]=[]),qo[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Yo[t]=new A(j(n,e)),qo[t]&&qo[t].forEach(function(t){ne(t.name,t.config)}),ie(t),Yo[t]}return delete Yo[t],null}function oe(t,e){if(null!=e){var i,n,o=$o;null!=(n=ee(t))&&(o=n._config),(i=new A(e=j(o,e))).parentLocale=Yo[t],Yo[t]=i,ie(t)}else null!=Yo[t]&&(null!=Yo[t].parentLocale?Yo[t]=Yo[t].parentLocale:null!=Yo[t]&&delete Yo[t]);return Yo[t]}function re(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ho;if(!o(t)){if(e=ee(t))return e;t=[t]}return te(t)}function se(){return On(Yo)}function ae(t){var e,i=t._a;return i&&-2===g(t).overflow&&(e=i[vo]<0||i[vo]>11?vo:i[yo]<1||i[yo]>ct(i[_o],i[vo])?yo:i[bo]<0||i[bo]>24||24===i[bo]&&(0!==i[xo]||0!==i[wo]||0!==i[ko])?bo:i[xo]<0||i[xo]>59?xo:i[wo]<0||i[wo]>59?wo:i[ko]<0||i[ko]>999?ko:-1,g(t)._overflowDayOfYear&&(e<_o||e>yo)&&(e=yo),g(t)._overflowWeeks&&-1===e&&(e=Co),g(t)._overflowWeekday&&-1===e&&(e=To),g(t).overflow=e),t}function le(t,e,i){return null!=t?t:null!=e?e:i}function he(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ce(t){var e,i,n,o,r,s=[];if(!t._d){for(n=he(t),t._w&&null==t._a[yo]&&null==t._a[vo]&&de(t),null!=t._dayOfYear&&(r=le(t._a[_o],n[_o]),(t._dayOfYear>et(r)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),i=wt(r,0,t._dayOfYear),t._a[vo]=i.getUTCMonth(),t._a[yo]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bo]&&0===t._a[xo]&&0===t._a[wo]&&0===t._a[ko]&&(t._nextDay=!0,t._a[bo]=0),t._d=(t._useUTC?wt:xt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bo]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==o&&(g(t).weekdayMismatch=!0)}}function de(t){var e,i,n,o,r,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,s=4,i=le(e.GG,t._a[_o],Tt(De(),1,4).year),n=le(e.W,1),((o=le(e.E,1))<1||o>7)&&(l=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;var h=Tt(De(),r,s);i=le(e.gg,t._a[_o],h.year),n=le(e.w,h.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}n<1||n>Mt(i,r,s)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(a=Ct(i,n,o,r,s),t._a[_o]=a.year,t._dayOfYear=a.dayOfYear)}function ue(t){var e,i,n,o,r,s,a=t._i,l=Uo.exec(a)||Vo.exec(a);if(l){for(g(t).iso=!0,e=0,i=Ko.length;e<i;e++)if(Ko[e][1].exec(l[1])){o=Ko[e][0],n=!1!==Ko[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=Go.length;e<i;e++)if(Go[e][1].exec(l[3])){r=(l[2]||" ")+Go[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Zo.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(r||"")+(s||""),be(t)}else t._isValid=!1}function fe(t,e,i,n,o,r){var s=[pe(t),Ao.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&s.push(parseInt(r,10)),s}function pe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ge(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function me(t,e,i){if(t&&Oo.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return g(i).weekdayMismatch=!0,i._isValid=!1,!1;return!0}function _e(t,e,i){if(t)return Qo[t];if(e)return 0;var n=parseInt(i,10),o=n%100;return 60*((n-o)/100)+o}function ve(t){var e=Jo.exec(ge(t._i));if(e){var i=fe(e[4],e[3],e[2],e[5],e[6],e[7]);if(!me(e[1],i,t))return;t._a=i,t._tzm=_e(e[8],e[9],e[10]),t._d=wt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function ye(t){var e=Xo.exec(t._i);null===e?(ue(t),!1===t._isValid&&(delete t._isValid,ve(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}function be(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],g(t).empty=!0;var e,n,o,r,s,a=""+t._i,l=a.length,h=0;for(o=V(t._f,t._locale).match(Vn)||[],e=0;e<o.length;e++)r=o[e],(n=(a.match(K(r,t))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&g(t).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),h+=n.length),Gn[r]?(n?g(t).empty=!1:g(t).unusedTokens.push(r),tt(r,n,t)):t._strict&&!n&&g(t).unusedTokens.push(r);g(t).charsLeftOver=l-h,a.length>0&&g(t).unusedInput.push(a),t._a[bo]<=12&&!0===g(t).bigHour&&t._a[bo]>0&&(g(t).bigHour=undefined),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[bo]=xe(t._locale,t._a[bo],t._meridiem),ce(t),ae(t)}else ve(t);else ue(t)}function xe(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function we(t){var e,i,n,o,r;if(0===t._f.length)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],be(e),m(e)&&(r+=g(e).charsLeftOver,r+=10*g(e).unusedTokens.length,g(e).score=r,(null==n||r<n)&&(n=r,i=e));u(t,i||e)}function ke(t){if(!t._d){var e=R(t._i);t._a=c([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ce(t)}}function Ce(t){var e=new y(ae(Te(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=undefined),e}function Te(t){var e=t._i,i=t._f;return t._locale=t._locale||re(t._l),null===e||i===undefined&&""===e?_({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),b(e)?new y(ae(e)):(h(e)?t._d=e:o(i)?we(t):i?be(t):Me(t),m(t)||(t._d=null),t))}function Me(t){var e=t._i;a(e)?t._d=new Date(i.now()):h(e)?t._d=new Date(e.valueOf()):"string"==typeof e?ye(t):o(e)?(t._a=c(e.slice(0),function(t){return parseInt(t,10)}),ce(t)):r(e)?ke(t):l(e)?t._d=new Date(e):i.createFromInputFallback(t)}function Se(t,e,i,n,a){var l={};return!0!==i&&!1!==i||(n=i,i=undefined),(r(t)&&s(t)||o(t)&&0===t.length)&&(t=undefined),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=i,l._i=t,l._f=e,l._strict=n,Ce(l)}function De(t,e,i,n){return Se(t,e,i,n,!1)}function je(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return De();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function Ae(){return je("isBefore",[].slice.call(arguments,0))}function Pe(){return je("isAfter",[].slice.call(arguments,0))}function Ee(t){for(var e in t)if(-1===Mo.call(nr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<nr.length;++n)if(t[nr[n]]){if(i)return!1;parseFloat(t[nr[n]])!==w(t[nr[n]])&&(i=!0)}return!0}function Ie(){return this._isValid}function Le(){return Qe(NaN)}function Oe(t){var e=R(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=Ee(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=re(),this._bubble()}function ze(t){return t instanceof Oe}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Fe(t,e){$(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+W(~~(t/60),2)+e+W(~~t%60,2)})}function Re(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(or)||["-",0,0],o=60*n[1]+w(n[2]);return 0===o?0:"+"===n[0]?o:-o}function He(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(b(t)||h(t)?t.valueOf():De(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),i.updateOffset(n,!1),n):De(t).local()}function Be(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function We(t,e,n){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Re(uo,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(o=Be(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?oi(this,Qe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Be(this)}function $e(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ye(t){return this.utcOffset(0,t)}function qe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Be(this),"m")),this}function Ue(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(co,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ve(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ke(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Te(t))._a){var e=t._isUTC?f(t._a):De(t._a);this._isDSTShifted=this.isValid()&&k(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!!this.isValid()&&!this._isUTC}function Xe(){return!!this.isValid()&&this._isUTC}function Je(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qe(t,e){var i,n,o,r=t,s=null;return ze(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(r={},e?r[e]=t:r.milliseconds=t):(s=rr.exec(t))?(i="-"===s[1]?-1:1,r={y:0,d:w(s[yo])*i,h:w(s[bo])*i,m:w(s[xo])*i,s:w(s[wo])*i,ms:w(Ne(1e3*s[ko]))*i}):(s=sr.exec(t))?(i="-"===s[1]?-1:1,r={y:ti(s[2],i),M:ti(s[3],i),w:ti(s[4],i),d:ti(s[5],i),h:ti(s[6],i),m:ti(s[7],i),s:ti(s[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=ii(De(r.from),De(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),n=new Oe(r),ze(t)&&d(t,"_locale")&&(n._locale=t._locale),n}function ti(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function ei(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function ii(t,e){var i;return t.isValid()&&e.isValid()?(e=He(e,t),t.isBefore(e)?i=ei(t,e):((i=ei(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ni(t,e){return function(i,n){var o;return null===n||isNaN(+n)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=n,n=o),oi(this,Qe(i="string"==typeof i?+i:i,n),t),this}}function oi(t,e,n,o){var r=e._milliseconds,s=Ne(e._days),a=Ne(e._months);t.isValid()&&(o=null==o||o,a&&gt(t,rt(t,"Month")+a*n),s&&st(t,"Date",rt(t,"Date")+s*n),r&&t._d.setTime(t._d.valueOf()+r*n),o&&i.updateOffset(t,s||a))}function ri(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function si(t,e){var n=t||De(),o=He(n,this).startOf("day"),r=i.calendarFormat(this,o)||"sameElse",s=e&&(S(e[r])?e[r].call(this,n):e[r]);return this.format(s||this.localeData().calendar(r,this,De(n)))}function ai(){return new y(this)}function li(t,e){var i=b(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function hi(t,e){var i=b(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function ci(t,e,i,n){var o=b(t)?t:De(t),r=b(e)?e:De(e);return!!(this.isValid()&&o.isValid()&&r.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,i):!this.isBefore(o,i))&&(")"===n[1]?this.isBefore(r,i):!this.isAfter(r,i)))}function di(t,e){var i,n=b(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function ui(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function fi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function pi(t,e,i){var n,o,r;if(!this.isValid())return NaN;if(!(n=He(t,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=F(e)){case"year":r=gi(this,n)/12;break;case"month":r=gi(this,n);break;case"quarter":r=gi(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:x(r)}function gi(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function mi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _i(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?U(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(i,"Z")):U(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function vi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]';return this.format(i+n+o+r)}function yi(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=U(this,t);return this.localeData().postformat(e)}function bi(t,e){return this.isValid()&&(b(t)&&t.isValid()||De(t).isValid())?Qe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xi(t){return this.from(De(),t)}function wi(t,e){return this.isValid()&&(b(t)&&t.isValid()||De(t).isValid())?Qe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ki(t){return this.to(De(),t)}function Ci(t){var e;return t===undefined?this._locale._abbr:(null!=(e=re(t))&&(this._locale=e),this)}function Ti(){return this._locale}function Mi(t,e){return(t%e+e)%e}function Si(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-fr:new Date(t,e,i).valueOf()}function Di(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-fr:Date.UTC(t,e,i)}function ji(t){var e;if((t=F(t))===undefined||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Di:Si;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Mi(e+(this._isUTC?0:this.utcOffset()*dr),ur);break;case"minute":e=this._d.valueOf(),e-=Mi(e,dr);break;case"second":e=this._d.valueOf(),e-=Mi(e,cr)}return this._d.setTime(e),i.updateOffset(this,!0),this}function Ai(t){var e;if((t=F(t))===undefined||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Di:Si;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ur-Mi(e+(this._isUTC?0:this.utcOffset()*dr),ur)-1;break;case"minute":
e=this._d.valueOf(),e+=dr-Mi(e,dr)-1;break;case"second":e=this._d.valueOf(),e+=cr-Mi(e,cr)-1}return this._d.setTime(e),i.updateOffset(this,!0),this}function Pi(){return this._d.valueOf()-6e4*(this._offset||0)}function Ei(){return Math.floor(this.valueOf()/1e3)}function Ii(){return new Date(this.valueOf())}function Li(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Oi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function zi(){return this.isValid()?this.toISOString():null}function Ni(){return m(this)}function Fi(){return u({},g(this))}function Ri(){return g(this).overflow}function Hi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Bi(t,e){$(0,[t,t.length],0,e)}function Wi(t){return Ui.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $i(t){return Ui.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Yi(){return Mt(this.year(),1,4)}function qi(){var t=this.localeData()._week;return Mt(this.year(),t.dow,t.doy)}function Ui(t,e,i,n,o){var r;return null==t?Tt(this,n,o).year:(e>(r=Mt(t,n,o))&&(e=r),Vi.call(this,t,e,i,n,o))}function Vi(t,e,i,n,o){var r=Ct(t,e,i,n,o),s=wt(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Zi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ki(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Gi(t,e){e[ko]=w(1e3*("0."+t))}function Xi(){return this._isUTC?"UTC":""}function Ji(){return this._isUTC?"Coordinated Universal Time":""}function Qi(t){return De(1e3*t)}function tn(){return De.apply(null,arguments).parseZone()}function en(t){return t}function nn(t,e,i,n){var o=re(),r=f().set(n,e);return o[i](r,t)}function on(t,e,i){if(l(t)&&(e=t,t=undefined),t=t||"",null!=e)return nn(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=nn(t,n,i,"month");return o}function rn(t,e,i,n){"boolean"==typeof t?(l(e)&&(i=e,e=undefined),e=e||""):(i=e=t,t=!1,l(e)&&(i=e,e=undefined),e=e||"");var o,r=re(),s=t?r._week.dow:0;if(null!=i)return nn(e,(i+s)%7,n,"day");var a=[];for(o=0;o<7;o++)a[o]=nn(e,(o+s)%7,n,"day");return a}function sn(t,e){return on(t,e,"months")}function an(t,e){return on(t,e,"monthsShort")}function ln(t,e,i){return rn(t,e,i,"weekdays")}function hn(t,e,i){return rn(t,e,i,"weekdaysShort")}function cn(t,e,i){return rn(t,e,i,"weekdaysMin")}function dn(){var t=this._data;return this._milliseconds=xr(this._milliseconds),this._days=xr(this._days),this._months=xr(this._months),t.milliseconds=xr(t.milliseconds),t.seconds=xr(t.seconds),t.minutes=xr(t.minutes),t.hours=xr(t.hours),t.months=xr(t.months),t.years=xr(t.years),this}function un(t,e,i,n){var o=Qe(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function fn(t,e){return un(this,t,e,1)}function pn(t,e){return un(this,t,e,-1)}function gn(t){return t<0?Math.floor(t):Math.ceil(t)}function mn(){var t,e,i,n,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*gn(vn(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=x(r/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,i=x(e/60),l.hours=i%24,a+=o=x(_n(s+=x(i/24))),s-=gn(vn(o)),n=x(a/12),a%=12,l.days=s,l.months=a,l.years=n,this}function _n(t){return 4800*t/146097}function vn(t){return 146097*t/4800}function yn(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=F(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+_n(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(vn(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function bn(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function xn(t){return function(){return this.as(t)}}function wn(){return Qe(this)}function kn(t){return t=F(t),this.isValid()?this[t+"s"]():NaN}function Cn(t){return function(){return this.isValid()?this._data[t]:NaN}}function Tn(){return x(this.days()/7)}function Mn(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function Sn(t,e,i){var n=Qe(t).abs(),o=Fr(n.as("s")),r=Fr(n.as("m")),s=Fr(n.as("h")),a=Fr(n.as("d")),l=Fr(n.as("M")),h=Fr(n.as("y")),c=o<=Rr.ss&&["s",o]||o<Rr.s&&["ss",o]||r<=1&&["m"]||r<Rr.m&&["mm",r]||s<=1&&["h"]||s<Rr.h&&["hh",s]||a<=1&&["d"]||a<Rr.d&&["dd",a]||l<=1&&["M"]||l<Rr.M&&["MM",l]||h<=1&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Mn.apply(null,c)}function Dn(t){return t===undefined?Fr:"function"==typeof t&&(Fr=t,!0)}function jn(t,e){return Rr[t]!==undefined&&(e===undefined?Rr[t]:(Rr[t]=e,"s"===t&&(Rr.ss=e-1),!0))}function An(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=Sn(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Pn(t){return(t>0)-(t<0)||+t}function En(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Hr(this._milliseconds)/1e3,n=Hr(this._days),o=Hr(this._months);e=x((t=x(i/60))/60),i%=60,t%=60;var r=x(o/12),s=o%=12,a=n,l=e,h=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var u=d<0?"-":"",f=Pn(this._months)!==Pn(d)?"-":"",p=Pn(this._days)!==Pn(d)?"-":"",g=Pn(this._milliseconds)!==Pn(d)?"-":"";return u+"P"+(r?f+r+"Y":"")+(s?f+s+"M":"")+(a?p+a+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var In,Ln;Ln=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var On,zn=i.momentProperties=[],Nn=!1,Fn={};i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,On=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)d(t,e)&&i.push(e);return i};var Rn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Hn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Bn="Invalid date",Wn="%d",$n=/\d{1,2}/,Yn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},qn={},Un={},Vn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Kn={},Gn={},Xn=/\d/,Jn=/\d\d/,Qn=/\d{3}/,to=/\d{4}/,eo=/[+-]?\d{6}/,io=/\d\d?/,no=/\d\d\d\d?/,oo=/\d\d\d\d\d\d?/,ro=/\d{1,3}/,so=/\d{1,4}/,ao=/[+-]?\d{1,6}/,lo=/\d+/,ho=/[+-]?\d+/,co=/Z|[+-]\d\d:?\d\d/gi,uo=/Z|[+-]\d\d(?::?\d\d)?/gi,fo=/[+-]?\d+(\.\d{1,3})?/,po=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,go={},mo={},_o=0,vo=1,yo=2,bo=3,xo=4,wo=5,ko=6,Co=7,To=8;$("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),N("year","y"),H("year",1),Z("Y",ho),Z("YY",io,Jn),Z("YYYY",so,to),Z("YYYYY",ao,eo),Z("YYYYYY",ao,eo),J(["YYYYY","YYYYYY"],_o),J("YYYY",function(t,e){e[_o]=2===t.length?i.parseTwoDigitYear(t):w(t)}),J("YY",function(t,e){e[_o]=i.parseTwoDigitYear(t)}),J("Y",function(t,e){e[_o]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var Mo,So=ot("FullYear",!0);Mo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),$("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),H("month",8),Z("M",io),Z("MM",io,Jn),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),J(["M","MM"],function(t,e){e[vo]=w(t)-1}),J(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[vo]=o:g(i).invalidMonth=t});var Do=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ao="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Po=po,Eo=po;$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),H("week",5),H("isoWeek",5),Z("w",io),Z("ww",io,Jn),Z("W",io),Z("WW",io,Jn),Q(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=w(t)});var Io={dow:0,doy:6};$("d",0,"do","day"),$("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),$("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),$("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),Z("d",io),Z("e",io),Z("E",io),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),Q(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:g(i).invalidWeekday=t}),Q(["d","e","E"],function(t,e,i,n){e[n]=w(t)});var Lo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Oo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),No=po,Fo=po,Ro=po;$("H",["HH",2],0,"hour"),$("h",["hh",2],0,Vt),$("k",["kk",2],0,Zt),$("hmm",0,0,function(){return""+Vt.apply(this)+W(this.minutes(),2)}),$("hmmss",0,0,function(){return""+Vt.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),N("hour","h"),H("hour",13),Z("a",Gt),Z("A",Gt),Z("H",io),Z("h",io),Z("k",io),Z("HH",io,Jn),Z("hh",io,Jn),Z("kk",io,Jn),Z("hmm",no),Z("hmmss",oo),Z("Hmm",no),Z("Hmmss",oo),J(["H","HH"],bo),J(["k","kk"],function(t,e){var i=w(t);e[bo]=24===i?0:i}),J(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),J(["h","hh"],function(t,e,i){e[bo]=w(t),g(i).bigHour=!0}),J("hmm",function(t,e,i){var n=t.length-2;e[bo]=w(t.substr(0,n)),e[xo]=w(t.substr(n)),g(i).bigHour=!0}),J("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[bo]=w(t.substr(0,n)),e[xo]=w(t.substr(n,2)),e[wo]=w(t.substr(o)),g(i).bigHour=!0}),J("Hmm",function(t,e){var i=t.length-2;e[bo]=w(t.substr(0,i)),e[xo]=w(t.substr(i))}),J("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[bo]=w(t.substr(0,i)),e[xo]=w(t.substr(i,2)),e[wo]=w(t.substr(n))});var Ho,Bo=/[ap]\.?m?\.?/i,Wo=ot("Hours",!0),$o={calendar:Rn,longDateFormat:Hn,invalidDate:Bn,ordinal:Wn,dayOfMonthOrdinalParse:$n,relativeTime:Yn,months:jo,monthsShort:Ao,week:Io,weekdays:Lo,weekdaysMin:zo,weekdaysShort:Oo,meridiemParse:Bo},Yo={},qo={},Uo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zo=/Z|[+-]\d\d(?::?\d\d)?/,Ko=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Go=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xo=/^\/?Date\((\-?\d+)/i,Jo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Qo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};i.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var tr=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()}),er=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}),ir=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Fe("Z",":"),Fe("ZZ",""),Z("Z",uo),Z("ZZ",uo),J(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Re(uo,t)});var or=/([\+\-]|\d\d)/gi;i.updateOffset=function(){};var rr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,sr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qe.fn=Oe.prototype,Qe.invalid=Le;var ar=ni(1,"add"),lr=ni(-1,"subtract");i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var hr=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===undefined?this.localeData():this.locale(t)}),cr=1e3,dr=60*cr,ur=60*dr,fr=3506328*ur;$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),Z("G",ho),Z("g",ho),Z("GG",io,Jn),Z("gg",io,Jn),Z("GGGG",so,to),Z("gggg",so,to),Z("GGGGG",ao,eo),Z("ggggg",ao,eo),Q(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=w(t)}),Q(["gg","GG"],function(t,e,n,o){e[o]=i.parseTwoDigitYear(t)}),$("Q",0,"Qo","quarter"),N("quarter","Q"),H("quarter",7),Z("Q",Xn),J("Q",function(t,e){e[vo]=3*(w(t)-1)}),$("D",["DD",2],"Do","date"),N("date","D"),H("date",9),Z("D",io),Z("DD",io,Jn),Z("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),J(["D","DD"],yo),J("Do",function(t,e){e[yo]=w(t.match(io)[0])});var pr=ot("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),H("dayOfYear",4),Z("DDD",ro),Z("DDDD",Qn),J(["DDD","DDDD"],function(t,e,i){i._dayOfYear=w(t)}),$("m",["mm",2],0,"minute"),N("minute","m"),H("minute",14),Z("m",io),Z("mm",io,Jn),J(["m","mm"],xo);var gr=ot("Minutes",!1);$("s",["ss",2],0,"second"),N("second","s"),H("second",15),Z("s",io),Z("ss",io,Jn),J(["s","ss"],wo);var mr,_r=ot("Seconds",!1);for($("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),H("millisecond",16),Z("S",ro,Xn),Z("SS",ro,Jn),Z("SSS",ro,Qn),mr="SSSS";mr.length<=9;mr+="S")Z(mr,lo);for(mr="S";mr.length<=9;mr+="S")J(mr,Gi);var vr=ot("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var yr=y.prototype;yr.add=ar,yr.calendar=si,yr.clone=ai,yr.diff=pi,yr.endOf=Ai,yr.format=yi,yr.from=bi,yr.fromNow=xi,yr.to=wi,yr.toNow=ki,yr.get=at,yr.invalidAt=Ri,yr.isAfter=li,yr.isBefore=hi,yr.isBetween=ci,yr.isSame=di,yr.isSameOrAfter=ui,yr.isSameOrBefore=fi,yr.isValid=Ni,yr.lang=hr,yr.locale=Ci,yr.localeData=Ti,yr.max=er,yr.min=tr,yr.parsingFlags=Fi,yr.set=lt,yr.startOf=ji,yr.subtract=lr,yr.toArray=Li,yr.toObject=Oi,yr.toDate=Ii,yr.toISOString=_i,yr.inspect=vi,yr.toJSON=zi,yr.toString=mi,yr.unix=Ei,yr.valueOf=Pi,yr.creationData=Hi,yr.year=So,yr.isLeapYear=nt,yr.weekYear=Wi,yr.isoWeekYear=$i,yr.quarter=yr.quarters=Zi,yr.month=mt,yr.daysInMonth=_t,yr.week=yr.weeks=At,yr.isoWeek=yr.isoWeeks=Pt,yr.weeksInYear=qi,yr.isoWeeksInYear=Yi,yr.date=pr,yr.day=yr.days=Ht,yr.weekday=Bt,yr.isoWeekday=Wt,yr.dayOfYear=Ki,yr.hour=yr.hours=Wo,yr.minute=yr.minutes=gr,yr.second=yr.seconds=_r,yr.millisecond=yr.milliseconds=vr,yr.utcOffset=We,yr.utc=Ye,yr.local=qe,yr.parseZone=Ue,yr.hasAlignedHourOffset=Ve,yr.isDST=Ze,yr.isLocal=Ge,yr.isUtcOffset=Xe,yr.isUtc=Je,yr.isUTC=Je,yr.zoneAbbr=Xi,yr.zoneName=Ji,yr.dates=T("dates accessor is deprecated. Use date instead.",pr),yr.months=T("months accessor is deprecated. Use month instead",mt),yr.years=T("years accessor is deprecated. Use year instead",So),yr.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",$e),yr.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ke);var br=A.prototype;br.calendar=P,br.longDateFormat=E,br.invalidDate=I,br.ordinal=L,br.preparse=en,br.postformat=en,br.relativeTime=O,br.pastFuture=z,br.set=D,br.months=dt,br.monthsShort=ut,br.monthsParse=pt,br.monthsRegex=yt,br.monthsShortRegex=vt,br.week=St,br.firstDayOfYear=jt,br.firstDayOfWeek=Dt,br.weekdays=Ot,br.weekdaysMin=Nt,br.weekdaysShort=zt,br.weekdaysParse=Rt,br.weekdaysRegex=$t,br.weekdaysShortRegex=Yt,br.weekdaysMinRegex=qt,br.isPM=Xt,br.meridiem=Jt,ie("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=T("moment.lang is deprecated. Use moment.locale instead.",ie),i.langData=T("moment.langData is deprecated. Use moment.localeData instead.",re);var xr=Math.abs,wr=xn("ms"),kr=xn("s"),Cr=xn("m"),Tr=xn("h"),Mr=xn("d"),Sr=xn("w"),Dr=xn("M"),jr=xn("Q"),Ar=xn("y"),Pr=Cn("milliseconds"),Er=Cn("seconds"),Ir=Cn("minutes"),Lr=Cn("hours"),Or=Cn("days"),zr=Cn("months"),Nr=Cn("years"),Fr=Math.round,Rr={ss:44,s:45,m:45,h:22,d:26,M:11},Hr=Math.abs,Br=Oe.prototype;return Br.isValid=Ie,Br.abs=dn,Br.add=fn,Br.subtract=pn,Br.as=yn,Br.asMilliseconds=wr,Br.asSeconds=kr,Br.asMinutes=Cr,Br.asHours=Tr,Br.asDays=Mr,Br.asWeeks=Sr,Br.asMonths=Dr,Br.asQuarters=jr,Br.asYears=Ar,Br.valueOf=bn,Br._bubble=mn,Br.clone=wn,Br.get=kn,Br.milliseconds=Pr,Br.seconds=Er,Br.minutes=Ir,Br.hours=Lr,Br.days=Or,Br.weeks=Tn,Br.months=zr,Br.years=Nr,Br.humanize=An,Br.toISOString=En,Br.toString=En,Br.toJSON=En,Br.locale=Ci,Br.localeData=Ti,Br.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",En),Br.lang=hr,$("X",0,0,"unix"),$("x",0,0,"valueOf"),Z("x",ho),Z("X",fo),J("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),J("x",function(t,e,i){i._d=new Date(w(t))}),i.version="2.24.0",n(De),i.fn=yr,i.min=Ae,i.max=Pe,i.now=ir,i.utc=f,i.unix=Qi,i.months=sn,i.isDate=h,i.locale=ie,i.invalid=_,i.duration=Qe,i.isMoment=b,i.weekdays=ln,i.parseZone=tn,i.localeData=re,i.isDuration=ze,i.monthsShort=an,i.weekdaysMin=cn,i.defineLocale=ne,i.updateLocale=oe,i.locales=se,i.weekdaysShort=hn,i.normalizeUnits=F,i.relativeTimeRounding=Dn,i.relativeTimeThreshold=jn,i.calendarFormat=ri,i.prototype=yr,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i},e.exports=i()}),Yo={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};to._date.override("function"==typeof $o?{_id:"moment",formats:function(){return Yo},parse:function(t,e){return"string"==typeof t&&"string"==typeof e?t=$o(t,e):t instanceof $o||(t=$o(t)),t.isValid()?t.valueOf():null},format:function(t,e){return $o(t).format(e)},add:function(t,e,i){return $o(t).add(e,i).valueOf()},diff:function(t,e,i){return $o(t).diff($o(e),i)},startOf:function(t,e,i){return t=$o(t),"isoWeek"===e?t.isoWeekday(i).valueOf():t.startOf(e).valueOf()},endOf:function(t,e){return $o(t).endOf(e).valueOf()},_create:function(t){return $o(t)}}:{}),yi._set("global",{plugins:{filler:{propagate:!0}}});var qo={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),o=n&&i.isDatasetVisible(e)&&n.dataset._children||[],r=o.length||0;return r?function(t,e){return e<r&&o[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return Mi.isArray(e)?function(t,i){return e[i]}:function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}},Uo={id:"filler",afterDatasetsUpdate:function(t,e){var i,n,o,r,s=(t.data.datasets||[]).length,a=e.propagate,l=[];for(n=0;n<s;++n)r=null,(o=(i=t.getDatasetMeta(n)).dataset)&&o._model&&o instanceof Xi.Line&&(r={visible:t.isDatasetVisible(n),fill:ze(o,n,s),chart:t,el:o}),i.$filler=r,l.push(r);for(n=0;n<s;++n)(r=l[n])&&(r.fill=He(l,n,a),r.boundary=Re(r),r.mapper=Be(r))},beforeDatasetsDraw:function(t){var e,i,n,o,r,s,a,l=t._getSortedVisibleDatasetMetas(),h=t.ctx;for(i=l.length-1;i>=0;--i)(e=l[i].$filler)&&e.visible&&(o=(n=e.el)._view,r=n._children||[],s=e.mapper,a=o.backgroundColor||yi.global.defaultColor,s&&a&&r.length&&(Mi.canvas.clipArea(h,t.chartArea),Ye(h,r,s,o,a,n._loop),Mi.canvas.unclipArea(h)))}},Vo=Mi.rtl.getRtlAdapter,Zo=Mi.noop,Ko=Mi.valueOrDefault;yi._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,o=n.getDatasetMeta(i);o.hidden=null===o.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,i=t.options.legend||{},n=i.labels&&i.labels.usePointStyle;return t._getSortedDatasetMetas().map(function(i){var o=i.controller.getStyle(n?0:undefined);return{text:e[i.index].label,fillStyle:o.backgroundColor,hidden:!t.isDatasetVisible(i.index),lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:o.borderWidth,strokeStyle:o.borderColor,pointStyle:o.pointStyle,rotation:o.rotation,datasetIndex:i.index}},this)}}},legendCallback:function(t){var e,i,n,o=document.createElement("ul"),r=t.data.datasets;for(o.setAttribute("class",t.id+"-legend"),e=0,i=r.length;e<i;e++)(n=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[e].backgroundColor,r[e].label&&n.appendChild(document.createTextNode(r[e].label));return o.outerHTML}});var Go=Ii.extend({initialize:function(t){var e=this;Mi.extend(e,t),e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1},beforeUpdate:Zo,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:Zo,beforeSetDimensions:Zo,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Zo,beforeBuildLabels:Zo,buildLabels:function(){var t=this,e=t.options.labels||{},i=Mi.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(i=i.filter(function(i){return e.filter(i,t.chart.data)})),t.options.reverse&&i.reverse(),t.legendItems=i},afterBuildLabels:Zo,beforeFit:Zo,fit:function(){var t=this,e=t.options,i=e.labels,n=e.display,o=t.ctx,r=Mi.options._parseFont(i),s=r.size,a=t.legendHitBoxes=[],l=t.minSize,h=t.isHorizontal();if(h?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n){if(o.font=r.string,h){var c=t.lineWidths=[0],d=0;o.textAlign="left",o.textBaseline="middle",Mi.each(t.legendItems,function(t,e){var n=qe(i,s)+s/2+o.measureText(t.text).width;(0===e||c[c.length-1]+n+2*i.padding>l.width)&&(d+=s+i.padding,c[c.length-(e>0?0:1)]=0),a[e]={left:0,top:0,width:n,height:s},c[c.length-1]+=n+i.padding}),l.height+=d}else{var u=i.padding,f=t.columnWidths=[],p=t.columnHeights=[],g=i.padding,m=0,_=0;Mi.each(t.legendItems,function(t,e){var n=qe(i,s)+s/2+o.measureText(t.text).width;e>0&&_+s+2*u>l.height&&(g+=m+i.padding,f.push(m),p.push(_),m=0,_=0),m=Math.max(m,n),_+=s+u,a[e]={left:0,top:0,width:n,height:s}}),g+=m,f.push(m),p.push(_),l.width+=g}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:Zo,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,i=e.labels,n=yi.global,o=n.defaultColor,r=n.elements.line,s=t.height,a=t.columnHeights,l=t.width,h=t.lineWidths;if(e.display){var c,d=Vo(e.rtl,t.left,t.minSize.width),u=t.ctx,f=Ko(i.fontColor,n.defaultFontColor),p=Mi.options._parseFont(i),g=p.size;u.textAlign=d.textAlign("left"),u.textBaseline="middle",u.lineWidth=.5,u.strokeStyle=f,u.fillStyle=f,u.font=p.string;var m=qe(i,g),_=t.legendHitBoxes,v=function(t,e,n){if(!(isNaN(m)||m<=0)){u.save();var s=Ko(n.lineWidth,r.borderWidth);if(u.fillStyle=Ko(n.fillStyle,o),u.lineCap=Ko(n.lineCap,r.borderCapStyle),u.lineDashOffset=Ko(n.lineDashOffset,r.borderDashOffset),u.lineJoin=Ko(n.lineJoin,r.borderJoinStyle),u.lineWidth=s,u.strokeStyle=Ko(n.strokeStyle,o),u.setLineDash&&u.setLineDash(Ko(n.lineDash,r.borderDash)),i&&i.usePointStyle){var a=m*Math.SQRT2/2,l=d.xPlus(t,m/2),h=e+g/2;Mi.canvas.drawPoint(u,n.pointStyle,a,l,h,n.rotation)}else u.fillRect(d.leftForLtr(t,m),e,m,g),0!==s&&u.strokeRect(d.leftForLtr(t,m),e,m,g);u.restore()}},y=function(t,e,i,n){var o=g/2,r=d.xPlus(t,m+o),s=e+o;u.fillText(i.text,r,s),i.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(r,s),u.lineTo(d.xPlus(r,n),s),u.stroke())},b=function(t,n){switch(e.align){case"start":return i.padding;case"end":return t-n;default:return(t-n+i.padding)/2}},x=t.isHorizontal();c=x?{x:t.left+b(l,h[0]),y:t.top+i.padding,line:0}:{x:t.left+i.padding,y:t.top+b(s,a[0]),line:0},Mi.rtl.overrideTextDirection(t.ctx,e.textDirection);var w=g+i.padding;Mi.each(t.legendItems,function(e,n){var o=u.measureText(e.text).width,r=m+g/2+o,f=c.x,p=c.y;d.setWidth(t.minSize.width),x?n>0&&f+r+i.padding>t.left+t.minSize.width&&(p=c.y+=w,c.line++,f=c.x=t.left+b(l,h[c.line])):n>0&&p+w>t.top+t.minSize.height&&(f=c.x=f+t.columnWidths[c.line]+i.padding,c.line++,p=c.y=t.top+b(s,a[c.line]));var k=d.x(f);v(k,p,e),_[n].left=d.leftForLtr(k,_[n].width),_[n].top=p,y(k,p,e,o),x?c.x+=r+i.padding:c.y+=w}),Mi.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var i,n,o,r=this;if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)for(o=r.legendHitBoxes,i=0;i<o.length;++i)if(t>=(n=o[i]).left&&t<=n.left+n.width&&e>=n.top&&e<=n.top+n.height)return r.legendItems[i];return null},handleEvent:function(t){var e,i=this,n=i.options,o="mouseup"===t.type?"click":t.type;if("mousemove"===o){if(!n.onHover&&!n.onLeave)return}else{if("click"!==o)return;if(!n.onClick)return}e=i._getLegendItemAt(t.x,t.y),"click"===o?e&&n.onClick&&n.onClick.call(i,t.native,e):(n.onLeave&&e!==i._hoveredItem&&(i._hoveredItem&&n.onLeave.call(i,t.native,i._hoveredItem),i._hoveredItem=e),n.onHover&&e&&n.onHover.call(i,t.native,e))}}),Xo={id:"legend",_element:Go,beforeInit:function(t){var e=t.options.legend;e&&Ue(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(Mi.mergeIf(e,yi.global.legend),i?(Sn.configure(t,i,e),i.options=e):Ue(t,e)):i&&(Sn.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}},Jo=Mi.noop;yi._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Qo=Ii.extend({initialize:function(t){var e=this;Mi.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:Jo,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:Jo,beforeSetDimensions:Jo,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:Jo,beforeBuildLabels:Jo,buildLabels:Jo,afterBuildLabels:Jo,beforeFit:Jo,fit:function(){var t,e=this,i=e.options,n=e.minSize={},o=e.isHorizontal();i.display?(t=(Mi.isArray(i.text)?i.text.length:1)*Mi.options._parseFont(i).lineHeight+2*i.padding,e.width=n.width=o?e.maxWidth:t,e.height=n.height=o?t:e.maxHeight):e.width=n.width=e.height=n.height=0},afterFit:Jo,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=t.options;if(i.display){var n,o,r,s=Mi.options._parseFont(i),a=s.lineHeight,l=a/2+i.padding,h=0,c=t.top,d=t.left,u=t.bottom,f=t.right;e.fillStyle=Mi.valueOrDefault(i.fontColor,yi.global.defaultFontColor),e.font=s.string,t.isHorizontal()?(o=d+(f-d)/2,r=c+l,n=f-d):(o="left"===i.position?d+l:f-l,r=c+(u-c)/2,n=u-c,h=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(o,r),e.rotate(h),e.textAlign="center",e.textBaseline="middle";var p=i.text;if(Mi.isArray(p))for(var g=0,m=0;m<p.length;++m)e.fillText(p[m],0,g,n),g+=a;else e.fillText(p,0,0,n);e.restore()}}}),tr={},er=Uo,ir=Xo,nr={id:"title",_element:Qo,beforeInit:function(t){var e=t.options.title;e&&Ve(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(Mi.mergeIf(e,yi.global.title),i?(Sn.configure(t,i,e),i.options=e):Ve(t,e)):i&&(Sn.removeBox(t,i),delete t.titleBlock)}};for(var or in tr.filler=er,tr.legend=ir,tr.title=nr,Jn.helpers=Mi,Qn(),Jn._adapters=to,Jn.Animation=Oi,Jn.animationService=zi,Jn.controllers=Cn,Jn.DatasetController=Hi,Jn.defaults=yi,Jn.Element=Ii,Jn.elements=Xi,Jn.Interaction=Tn,Jn.layouts=Sn,Jn.platform=Bn,Jn.plugins=Wn,Jn.Scale=ao,Jn.scaleService=$n,Jn.Ticks=eo,Jn.Tooltip=Kn,Jn.helpers.each(Wo,function(t,e){Jn.scaleService.registerScaleType(e,t,t._defaults)}),tr)tr.hasOwnProperty(or)&&Jn.plugins.register(tr[or]);Jn.platform.initialize();var rr=Jn;return"undefined"!=typeof window&&(window.Chart=Jn),Jn.Chart=Jn,Jn.Legend=tr.legend._element,Jn.Title=tr.title._element,Jn.pluginService=Jn.plugins,Jn.PluginBase=Jn.Element.extend({}),Jn.canvasHelpers=Jn.helpers.canvas,Jn.layoutService=Jn.layouts,Jn.LinearScaleBase=go,Jn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){Jn[t]=function(e,i){return new Jn(e,Jn.helpers.merge(i||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),rr}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";if(!t.jstree){var i=0,n=!1,o=!1,r=!1,s=[],a=t("script:last").attr("src"),l=window.document;t.jstree={version:"3.3.7",defaults:{plugins:[]},plugins:{},path:a&&-1!==a.indexOf("/")?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},t.jstree.create=function(e,n){var o=new t.jstree.core(++i),r=n;return n=t.extend(!0,{},t.jstree.defaults,n),r&&r.plugins&&(n.plugins=r.plugins),t.each(n.plugins,function(t,e){"core"!==t&&(o=o.plugin(e,n[e]))}),
t(e).data("jstree",o),o.init(e,n),o},t.jstree.destroy=function(){t(".jstree:jstree").jstree("destroy"),t(l).off(".jstree")},t.jstree.core=function(t){this._id=t,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},t.jstree.reference=function(e){var i=null,n=null;if(!e||!e.id||e.tagName&&e.nodeType||(e=e.id),!n||!n.length)try{n=t(e)}catch(o){}if(!n||!n.length)try{n=t("#"+e.replace(t.jstree.idregex,"\\$&"))}catch(o){}return n&&n.length&&(n=n.closest(".jstree")).length&&(n=n.data("jstree"))?i=n:t(".jstree").each(function(){var n=t(this).data("jstree");return n&&n._model.data[e]?(i=n,!1):void 0}),i},t.fn.jstree=function(i){var n="string"==typeof i,o=Array.prototype.slice.call(arguments,1),r=null;return!(!0===i&&!this.length)&&(this.each(function(){var s=t.jstree.reference(this),a=n&&s?s[i]:null;return r=n&&a?a.apply(s,o):null,s||n||i!==e&&!t.isPlainObject(i)||t.jstree.create(this,i),(s&&!n||!0===i)&&(r=s||!1),(null===r||r===e)&&void 0}),null!==r&&r!==e?r:this)},t.expr.pseudos.jstree=t.expr.createPseudo(function(){return function(i){return t(i).hasClass("jstree")&&t(i).data("jstree")!==e}}),t.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:t.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(e){e.type="click",t(e.currentTarget).trigger(e)},enter:function(e){e.type="click",t(e.currentTarget).trigger(e)},left:function(e){if(e.preventDefault(),this.is_open(e.currentTarget))this.close_node(e.currentTarget);else{var i=this.get_parent(e.currentTarget);i&&i.id!==t.jstree.root&&this.get_node(i,!0).children(".jstree-anchor").focus()}},up:function(t){t.preventDefault();var e=this.get_prev_dom(t.currentTarget);e&&e.length&&e.children(".jstree-anchor").focus()},right:function(e){if(e.preventDefault(),this.is_closed(e.currentTarget))this.open_node(e.currentTarget,function(t){this.get_node(t,!0).children(".jstree-anchor").focus()});else if(this.is_open(e.currentTarget)){var i=this.get_node(e.currentTarget,!0).children(".jstree-children")[0];i&&t(this._firstChild(i)).children(".jstree-anchor").focus()}},down:function(t){t.preventDefault();var e=this.get_next_dom(t.currentTarget);e&&e.length&&e.children(".jstree-anchor").focus()},"*":function(){this.open_all()},home:function(e){e.preventDefault();var i=this._firstChild(this.get_container_ul()[0]);i&&t(i).children(".jstree-anchor").filter(":visible").focus()},end:function(t){t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(t){t.preventDefault(),this.edit(t.currentTarget)}}},t.jstree.core.prototype={plugin:function(e,i){var n=t.jstree.plugins[e];return n?(this._data[e]={},n.prototype=this,new n(i,this)):this},init:function(e,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[t.jstree.root]={id:t.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=t(e).addClass("jstree jstree-"+this._id),this.settings=i,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(t.jstree.root)},destroy:function(t){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}t||this.element.empty(),this.teardown()},_create_prototype_node:function(){var t,e,i=l.createElement("LI");return i.setAttribute("role","treeitem"),(t=l.createElement("I")).className="jstree-icon jstree-ocl",t.setAttribute("role","presentation"),i.appendChild(t),(t=l.createElement("A")).className="jstree-anchor",t.setAttribute("href","#"),t.setAttribute("tabindex","-1"),(e=l.createElement("I")).className="jstree-icon jstree-themeicon",e.setAttribute("role","presentation"),t.appendChild(e),i.appendChild(t),t=e=null,i},_kbevent_to_func:function(t){var e={8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},i=[];t.ctrlKey&&i.push("ctrl"),t.altKey&&i.push("alt"),t.shiftKey&&i.push("shift"),i.push(e[t.which]||t.which),i=i.sort().join("-").toLowerCase();var n,o,r=this.settings.core.keyboard;for(n in r)if(r.hasOwnProperty(n)&&("-"!==(o=n)&&"+"!==o&&(o=(o=o.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),o===i))return r[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var e="",i=null,n=0;this.element.on("dblclick.jstree",function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(i){}}}).on("mousedown.jstree",t.proxy(function(t){t.target===this.element[0]&&(t.preventDefault(),n=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(t){t.preventDefault()}).on("click.jstree",".jstree-ocl",t.proxy(function(t){this.toggle_node(t.target)},this)).on("dblclick.jstree",".jstree-anchor",t.proxy(function(t){return!(!t.target.tagName||"input"!==t.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(t.target))},this)).on("click.jstree",".jstree-anchor",t.proxy(function(e){e.preventDefault(),e.currentTarget!==l.activeElement&&t(e.currentTarget).focus(),this.activate_node(e.currentTarget,e)},this)).on("keydown.jstree",".jstree-anchor",t.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37));var e=this._kbevent_to_func(t);if(e){var i=e.call(this,t);if(!1===i||!0===i)return i}},this)).on("load_node.jstree",t.proxy(function(e,i){i.status&&(i.node.id!==t.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(t.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var e,i,n=[];for(e=0,i=this._data.core.selected.length;i>e;e++)n=n.concat(this._model.data[this._data.core.selected[e]].parents);for(e=0,i=(n=t.vakata.array_unique(n)).length;i>e;e++)this.open_node(n[e],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",t.proxy(function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;i&&clearTimeout(i),i=setTimeout(function(){e=""},500);var o=String.fromCharCode(n.which).toLowerCase(),r=this.element.find(".jstree-anchor").filter(":visible"),s=r.index(l.activeElement)||0,a=!1;if((e+=o).length>1){if(r.slice(s).each(t.proxy(function(i,n){return 0===t(n).text().toLowerCase().indexOf(e)?(t(n).focus(),a=!0,!1):void 0},this)),a)return;if(r.slice(0,s).each(t.proxy(function(i,n){return 0===t(n).text().toLowerCase().indexOf(e)?(t(n).focus(),a=!0,!1):void 0},this)),a)return}if(new RegExp("^"+o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(e)){if(r.slice(s+1).each(t.proxy(function(e,i){return t(i).text().toLowerCase().charAt(0)===o?(t(i).focus(),a=!0,!1):void 0},this)),a)return;if(r.slice(0,s+1).each(t.proxy(function(e,i){return t(i).text().toLowerCase().charAt(0)===o?(t(i).focus(),a=!0,!1):void 0},this)),a)return}},this)).on("init.jstree",t.proxy(function(){var t=this.settings.core.themes;this._data.core.themes.dots=t.dots,this._data.core.themes.stripes=t.stripes,this._data.core.themes.icons=t.icons,this._data.core.themes.ellipsis=t.ellipsis,this.set_theme(t.name||"default",t.url),this.set_theme_variant(t.variant)},this)).on("loading.jstree",t.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",t.proxy(function(e){this._data.core.focused=null,t(e.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",t.proxy(function(e){var i=this.get_node(e.currentTarget);i&&i.id&&(this._data.core.focused=i.id),this.element.find(".jstree-hovered").not(e.currentTarget).mouseleave(),t(e.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",t.proxy(function(){if(+new Date-n>500&&!this._data.core.focused&&this.settings.core.restore_focus){n=0;var t=this.get_node(this.element.attr("aria-activedescendant"),!0);t&&t.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",t.proxy(function(t){this.hover_node(t.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",t.proxy(function(t){this.dehover_node(t.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),t(l).off(".jstree-"+this._id)},trigger:function(t,e){e||(e={}),e.instance=this,this.element.triggerHandler(t.replace(".jstree","")+".jstree",e)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var i=this.settings.core.strings;return t.isFunction(i)?i.call(this,e):i&&i[e]?i[e]:e},_firstChild:function(t){for(t=t?t.firstChild:null;null!==t&&1!==t.nodeType;)t=t.nextSibling;return t},_nextSibling:function(t){for(t=t?t.nextSibling:null;null!==t&&1!==t.nodeType;)t=t.nextSibling;return t},_previousSibling:function(t){for(t=t?t.previousSibling:null;null!==t&&1!==t.nodeType;)t=t.previousSibling;return t},get_node:function(e,i){var n;e&&e.id&&(e=e.id),e instanceof jQuery&&e.length&&e[0].id&&(e=e[0].id);try{if(this._model.data[e])e=this._model.data[e];else if("string"==typeof e&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if("string"==typeof e&&(n=t("#"+e.replace(t.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=this.element.find(e)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=this.element.find(e)).length||!n.hasClass("jstree"))return!1;e=this._model.data[t.jstree.root]}return i&&(e=e.id===t.jstree.root?this.element:t("#"+e.id.replace(t.jstree.idregex,"\\$&"),this.element)),e}catch(o){return!1}},get_path:function(e,i,n){if(!(e=e.parents?e:this.get_node(e))||e.id===t.jstree.root||!e.parents)return!1;var o,r,s=[];for(s.push(n?e.id:e.text),o=0,r=e.parents.length;r>o;o++)s.push(n?e.parents[o]:this.get_text(e.parents[o]));return s=s.reverse().slice(1),i?s.join(i):s},get_next_dom:function(e,i){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return!!n&&t(n)}if(!e||!e.length)return!1;if(i){n=e[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return!!n&&t(n)}if(e.hasClass("jstree-open")){for(n=this._firstChild(e.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return t(n)}n=e[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return null!==n?t(n):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,i){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return!!n&&t(n)}if(!e||!e.length)return!1;if(i){n=e[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);return!!n&&t(n)}n=e[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);if(null!==n){for(e=t(n);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e}return!(!(n=e[0].parentNode.parentNode)||!n.className||-1===n.className.indexOf("jstree-node"))&&t(n)},get_parent:function(e){return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&e.parent},get_children_dom:function(t){return(t=this.get_node(t,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!t||!t.length)&&t.children(".jstree-children").children(".jstree-node")},is_parent:function(t){return(t=this.get_node(t))&&(!1===t.state.loaded||t.children.length>0)},is_loaded:function(t){return(t=this.get_node(t))&&t.state.loaded},is_loading:function(t){return(t=this.get_node(t))&&t.state&&t.state.loading},is_open:function(t){return(t=this.get_node(t))&&t.state.opened},is_closed:function(t){return(t=this.get_node(t))&&this.is_parent(t)&&!t.state.opened},is_leaf:function(t){return!this.is_parent(t)},load_node:function(e,i){var n,o,r,s,a;if(t.isArray(e))return this._load_nodes(e.slice(),i),!0;if(!(e=this.get_node(e)))return i&&i.call(this,e,!1),!1;if(e.state.loaded){for(e.state.loaded=!1,r=0,s=e.parents.length;s>r;r++)this._model.data[e.parents[r]].children_d=t.vakata.array_filter(this._model.data[e.parents[r]].children_d,function(i){return-1===t.inArray(i,e.children_d)});for(n=0,o=e.children_d.length;o>n;n++)this._model.data[e.children_d[n]].state.selected&&(a=!0),delete this._model.data[e.children_d[n]];a&&(this._data.core.selected=t.vakata.array_filter(this._data.core.selected,function(i){return-1===t.inArray(i,e.children_d)})),e.children=[],e.children_d=[],a&&this.trigger("changed",{action:"load_node",node:e,selected:this._data.core.selected})}return e.state.failed=!1,e.state.loading=!0,this.get_node(e,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(e,t.proxy(function(t){(e=this._model.data[e.id]).state.loading=!1,e.state.loaded=t,e.state.failed=!e.state.loaded;var n=this.get_node(e,!0),o=0,r=0,s=this._model.data,a=!1;for(o=0,r=e.children.length;r>o;o++)if(s[e.children[o]]&&!s[e.children[o]].state.hidden){a=!0;break}e.state.loaded&&n&&n.length&&(n.removeClass("jstree-closed jstree-open jstree-leaf"),a?"#"!==e.id&&n.addClass(e.state.opened?"jstree-open":"jstree-closed"):n.addClass("jstree-leaf")),n.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:e,status:t}),i&&i.call(this,e,t)},this)),!0},_load_nodes:function(t,e,i,n){var o,r,s=!0,a=function(){this._load_nodes(t,e,!0)},l=this._model.data,h=[];for(o=0,r=t.length;r>o;o++)l[t[o]]&&(!l[t[o]].state.loaded&&!l[t[o]].state.failed||!i&&n)&&(this.is_loading(t[o])||this.load_node(t[o],a),s=!1);if(s){for(o=0,r=t.length;r>o;o++)l[t[o]]&&l[t[o]].state.loaded&&h.push(t[o]);e&&!e.done&&(e.call(this,h),e.done=!0)}},load_all:function(e,i){if(e||(e=t.jstree.root),!(e=this.get_node(e)))return!1;var n,o,r=[],s=this._model.data,a=s[e.id].children_d;for(e.state&&!e.state.loaded&&r.push(e.id),n=0,o=a.length;o>n;n++)s[a[n]]&&s[a[n]].state&&!s[a[n]].state.loaded&&r.push(a[n]);r.length?this._load_nodes(r,function(){this.load_all(e,i)}):(i&&i.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(e,i){var n,o=this.settings.core.data,r=function(){return 3!==this.nodeType&&8!==this.nodeType};return o?t.isFunction(o)?o.call(this,e,t.proxy(function(n){!1===n?i.call(this,!1):this["string"==typeof n?"_append_html_data":"_append_json_data"](e,"string"==typeof n?t(t.parseHTML(n)).filter(r):n,function(t){i.call(this,t)})},this)):"object"==typeof o?o.url?(o=t.extend(!0,{},o),t.isFunction(o.url)&&(o.url=o.url.call(this,e)),t.isFunction(o.data)&&(o.data=o.data.call(this,e)),t.ajax(o).done(t.proxy(function(n,o,s){var a=s.getResponseHeader("Content-Type");return a&&-1!==a.indexOf("json")||"object"==typeof n?this._append_json_data(e,n,function(t){i.call(this,t)}):a&&-1!==a.indexOf("html")||"string"==typeof n?this._append_html_data(e,t(t.parseHTML(n)).filter(r),function(t){i.call(this,t)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:s})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))},this)).fail(t.proxy(function(t){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:t})},i.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(n=t.isArray(o)?t.extend(!0,[],o):t.isPlainObject(o)?t.extend(!0,{},o):o,e.id===t.jstree.root?this._append_json_data(e,n,function(t){i.call(this,t)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof o?e.id===t.jstree.root?this._append_html_data(e,t(t.parseHTML(o)).filter(r),function(t){i.call(this,t)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):e.id===t.jstree.root?this._append_html_data(e,this._data.core.original_container_html.clone(!0),function(t){i.call(this,t)}):i.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&-1===t.inArray(e.id,this._model.changed)&&this._model.changed.push(e.id)},_append_html_data:function(e,i,n){(e=this.get_node(e)).children=[],e.children_d=[];var o,r,s,a=i.is("ul")?i.children():i,l=e.id,h=[],c=[],d=this._model.data,u=d[l],f=this._data.core.selected.length;for(a.each(t.proxy(function(e,i){(o=this._parse_model_from_html(t(i),l,u.parents.concat()))&&(h.push(o),c.push(o),d[o].children_d.length&&(c=c.concat(d[o].children_d)))},this)),u.children=h,u.children_d=c,r=0,s=u.parents.length;s>r;r++)d[u.parents[r]].children_d=d[u.parents[r]].children_d.concat(c);this.trigger("model",{nodes:c,parent:l}),l!==t.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(e,i,n,o){if(null!==this.element){(e=this.get_node(e)).children=[],e.children_d=[],i.d&&("string"==typeof(i=i.d)&&(i=JSON.parse(i))),t.isArray(i)||(i=[i]);var r=null,s={df:this._model.default_state,dat:i,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=function(t,e){t.data&&(t=t.data);var i,n,o,r,s=t.dat,a=t.par,l=[],h=[],c=[],d=t.df,u=t.t_id,f=t.t_cnt,p=t.m,g=p[a],m=t.sel,_=function(t,i,n){n=n?n.concat():[],i&&n.unshift(i);var o,r,s,a,l=t.id.toString(),h={id:l,text:t.text||"",icon:t.icon===e||t.icon,parent:i,parents:n,children:t.children||[],children_d:t.children_d||[],data:t.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in d)d.hasOwnProperty(o)&&(h.state[o]=d[o]);if(t&&t.data&&t.data.jstree&&t.data.jstree.icon&&(h.icon=t.data.jstree.icon),(h.icon===e||null===h.icon||""===h.icon)&&(h.icon=!0),t&&t.data&&(h.data=t.data,t.data.jstree))for(o in t.data.jstree)t.data.jstree.hasOwnProperty(o)&&(h.state[o]=t.data.jstree[o]);if(t&&"object"==typeof t.state)for(o in t.state)t.state.hasOwnProperty(o)&&(h.state[o]=t.state[o]);if(t&&"object"==typeof t.li_attr)for(o in t.li_attr)t.li_attr.hasOwnProperty(o)&&(h.li_attr[o]=t.li_attr[o]);if(h.li_attr.id||(h.li_attr.id=l),t&&"object"==typeof t.a_attr)for(o in t.a_attr)t.a_attr.hasOwnProperty(o)&&(h.a_attr[o]=t.a_attr[o]);for(t&&t.children&&!0===t.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),p[h.id]=h,o=0,r=h.children.length;r>o;o++)s=_(p[h.children[o]],h.id,n),a=p[s],h.children_d.push(s),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d));return delete t.data,delete t.children,p[h.id].original=t,h.state.selected&&c.push(h.id),h.id},v=function(t,i,n){n=n?n.concat():[],i&&n.unshift(i);var o,r,s,a,l,h=!1;do{h="j"+u+"_"+ ++f}while(p[h]);for(o in l={id:!1,text:"string"==typeof t?t:"",icon:"object"!=typeof t||t.icon===e||t.icon,parent:i,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},d)d.hasOwnProperty(o)&&(l.state[o]=d[o]);if(t&&t.id&&(l.id=t.id.toString()),t&&t.text&&(l.text=t.text),t&&t.data&&t.data.jstree&&t.data.jstree.icon&&(l.icon=t.data.jstree.icon),(l.icon===e||null===l.icon||""===l.icon)&&(l.icon=!0),t&&t.data&&(l.data=t.data,t.data.jstree))for(o in t.data.jstree)t.data.jstree.hasOwnProperty(o)&&(l.state[o]=t.data.jstree[o]);if(t&&"object"==typeof t.state)for(o in t.state)t.state.hasOwnProperty(o)&&(l.state[o]=t.state[o]);if(t&&"object"==typeof t.li_attr)for(o in t.li_attr)t.li_attr.hasOwnProperty(o)&&(l.li_attr[o]=t.li_attr[o]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=h),l.li_attr.id||(l.li_attr.id=l.id),t&&"object"==typeof t.a_attr)for(o in t.a_attr)t.a_attr.hasOwnProperty(o)&&(l.a_attr[o]=t.a_attr[o]);if(t&&t.children&&t.children.length){for(o=0,r=t.children.length;r>o;o++)s=v(t.children[o],l.id,n),a=p[s],l.children.push(s),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return t&&t.children&&!0===t.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete t.data,delete t.children,l.original=t,p[l.id]=l,l.state.selected&&c.push(l.id),l.id};if(s.length&&s[0].id!==e&&s[0].parent!==e){for(n=0,o=s.length;o>n;n++)s[n].children||(s[n].children=[]),s[n].state||(s[n].state={}),p[s[n].id.toString()]=s[n];for(n=0,o=s.length;o>n;n++)p[s[n].parent.toString()]?(p[s[n].parent.toString()].children.push(s[n].id.toString()),g.children_d.push(s[n].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:s[n].id.toString(),parent:s[n].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error));for(n=0,o=g.children.length;o>n;n++)i=_(p[g.children[n]],a,g.parents.concat()),h.push(i),p[i].children_d.length&&(h=h.concat(p[i].children_d));for(n=0,o=g.parents.length;o>n;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(h);r={cnt:f,mod:p,sel:m,par:a,dpc:h,add:c}}else{for(n=0,o=s.length;o>n;n++)(i=v(s[n],a,g.parents.concat()))&&(l.push(i),h.push(i),p[i].children_d.length&&(h=h.concat(p[i].children_d)));for(g.children=l,g.children_d=h,n=0,o=g.parents.length;o>n;n++)p[g.parents[n]].children_d=p[g.parents[n]].children_d.concat(h);r={cnt:f,mod:p,sel:m,par:a,dpc:h,add:c}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?r:void postMessage(r)},l=function(e,i){if(null!==this.element){this._cnt=e.cnt;var o,r=this._model.data;for(o in r)r.hasOwnProperty(o)&&r[o].state&&r[o].state.loading&&e.mod[o]&&(e.mod[o].state.loading=!0);if(this._model.data=e.mod,i){var s,a=e.add,l=e.sel,h=this._data.core.selected.slice();if(r=this._model.data,l.length!==h.length||t.vakata.array_unique(l.concat(h)).length!==l.length){for(o=0,s=l.length;s>o;o++)-1===t.inArray(l[o],a)&&-1===t.inArray(l[o],h)&&(r[l[o]].state.selected=!1);for(o=0,s=h.length;s>o;o++)-1===t.inArray(h[o],l)&&(r[h[o]].state.selected=!0)}}e.add.length&&(this._data.core.selected=this._data.core.selected.concat(e.add)),this.trigger("model",{nodes:e.dpc,parent:e.par}),e.par!==t.jstree.root?(this._node_changed(e.par),this.redraw()):this.redraw(!0),e.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+a.toString()],{type:"text/javascript"}))),!this._data.core.working||o?(this._data.core.working=!0,(r=new window.Worker(this._wrk)).onmessage=t.proxy(function(t){l.call(this,t.data,!0);try{r.terminate(),r=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),s.par?r.postMessage(s):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,i,n,!0])}catch(d){l.call(this,a(s),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,a(s),!1)}},_parse_model_from_html:function(i,n,o){o=o?[].concat(o):[],n&&o.unshift(n);var r,s,a,l,h,c=this._model.data,d={id:!1,text:!1,icon:!0,parent:n,parents:o,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in this._model.default_state)this._model.default_state.hasOwnProperty(a)&&(d.state[a]=this._model.default_state[a]);if(l=t.vakata.attributes(i,!0),t.each(l,function(e,i){return!(i=t.trim(i)).length||(d.li_attr[e]=i,void("id"===e&&(d.id=i.toString())))}),(l=i.children("a").first()).length&&(l=t.vakata.attributes(l,!0),t.each(l,function(e,i){(i=t.trim(i)).length&&(d.a_attr[e]=i)})),(l=i.children("a").first().length?i.children("a").first().clone():i.clone()).children("ins, i, ul").remove(),l=l.html(),l=t("<div />").html(l),d.text=this.settings.core.force_text?l.text():l.html(),l=i.data(),d.data=l?t.extend(!0,{},l):null,d.state.opened=i.hasClass("jstree-open"),d.state.selected=i.children("a").hasClass("jstree-clicked"),d.state.disabled=i.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(a in d.data.jstree)d.data.jstree.hasOwnProperty(a)&&(d.state[a]=d.data.jstree[a]);(l=i.children("a").children(".jstree-themeicon")).length&&(d.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),d.state.icon!==e&&(d.icon=d.state.icon),(d.icon===e||null===d.icon||""===d.icon)&&(d.icon=!0),l=i.children("ul").children("li");do{h="j"+this._id+"_"+ ++this._cnt}while(c[h]);return d.id=d.li_attr.id?d.li_attr.id.toString():h,l.length?(l.each(t.proxy(function(e,i){r=this._parse_model_from_html(t(i),d.id,o),s=this._model.data[r],d.children.push(r),s.children_d.length&&(d.children_d=d.children_d.concat(s.children_d))},this)),d.children_d=d.children_d.concat(d.children)):i.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr["class"]&&(d.li_attr["class"]=d.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),d.a_attr["class"]&&(d.a_attr["class"]=d.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),c[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(t,i,n){n=n?n.concat():[],i&&n.unshift(i);var o,r,s,a,l=t.id.toString(),h=this._model.data,c=this._model.default_state,d={id:l,text:t.text||"",icon:t.icon===e||t.icon,parent:i,parents:n,children:t.children||[],children_d:t.children_d||[],data:t.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in c)c.hasOwnProperty(o)&&(d.state[o]=c[o]);if(t&&t.data&&t.data.jstree&&t.data.jstree.icon&&(d.icon=t.data.jstree.icon),(d.icon===e||null===d.icon||""===d.icon)&&(d.icon=!0),t&&t.data&&(d.data=t.data,t.data.jstree))for(o in t.data.jstree)t.data.jstree.hasOwnProperty(o)&&(d.state[o]=t.data.jstree[o]);if(t&&"object"==typeof t.state)for(o in t.state)t.state.hasOwnProperty(o)&&(d.state[o]=t.state[o]);if(t&&"object"==typeof t.li_attr)for(o in t.li_attr)t.li_attr.hasOwnProperty(o)&&(d.li_attr[o]=t.li_attr[o]);if(d.li_attr.id||(d.li_attr.id=l),t&&"object"==typeof t.a_attr)for(o in t.a_attr)t.a_attr.hasOwnProperty(o)&&(d.a_attr[o]=t.a_attr[o]);for(t&&t.children&&!0===t.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),h[d.id]=d,o=0,r=d.children.length;r>o;o++)a=h[s=this._parse_model_from_flat_json(h[d.children[o]],d.id,n)],d.children_d.push(s),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d));return delete t.data,delete t.children,h[d.id].original=t,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_json:function(t,i,n){n=n?n.concat():[],i&&n.unshift(i);var o,r,s,a,l,h=!1,c=this._model.data,d=this._model.default_state;do{h="j"+this._id+"_"+ ++this._cnt}while(c[h]);for(o in l={id:!1,text:"string"==typeof t?t:"",icon:"object"!=typeof t||t.icon===e||t.icon,parent:i,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},d)d.hasOwnProperty(o)&&(l.state[o]=d[o]);if(t&&t.id&&(l.id=t.id.toString()),t&&t.text&&(l.text=t.text),t&&t.data&&t.data.jstree&&t.data.jstree.icon&&(l.icon=t.data.jstree.icon),(l.icon===e||null===l.icon||""===l.icon)&&(l.icon=!0),t&&t.data&&(l.data=t.data,t.data.jstree))for(o in t.data.jstree)t.data.jstree.hasOwnProperty(o)&&(l.state[o]=t.data.jstree[o]);if(t&&"object"==typeof t.state)for(o in t.state)t.state.hasOwnProperty(o)&&(l.state[o]=t.state[o]);if(t&&"object"==typeof t.li_attr)for(o in t.li_attr)t.li_attr.hasOwnProperty(o)&&(l.li_attr[o]=t.li_attr[o]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=h),l.li_attr.id||(l.li_attr.id=l.id),t&&"object"==typeof t.a_attr)for(o in t.a_attr)t.a_attr.hasOwnProperty(o)&&(l.a_attr[o]=t.a_attr[o]);if(t&&t.children&&t.children.length){for(o=0,r=t.children.length;r>o;o++)a=c[s=this._parse_model_from_json(t.children[o],l.id,n)],l.children.push(s),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return t&&t.children&&!0===t.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete t.data,delete t.children,l.original=t,c[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var e,i,n,o=this._model.force_full_redraw?this._model.data[t.jstree.root].children.concat([]):this._model.changed.concat([]),r=l.createElement("UL"),s=this._data.core.focused;for(i=0,n=o.length;n>i;i++)(e=this.redraw_node(o[i],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&r.appendChild(e);this._model.force_full_redraw&&(r.className=this.get_container_ul()[0].className,r.setAttribute("role","group"),this.element.empty().append(r)),null!==s&&this.settings.core.restore_focus&&((e=this.get_node(s,!0))&&e.length&&e.children(".jstree-anchor")[0]!==l.activeElement?e.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:o})},redraw:function(t){t&&(this._model.force_full_redraw=!0),
this._redraw()},draw_children:function(e){var i=this.get_node(e),n=!1,o=!1,r=!1,s=l;if(!i)return!1;if(i.id===t.jstree.root)return this.redraw(!0);if(!(e=this.get_node(e,!0))||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],i.children.length&&i.state.loaded){for((r=s.createElement("UL")).setAttribute("role","group"),r.className="jstree-children",n=0,o=i.children.length;o>n;n++)r.appendChild(this.redraw_node(i.children[n],!0,!0));e.appendChild(r)}},redraw_node:function(e,i,n,o){var r=this.get_node(e),s=!1,a=!1,h=!1,c=!1,d=!1,u=!1,f="",p=l,g=this._model.data,m=!1,_=null,v=0,y=0,b=!1,x=!1;if(!r)return!1;if(r.id===t.jstree.root)return this.redraw(!0);if(i=i||0===r.children.length,e=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(r.id[0])?"\\3"+r.id[0]+" "+r.id.substr(1).replace(t.jstree.idregex,"\\$&"):r.id.replace(t.jstree.idregex,"\\$&"))):l.getElementById(r.id))e=t(e),n||((s=e.parent().parent()[0])===this.element[0]&&(s=null),a=e.index()),i||!r.children.length||e.children(".jstree-children").length||(i=!0),i||(h=e.children(".jstree-children")[0]),m=e.children(".jstree-anchor")[0]===l.activeElement,e.remove();else if(i=!0,!n){if(!(null===(s=r.parent!==t.jstree.root?t("#"+r.parent.replace(t.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&g[r.parent].state.opened))return!1;a=t.inArray(r.id,null===s?g[t.jstree.root].children:g[r.parent].children)}for(c in e=this._data.core.node.cloneNode(!0),f="jstree-node ",r.li_attr)if(r.li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"!==c?e.setAttribute(c,r.li_attr[c]):f+=r.li_attr[c]}for(r.a_attr.id||(r.a_attr.id=r.id+"_anchor"),e.setAttribute("aria-selected",!!r.state.selected),e.setAttribute("aria-level",r.parents.length),e.setAttribute("aria-labelledby",r.a_attr.id),r.state.disabled&&e.setAttribute("aria-disabled",!0),c=0,d=r.children.length;d>c;c++)if(!g[r.children[c]].state.hidden){b=!0;break}if(null!==r.parent&&g[r.parent]&&!r.state.hidden&&(c=t.inArray(r.id,g[r.parent].children),x=r.id,-1!==c))for(c++,d=g[r.parent].children.length;d>c&&(g[g[r.parent].children[c]].state.hidden||(x=g[r.parent].children[c]),x===r.id);c++);for(d in r.state.hidden&&(f+=" jstree-hidden"),r.state.loading&&(f+=" jstree-loading"),r.state.loaded&&!b?f+=" jstree-leaf":(f+=r.state.opened&&r.state.loaded?" jstree-open":" jstree-closed",e.setAttribute("aria-expanded",r.state.opened&&r.state.loaded)),x===r.id&&(f+=" jstree-last"),e.id=r.id,e.className=f,f=(r.state.selected?" jstree-clicked":"")+(r.state.disabled?" jstree-disabled":""),r.a_attr)if(r.a_attr.hasOwnProperty(d)){if("href"===d&&"#"===r.a_attr[d])continue;"class"!==d?e.childNodes[1].setAttribute(d,r.a_attr[d]):f+=" "+r.a_attr[d]}if(f.length&&(e.childNodes[1].className="jstree-anchor "+f),(r.icon&&!0!==r.icon||!1===r.icon)&&(!1===r.icon?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===r.icon.indexOf("/")&&-1===r.icon.indexOf(".")?e.childNodes[1].childNodes[0].className+=" "+r.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage='url("'+r.icon+'")',e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(p.createTextNode(r.text)):e.childNodes[1].innerHTML+=r.text,i&&r.children.length&&(r.state.opened||o)&&r.state.loaded){for((u=p.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",c=0,d=r.children.length;d>c;c++)u.appendChild(this.redraw_node(r.children[c],i,!0));e.appendChild(u)}if(h&&e.appendChild(h),!n){for(s||(s=this.element[0]),c=0,d=s.childNodes.length;d>c;c++)if(s.childNodes[c]&&s.childNodes[c].className&&-1!==s.childNodes[c].className.indexOf("jstree-children")){_=s.childNodes[c];break}_||((_=p.createElement("UL")).setAttribute("role","group"),_.className="jstree-children",s.appendChild(_)),a<(s=_).childNodes.length?s.insertBefore(e,s.childNodes[a]):s.appendChild(e),m&&(v=this.element[0].scrollTop,y=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=y)}return r.state.opened&&!r.state.loaded&&(r.state.opened=!1,setTimeout(t.proxy(function(){this.open_node(r.id,!1,0)},this),0)),e},open_node:function(i,n,o){var r,s,a,l;if(t.isArray(i)){for(r=0,s=(i=i.slice()).length;s>r;r++)this.open_node(i[r],n,o);return!0}return!(!(i=this.get_node(i))||i.id===t.jstree.root)&&(o=o===e?this.settings.core.animation:o,this.is_closed(i)?this.is_loaded(i)?(a=this.get_node(i,!0),l=this,a.length&&(o&&a.children(".jstree-children").length&&a.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(a.children(".jstree-children")[0])&&this.draw_children(i),o?(this.trigger("before_open",{node:i}),a.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(o,function(){this.style.display="",l.element&&l.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),a[0].className=a[0].className.replace("jstree-closed","jstree-open"),a[0].setAttribute("aria-expanded",!0))),i.state.opened=!0,n&&n.call(this,i,!0),a.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),o&&a.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(t.proxy(function(){this.open_node(i,n,o)},this),500):void this.load_node(i,function(t,e){return e?this.open_node(t,n,o):!!n&&n.call(this,t,!1)}):(n&&n.call(this,i,!1),!1))},_open_to:function(e){if(!(e=this.get_node(e))||e.id===t.jstree.root)return!1;var i,n,o=e.parents;for(i=0,n=o.length;n>i;i+=1)i!==t.jstree.root&&this.open_node(o[i],!1,0);return t("#"+e.id.replace(t.jstree.idregex,"\\$&"),this.element)},close_node:function(i,n){var o,r,s,a;if(t.isArray(i)){for(o=0,r=(i=i.slice()).length;r>o;o++)this.close_node(i[o],n);return!0}return!(!(i=this.get_node(i))||i.id===t.jstree.root)&&(!this.is_closed(i)&&(n=n===e?this.settings.core.animation:n,s=this,a=this.get_node(i,!0),i.state.opened=!1,this.trigger("close_node",{node:i}),void(a.length?n?a.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(n,function(){this.style.display="",a.children(".jstree-children").remove(),s.element&&s.trigger("after_close",{node:i})}):(a[0].className=a[0].className.replace("jstree-open","jstree-closed"),a.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:i})):this.trigger("after_close",{node:i}))))},toggle_node:function(e){var i,n;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.toggle_node(e[i]);return!0}return this.is_closed(e)?this.open_node(e):this.is_open(e)?this.close_node(e):void 0},open_all:function(e,i,n){if(e||(e=t.jstree.root),!(e=this.get_node(e)))return!1;var o,r,s,a=e.id===t.jstree.root?this.get_container_ul():this.get_node(e,!0);if(!a.length){for(o=0,r=e.children_d.length;r>o;o++)this.is_closed(this._model.data[e.children_d[o]])&&(this._model.data[e.children_d[o]].state.opened=!0);return this.trigger("open_all",{node:e})}n=n||a,s=this,(a=this.is_closed(e)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each(function(){s.open_node(this,function(t,e){e&&this.is_parent(t)&&this.open_all(t,i,n)},i||0)}),0===n.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(n)})},close_all:function(e,i){if(e||(e=t.jstree.root),!(e=this.get_node(e)))return!1;var n,o,r=e.id===t.jstree.root?this.get_container_ul():this.get_node(e,!0),s=this;for(r.length&&(r=this.is_open(e)?r.find(".jstree-open").addBack():r.find(".jstree-open"),t(r.get().reverse()).each(function(){s.close_node(this,i||0)})),n=0,o=e.children_d.length;o>n;n++)this._model.data[e.children_d[n]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(t){return(t=this.get_node(t))&&t.state&&t.state.disabled},enable_node:function(e){var i,n;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.enable_node(e[i]);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:e}))},disable_node:function(e){var i,n;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.disable_node(e[i]);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:e}))},is_hidden:function(t){return!0===(t=this.get_node(t)).state.hidden},hide_node:function(e,i){var n,o;if(t.isArray(e)){for(n=0,o=(e=e.slice()).length;o>n;n++)this.hide_node(e[n],!0);return i||this.redraw(),!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&void(e.state.hidden||(e.state.hidden=!0,this._node_changed(e.parent),i||this.redraw(),this.trigger("hide_node",{node:e})))},show_node:function(e,i){var n,o;if(t.isArray(e)){for(n=0,o=(e=e.slice()).length;o>n;n++)this.show_node(e[n],!0);return i||this.redraw(),!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&void(e.state.hidden&&(e.state.hidden=!1,this._node_changed(e.parent),i||this.redraw(),this.trigger("show_node",{node:e})))},hide_all:function(e){var i,n=this._model.data,o=[];for(i in n)n.hasOwnProperty(i)&&i!==t.jstree.root&&!n[i].state.hidden&&(n[i].state.hidden=!0,o.push(i));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("hide_all",{nodes:o}),o},show_all:function(e){var i,n=this._model.data,o=[];for(i in n)n.hasOwnProperty(i)&&i!==t.jstree.root&&n[i].state.hidden&&(n[i].state.hidden=!1,o.push(i));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("show_all",{nodes:o}),o},activate_node:function(t,i){if(this.is_disabled(t))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==e?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(t)&&this.get_parent(t)===this._data.core.last_clicked.parent))if(i.shiftKey){var n,o,r=this.get_node(t).id,s=this._data.core.last_clicked.id,a=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(n=0,o=a.length;o>n;n+=1)a[n]===r&&(l=!l),a[n]===s&&(l=!l),this.is_disabled(a[n])||!l&&a[n]!==r&&a[n]!==s?this.deselect_node(a[n],!0,i):this.is_hidden(a[n])||this.select_node(a[n],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(t),selected:this._data.core.selected,event:i})}else this.is_selected(t)?this.deselect_node(t,!1,i):this.select_node(t,!1,!1,i);else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(t)?this.deselect_node(t,!1,i):(this.deselect_all(!0),this.select_node(t,!1,!1,i),this._data.core.last_clicked=this.get_node(t));this.trigger("activate_node",{node:this.get_node(t),event:i})},hover_node:function(t){if(!(t=this.get_node(t,!0))||!t.length||t.children(".jstree-hovered").length)return!1;var e=this.element.find(".jstree-hovered"),i=this.element;e&&e.length&&this.dehover_node(e),t.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(t)}),setTimeout(function(){i.attr("aria-activedescendant",t[0].id)},0)},dehover_node:function(t){return!!((t=this.get_node(t,!0))&&t.length&&t.children(".jstree-hovered").length)&&(t.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(t)}))},select_node:function(e,i,n,o){var r,s,a;if(t.isArray(e)){for(s=0,a=(e=e.slice()).length;a>s;s++)this.select_node(e[s],i,n,o);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(r=this.get_node(e,!0),void(e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),n||(r=this._open_to(e)),r&&r.length&&r.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:o}),i||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:o}))))},deselect_node:function(e,i,n){var o,r,s;if(t.isArray(e)){for(o=0,r=(e=e.slice()).length;r>o;o++)this.deselect_node(e[o],i,n);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(s=this.get_node(e,!0),void(e.state.selected&&(e.state.selected=!1,this._data.core.selected=t.vakata.array_remove_item(this._data.core.selected,e.id),s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:n}),i||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:n}))))},select_all:function(e){var i,n,o=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[t.jstree.root].children_d.concat(),i=0,n=this._data.core.selected.length;n>i;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:o})},deselect_all:function(t){var e,i,n=this._data.core.selected.concat([]);for(e=0,i=this._data.core.selected.length;i>e;e++)this._model.data[this._data.core.selected[e]]&&(this._model.data[this._data.core.selected[e]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:n}),t||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:n})},is_selected:function(e){return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&e.state.selected},get_selected:function(e){return e?t.map(this._data.core.selected,t.proxy(function(t){return this.get_node(t)},this)):this._data.core.selected.slice()},get_top_selected:function(e){var i,n,o,r,s=this.get_selected(!0),a={};for(i=0,n=s.length;n>i;i++)a[s[i].id]=s[i];for(i=0,n=s.length;n>i;i++)for(o=0,r=s[i].children_d.length;r>o;o++)a[s[i].children_d[o]]&&delete a[s[i].children_d[o]];for(i in s=[],a)a.hasOwnProperty(i)&&s.push(i);return e?t.map(s,t.proxy(function(t){return this.get_node(t)},this)):s},get_bottom_selected:function(e){var i,n,o=this.get_selected(!0),r=[];for(i=0,n=o.length;n>i;i++)o[i].children.length||r.push(o[i].id);return e?t.map(r,t.proxy(function(t){return this.get_node(t)},this)):r},get_state:function(){var e,i={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&e!==t.jstree.root&&(this._model.data[e].state.loaded&&this.settings.core.loaded_state&&i.core.loaded.push(e),this._model.data[e].state.opened&&i.core.open.push(e),this._model.data[e].state.selected&&i.core.selected.push(e));return i},set_state:function(i,n){if(i){if(i.core&&i.core.selected&&i.core.initial_selection===e&&(i.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),i.core){var o,r;if(i.core.loaded)return this.settings.core.loaded_state&&t.isArray(i.core.loaded)&&i.core.loaded.length?this._load_nodes(i.core.loaded,function(){delete i.core.loaded,this.set_state(i,n)}):(delete i.core.loaded,this.set_state(i,n)),!1;if(i.core.open)return t.isArray(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(t){this.open_node(t,!1,0),delete i.core.open,this.set_state(i,n)}):(delete i.core.open,this.set_state(i,n)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==e&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==e&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,n),!1;if(i.core.selected)return o=this,(i.core.initial_selection===e||i.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),t.each(i.core.selected,function(t,e){o.select_node(e,!1,!0)})),delete i.core.initial_selection,delete i.core.selected,this.set_state(i,n),!1;for(r in i)i.hasOwnProperty(r)&&"core"!==r&&-1===t.inArray(r,this.settings.plugins)&&delete i[r];if(t.isEmptyObject(i.core))return delete i.core,this.set_state(i,n),!1}return!t.isEmptyObject(i)||(i=null,n&&n.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(e,i){this._data.core.state=!0===i?{}:this.get_state(),i&&t.isFunction(i)&&(this._data.core.state=i.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[t.jstree.root]={id:t.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var n=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(t.jstree.root,function(e,i){i&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(t.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(e){if(!(e=this.get_node(e))||e.id===t.jstree.root)return!1;var i=[],n=[],o=this._data.core.selected.concat([]);n.push(e.id),!0===e.state.opened&&i.push(e.id),this.get_node(e,!0).find(".jstree-open").each(function(){n.push(this.id),i.push(this.id)}),this._load_nodes(n,t.proxy(function(t){this.open_node(i,!1,0),this.select_node(o),this.trigger("refresh_node",{node:e,nodes:t})},this),!1,!0)},set_id:function(e,i){if(!(e=this.get_node(e))||e.id===t.jstree.root)return!1;var n,o,r=this._model.data,s=e.id;for(i=i.toString(),r[e.parent].children[t.inArray(e.id,r[e.parent].children)]=i,n=0,o=e.parents.length;o>n;n++)r[e.parents[n]].children_d[t.inArray(e.id,r[e.parents[n]].children_d)]=i;for(n=0,o=e.children.length;o>n;n++)r[e.children[n]].parent=i;for(n=0,o=e.children_d.length;o>n;n++)r[e.children_d[n]].parents[t.inArray(e.id,r[e.children_d[n]].parents)]=i;return-1!==(n=t.inArray(e.id,this._data.core.selected))&&(this._data.core.selected[n]=i),(n=this.get_node(e.id,!0))&&(n.attr("id",i),this.element.attr("aria-activedescendant")===e.id&&this.element.attr("aria-activedescendant",i)),delete r[e.id],e.id=i,e.li_attr.id=i,r[i]=e,this.trigger("set_id",{node:e,"new":e.id,old:s}),!0},get_text:function(e){return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&e.text},set_text:function(e,i){var n,o;if(t.isArray(e)){for(n=0,o=(e=e.slice()).length;o>n;n++)this.set_text(e[n],i);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(e.text=i,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:i}),!0)},get_json:function(e,i,n){if(!(e=this.get_node(e||t.jstree.root)))return!1;i&&i.flat&&!n&&(n=[]);var o,r,s={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:t.extend(!0,{},e.li_attr),a_attr:t.extend(!0,{},e.a_attr),state:{},data:(!i||!i.no_data)&&t.extend(!0,t.isArray(e.data)?[]:{},e.data)};if(i&&i.flat?s.parent=e.parent:s.children=[],i&&i.no_state)delete s.state;else for(o in e.state)e.state.hasOwnProperty(o)&&(s.state[o]=e.state[o]);if(i&&i.no_li_attr&&delete s.li_attr,i&&i.no_a_attr&&delete s.a_attr,i&&i.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),i&&i.flat&&e.id!==t.jstree.root&&n.push(s),!i||!i.no_children)for(o=0,r=e.children.length;r>o;o++)i&&i.flat?this.get_json(e.children[o],i,n):s.children.push(this.get_json(e.children[o],i));return i&&i.flat?n:e.id===t.jstree.root?s.children:s},create_node:function(i,n,o,r,s){if(null===i&&(i=t.jstree.root),!(i=this.get_node(i)))return!1;if(!(o=o===e?"last":o).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,n,o,r,!0)});var a,l,h,c;switch(n||(n={text:this.get_string("New node")}),(n="string"==typeof n?{text:n}:t.extend(!0,{},n)).text===e&&(n.text=this.get_string("New node")),i.id===t.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":a=this.get_node(i.parent),o=t.inArray(i.id,a.children),i=a;break;case"after":a=this.get_node(i.parent),o=t.inArray(i.id,a.children)+1,i=a;break;case"inside":case"first":o=0;break;case"last":o=i.children.length;break;default:o||(o=0)}if(o>i.children.length&&(o=i.children.length),n.id||(n.id=!0),!this.check("create_node",n,i,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===n.id&&delete n.id,!(n=this._parse_model_from_json(n,i.id,i.parents.concat())))return!1;for(a=this.get_node(n),(l=[]).push(n),l=l.concat(a.children_d),this.trigger("model",{nodes:l,parent:i.id}),i.children_d=i.children_d.concat(l),h=0,c=i.parents.length;c>h;h++)this._model.data[i.parents[h]].children_d=this._model.data[i.parents[h]].children_d.concat(l);for(n=a,a=[],h=0,c=i.children.length;c>h;h++)a[h>=o?h+1:h]=i.children[h];return a[o]=n.id,i.children=a,this.redraw_node(i,!0),this.trigger("create_node",{node:this.get_node(n),parent:i.id,position:o}),r&&r.call(this,this.get_node(n)),n.id},rename_node:function(e,i){var n,o,r;if(t.isArray(e)){for(n=0,o=(e=e.slice()).length;o>n;n++)this.rename_node(e[n],i);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(r=e.text,this.check("rename_node",e,this.get_parent(e),i)?(this.set_text(e,i),this.trigger("rename_node",{node:e,text:i,old:r}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(e){var i,n,o,r,s,a,l,h,c,d,u,f;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.delete_node(e[i]);return!0}if(!(e=this.get_node(e))||e.id===t.jstree.root)return!1;if(o=this.get_node(e.parent),r=t.inArray(e.id,o.children),d=!1,!this.check("delete_node",e,o,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==r&&(o.children=t.vakata.array_remove(o.children,r)),(s=e.children_d.concat([])).push(e.id),a=0,l=e.parents.length;l>a;a++)this._model.data[e.parents[a]].children_d=t.vakata.array_filter(this._model.data[e.parents[a]].children_d,function(e){return-1===t.inArray(e,s)});for(h=0,c=s.length;c>h;h++)if(this._model.data[s[h]].state.selected){d=!0;break}for(d&&(this._data.core.selected=t.vakata.array_filter(this._data.core.selected,function(e){return-1===t.inArray(e,s)})),this.trigger("delete_node",{node:e,parent:o.id}),d&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:o.id}),h=0,c=s.length;c>h;h++)delete this._model.data[s[h]];return-1!==t.inArray(this._data.core.focused,s)&&(this._data.core.focused=null,u=this.element[0].scrollTop,f=this.element[0].scrollLeft,o.id===t.jstree.root?this._model.data[t.jstree.root].children[0]&&this.get_node(this._model.data[t.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(o,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=f),this.redraw_node(o,!0),!0},check:function(e,i,n,o,r){i=i&&i.id?i:this.get_node(i),n=n&&n.id?n:this.get_node(n);var s=e.match(/^move_node|copy_node|create_node$/i)?n:i,a=this.settings.core.check_callback;return"move_node"!==e&&"copy_node"!==e||r&&r.is_multi||i.id!==n.id&&("move_node"!==e||t.inArray(i.id,n.children)!==o)&&-1===t.inArray(n.id,i.children_d)?(s&&s.data&&(s=s.data),s&&s.functions&&(!1===s.functions[e]||!0===s.functions[e])?(!1===s.functions[e]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})}),s.functions[e]):!(!1===a||t.isFunction(a)&&!1===a.call(this,e,i,n,o,r)||a&&!1===a[e])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:o,obj:!(!i||!i.id)&&i.id,par:!(!n||!n.id)&&n.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,n,o,r,s,a,l){var h,c,d,u,f,p,g,m,_,v,y,b,x,w;if(n=this.get_node(n),o=o===e?0:o,!n)return!1;if(!o.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return this.load_node(n,function(){this.move_node(i,n,o,r,!0,!1,l)});if(t.isArray(i)){if(1!==i.length){for(h=0,c=i.length;c>h;h++)(_=this.move_node(i[h],n,o,r,s,!1,l))&&(n=_,o="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id?i:this.get_node(i))||i.id===t.jstree.root)return!1;if(d=(i.parent||t.jstree.root).toString(),f=o.toString().match(/^(before|after)$/)&&n.id!==t.jstree.root?this.get_node(n.parent):n,g=!(p=l||(this._model.data[i.id]?this:t.jstree.reference(i.id)))||!p._id||this._id!==p._id,u=p&&p._id&&d&&p._model.data[d]&&p._model.data[d].children?t.inArray(i.id,p._model.data[d].children):-1,p&&p._id&&(i=p._model.data[i.id]),g)return!!(_=this.copy_node(i,n,o,r,s,!1,l))&&(p&&p.delete_node(i),_);switch(n.id===t.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":o=t.inArray(n.id,f.children);break;case"after":o=t.inArray(n.id,f.children)+1;break;case"inside":case"first":o=0;break;case"last":o=f.children.length;break;default:o||(o=0)}if(o>f.children.length&&(o=f.children.length),!this.check("move_node",i,f,o,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===f.id){for(m=f.children.concat(),-1!==(_=t.inArray(i.id,m))&&(m=t.vakata.array_remove(m,_),o>_&&o--),_=[],v=0,y=m.length;y>v;v++)_[v>=o?v+1:v]=m[v];_[o]=i.id,f.children=_,this._node_changed(f.id),this.redraw(f.id===t.jstree.root)}else{for((_=i.children_d.concat()).push(i.id),v=0,y=i.parents.length;y>v;v++){for(m=[],b=0,x=(w=p._model.data[i.parents[v]].children_d).length;x>b;b++)-1===t.inArray(w[b],_)&&m.push(w[b]);p._model.data[i.parents[v]].children_d=m}for(p._model.data[d].children=t.vakata.array_remove_item(p._model.data[d].children,i.id),v=0,y=f.parents.length;y>v;v++)this._model.data[f.parents[v]].children_d=this._model.data[f.parents[v]].children_d.concat(_);for(m=[],v=0,y=f.children.length;y>v;v++)m[v>=o?v+1:v]=f.children[v];for(m[o]=i.id,f.children=m,f.children_d.push(i.id),f.children_d=f.children_d.concat(i.children_d),i.parent=f.id,(_=f.parents.concat()).unshift(f.id),w=i.parents.length,i.parents=_,_=_.concat(),v=0,y=i.children_d.length;y>v;v++)this._model.data[i.children_d[v]].parents=this._model.data[i.children_d[v]].parents.slice(0,-1*w),Array.prototype.push.apply(this._model.data[i.children_d[v]].parents,_);(d===t.jstree.root||f.id===t.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(d),this._node_changed(f.id)),a||this.redraw()}return r&&r.call(this,i,f,o),this.trigger("move_node",{node:i,parent:f.id,position:o,old_parent:d,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),i.id},copy_node:function(i,n,o,r,s,a,l){var h,c,d,u,f,p,g,m,_,v;if(n=this.get_node(n),o=o===e?0:o,!n)return!1;if(!o.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return this.load_node(n,function(){this.copy_node(i,n,o,r,!0,!1,l)});if(t.isArray(i)){if(1!==i.length){for(h=0,c=i.length;c>h;h++)(u=this.copy_node(i[h],n,o,r,s,!0,l))&&(n=u,o="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id?i:this.get_node(i))||i.id===t.jstree.root)return!1;switch(m=(i.parent||t.jstree.root).toString(),_=o.toString().match(/^(before|after)$/)&&n.id!==t.jstree.root?this.get_node(n.parent):n,!(v=l||(this._model.data[i.id]?this:t.jstree.reference(i.id)))||!v._id||this._id!==v._id,v&&v._id&&(i=v._model.data[i.id]),n.id===t.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":o=t.inArray(n.id,_.children);break;case"after":o=t.inArray(n.id,_.children)+1;break;case"inside":case"first":o=0;break;case"last":o=_.children.length;break;default:o||(o=0)}if(o>_.children.length&&(o=_.children.length),!this.check("copy_node",i,_,o,{core:!0,origin:l,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,_.id,_.parents.concat())))return!1;for(u=this.get_node(g),i&&i.state&&!1===i.state.loaded&&(u.state.loaded=!1),(d=[]).push(g),d=d.concat(u.children_d),this.trigger("model",{nodes:d,parent:_.id}),f=0,p=_.parents.length;p>f;f++)this._model.data[_.parents[f]].children_d=this._model.data[_.parents[f]].children_d.concat(d);for(d=[],f=0,p=_.children.length;p>f;f++)d[f>=o?f+1:f]=_.children[f];return d[o]=u.id,_.children=d,_.children_d.push(u.id),_.children_d=_.children_d.concat(u.children_d),_.id===t.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(_.id),a||this.redraw(_.id===t.jstree.root),r&&r.call(this,u,_,o),this.trigger("copy_node",{node:u,original:i,parent:_.id,position:o,old_parent:m,old_position:v&&v._id&&m&&v._model.data[m]&&v._model.data[m].children?t.inArray(i.id,v._model.data[m].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(e){if(e||(e=this._data.core.selected.concat()),t.isArray(e)||(e=[e]),!e.length)return!1;var i,s,a,l=[];for(s=0,a=e.length;a>s;s++)(i=this.get_node(e[s]))&&i.id&&i.id!==t.jstree.root&&l.push(i);return!!l.length&&(n=l,r=this,o="move_node",void this.trigger("cut",{node:e}))},copy:function(e){if(e||(e=this._data.core.selected.concat()),t.isArray(e)||(e=[e]),!e.length)return!1;var i,s,a,l=[];for(s=0,a=e.length;a>s;s++)(i=this.get_node(e[s]))&&i.id&&i.id!==t.jstree.root&&l.push(i);return!!l.length&&(n=l,r=this,o="copy_node",void this.trigger("copy",{node:e}))},get_buffer:function(){return{mode:o,node:n,inst:r}},can_paste:function(){return!1!==o&&!1!==n},paste:function(t,e){return!!((t=this.get_node(t))&&o&&o.match(/^(copy_node|move_node)$/)&&n)&&(this[o](n,t,e,!1,!1,!1,r)&&this.trigger("paste",{parent:t.id,node:n,mode:o}),n=!1,o=!1,void(r=!1))},clear_buffer:function(){n=!1,o=!1,r=!1,this.trigger("clear_buffer")},edit:function(e,i,n){var o,r,s,a,h,c,d,u,f,p=!1;return!!(e=this.get_node(e))&&(this.check("edit",e,this.get_parent(e))?(f=e,i="string"==typeof i?i:e.text,this.set_text(e,""),e=this._open_to(e),f.text=i,o=this._data.core.rtl,r=this.element.width(),this._data.core.focused=f.id,s=e.children(".jstree-anchor").focus(),a=t("<span>"),h=i,c=t("<div />",{css:{position:"absolute",top:"-200px",left:o?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),d=t("<input />",{value:h,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:t.proxy(function(i){i.stopImmediatePropagation(),i.preventDefault();var o,r=a.children(".jstree-rename-input").val(),l=this.settings.core.force_text;""===r&&(r=h),c.remove(),a.replaceWith(s),a.remove(),h=l?h:t("<div></div>").append(t.parseHTML(h)).html(),e=this.get_node(e),this.set_text(e,h),(o=!!this.rename_node(e,l?t("<div></div>").text(r).text():t("<div></div>").append(t.parseHTML(r)).html()))||this.set_text(e,h),this._data.core.focused=f.id,setTimeout(t.proxy(function(){var t=this.get_node(f.id,!0);t.length&&(this._data.core.focused=f.id,t.children(".jstree-anchor").focus())},this),0),n&&n.call(this,f,o,p),d=null},this),keydown:function(t){var e=t.which;27===e&&(p=!0,this.value=h),
(27===e||13===e||37===e||38===e||39===e||40===e||32===e)&&t.stopImmediatePropagation(),(27===e||13===e)&&(t.preventDefault(),this.blur())},click:function(t){t.stopImmediatePropagation()},mousedown:function(t){t.stopImmediatePropagation()},keyup:function(){d.width(Math.min(c.text("pW"+this.value).width(),r))},keypress:function(t){return 13!==t.which&&void 0}}),u={fontFamily:s.css("fontFamily")||"",fontSize:s.css("fontSize")||"",fontWeight:s.css("fontWeight")||"",fontStyle:s.css("fontStyle")||"",fontStretch:s.css("fontStretch")||"",fontVariant:s.css("fontVariant")||"",letterSpacing:s.css("letterSpacing")||"",wordSpacing:s.css("wordSpacing")||""},a.attr("class",s.attr("class")).append(s.contents().clone()).append(d),s.replaceWith(a),c.css(u),d.css(u).width(Math.min(c.text("pW"+d[0].value).width(),r))[0].select(),void t(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(e){d&&e.target!==d&&t(d).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(e,i){if(!e)return!1;if(!0===i){var n=this.settings.core.themes.dir;n||(n=t.jstree.path+"/themes"),i=n+"/"+e+"/style.css"}i&&-1===t.inArray(i,s)&&(t("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),s.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(t){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=t,t&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(i,n){var o,r,s,a;if(t.isArray(i)){for(o=0,r=(i=i.slice()).length;r>o;o++)this.set_icon(i[o],n);return!0}return!(!(i=this.get_node(i))||i.id===t.jstree.root)&&(a=i.icon,i.icon=!0===n||null===n||n===e||""===n||n,s=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===n?(s.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),this.hide_icon(i)):!0===n||null===n||n===e||""===n?(s.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),!1===a&&this.show_icon(i)):-1===n.indexOf("/")&&-1===n.indexOf(".")?(s.removeClass(a).css("background",""),s.addClass(n+" jstree-themeicon-custom").attr("rel",n),!1===a&&this.show_icon(i)):(s.removeClass(a).css("background",""),s.addClass("jstree-themeicon-custom").css("background","url('"+n+"') center center no-repeat").attr("rel",n),!1===a&&this.show_icon(i)),!0)},get_icon:function(e){return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&e.icon},hide_icon:function(e){var i,n;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.hide_icon(e[i]);return!0}return!(!(e=this.get_node(e))||e===t.jstree.root)&&(e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(e){var i,n,o;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.show_icon(e[i]);return!0}return!(!(e=this.get_node(e))||e===t.jstree.root)&&(o=this.get_node(e,!0),e.icon=!o.length||o.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),e.icon||(e.icon=!0),o.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},t.vakata={},t.vakata.attributes=function(e,i){e=t(e)[0];var n=i?{}:[];return e&&e.attributes&&t.each(e.attributes,function(e,o){-1===t.inArray(o.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==o.value&&""!==t.trim(o.value)&&(i?n[o.name]=o.value:n.push(o.name))}),n},t.vakata.array_unique=function(t){var i,n,o=[],r={};for(i=0,n=t.length;n>i;i++)r[t[i]]===e&&(o.push(t[i]),r[t[i]]=!0);return o},t.vakata.array_remove=function(t,e){return t.splice(e,1),t},t.vakata.array_remove_item=function(e,i){var n=t.inArray(i,e);return-1!==n?t.vakata.array_remove(e,n):e},t.vakata.array_filter=function(t,e,i,n,o){if(t.filter)return t.filter(e,i);for(o in n=[],t)~~o+""==o+""&&o>=0&&e.call(i,t[o],+o,t)&&n.push(t[o]);return n},t.jstree.plugins.changed=function(t,e){var i=[];this.trigger=function(t,n){var o,r;if(n||(n={}),"changed"===t.replace(".jstree","")){n.changed={selected:[],deselected:[]};var s={};for(o=0,r=i.length;r>o;o++)s[i[o]]=1;for(o=0,r=n.selected.length;r>o;o++)s[n.selected[o]]?s[n.selected[o]]=2:n.changed.selected.push(n.selected[o]);for(o=0,r=i.length;r>o;o++)1===s[i[o]]&&n.changed.deselected.push(i[o]);i=n.selected.slice()}e.trigger.call(this,t,n)},this.refresh=function(){return i=[],e.refresh.apply(this,arguments)}};var h,c,d=l.createElement("I");d.className="jstree-icon jstree-checkbox",d.setAttribute("role","presentation"),t.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},t.jstree.plugins.checkbox=function(i,n){this.bind=function(){n.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",t.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",t.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",t.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(t.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",t.proxy(function(t,e){var i,n,o=this._model.data,r=(o[e.parent],e.nodes);for(i=0,n=r.length;n>i;i++)o[r[i]].state.checked=o[r[i]].state.checked||o[r[i]].original&&o[r[i]].original.state&&o[r[i]].original.state.checked,o[r[i]].state.checked&&this._data.checkbox.selected.push(r[i])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",t.proxy(function(e,i){var n,o,r,s,a,l,h=this._model.data,c=h[i.parent],d=i.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(c.state[p?"selected":"checked"]){for(o=0,r=d.length;r>o;o++)h[d[o]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(d)}else for(o=0,r=d.length;r>o;o++)if(h[d[o]].state[p?"selected":"checked"]){for(s=0,a=h[d[o]].children_d.length;a>s;s++)h[h[d[o]].children_d[s]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h[d[o]].children_d)}if(-1!==f.indexOf("up")){for(o=0,r=c.children_d.length;r>o;o++)h[c.children_d[o]].children.length||u.push(h[c.children_d[o]].parent);for(s=0,a=(u=t.vakata.array_unique(u)).length;a>s;s++)for(c=h[u[s]];c&&c.id!==t.jstree.root;){for(n=0,o=0,r=c.children.length;r>o;o++)n+=h[c.children[o]].state[p?"selected":"checked"];if(n!==r)break;c.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(c.id),(l=this.get_node(c,!0))&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[p?"core":"checkbox"].selected=t.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",t.proxy(function(e,i){var n,o,r,s,a=i.node,l=this._model.data,h=this.get_node(a.parent),c=this.settings.checkbox.cascade,d=this.settings.checkbox.tie_selection,u={},f=this._data[d?"core":"checkbox"].selected;for(n=0,o=f.length;o>n;n++)u[f[n]]=!0;if(-1!==c.indexOf("down")){var p=this._cascade_new_checked_state(a.id,!0),g=a.children_d.concat(a.id);for(n=0,o=g.length;o>n;n++)p.indexOf(g[n])>-1?u[g[n]]=!0:delete u[g[n]]}if(-1!==c.indexOf("up"))for(;h&&h.id!==t.jstree.root;){for(r=0,n=0,o=h.children.length;o>n;n++)r+=l[h.children[n]].state[d?"selected":"checked"];if(r!==o)break;h.state[d?"selected":"checked"]=!0,u[h.id]=!0,(s=this.get_node(h,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(d?"jstree-clicked":"jstree-checked"),h=this.get_node(h.parent)}for(n in f=[],u)u.hasOwnProperty(n)&&f.push(n);this._data[d?"core":"checkbox"].selected=f},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",t.proxy(function(){var e,i,n,o=this.get_node(t.jstree.root),r=this._model.data;for(e=0,i=o.children_d.length;i>e;e++)(n=r[o.children_d[e]])&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",t.proxy(function(t,e){var i,n,o,r=e.node,s=(this.get_node(r,!0),this.settings.checkbox.cascade),a=this.settings.checkbox.tie_selection,l=this._data[a?"core":"checkbox"].selected,h=r.children_d.concat(r.id);if(-1!==s.indexOf("down")){var c=this._cascade_new_checked_state(r.id,!1);l=l.filter(function(t){return-1===h.indexOf(t)||c.indexOf(t)>-1})}if(-1!==s.indexOf("up")&&-1===l.indexOf(r.id)){for(i=0,n=r.parents.length;n>i;i++)(o=this._model.data[r.parents[i]]).state[a?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),(o=this.get_node(r.parents[i],!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(a?"jstree-clicked":"jstree-checked");l=l.filter(function(t){return-1===r.parents.indexOf(t)})}this._data[a?"core":"checkbox"].selected=l},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",t.proxy(function(e,i){for(var n,o,r,s,a=this.get_node(i.parent),l=this._model.data,h=this.settings.checkbox.tie_selection;a&&a.id!==t.jstree.root&&!a.state[h?"selected":"checked"];){for(r=0,n=0,o=a.children.length;o>n;n++)r+=l[a.children[n]].state[h?"selected":"checked"];if(!(o>0&&r===o))break;a.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(a.id),(s=this.get_node(a,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}},this)).on("move_node.jstree",t.proxy(function(e,i){var n,o,r,s,a,l=i.is_multi,h=i.old_parent,c=this.get_node(i.parent),d=this._model.data,u=this.settings.checkbox.tie_selection;if(!l)for(n=this.get_node(h);n&&n.id!==t.jstree.root&&!n.state[u?"selected":"checked"];){for(o=0,r=0,s=n.children.length;s>r;r++)o+=d[n.children[r]].state[u?"selected":"checked"];if(!(s>0&&o===s))break;n.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),n=this.get_node(n.parent)}for(n=c;n&&n.id!==t.jstree.root;){for(o=0,r=0,s=n.children.length;s>r;r++)o+=d[n.children[r]].state[u?"selected":"checked"];if(o===s)n.state[u?"selected":"checked"]||(n.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!n.state[u?"selected":"checked"])break;n.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=t.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,n.id),(a=this.get_node(n,!0))&&a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}n=this.get_node(n.parent)}},this))},this.get_undetermined=function(i){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var n,o,r,s,a={},l=this._model.data,h=this.settings.checkbox.tie_selection,c=this._data[h?"core":"checkbox"].selected,d=[],u=this,f=[];for(n=0,o=c.length;o>n;n++)if(l[c[n]]&&l[c[n]].parents)for(r=0,s=l[c[n]].parents.length;s>r&&a[l[c[n]].parents[r]]===e;r++)l[c[n]].parents[r]!==t.jstree.root&&(a[l[c[n]].parents[r]]=!0,d.push(l[c[n]].parents[r]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var i,h=u.get_node(this);if(h)if(h.state.loaded){for(n=0,o=h.children_d.length;o>n;n++)if(!(i=l[h.children_d[n]]).state.loaded&&i.original&&i.original.state&&i.original.state.undetermined&&!0===i.original.state.undetermined)for(a[i.id]===e&&i.id!==t.jstree.root&&(a[i.id]=!0,d.push(i.id)),r=0,s=i.parents.length;s>r;r++)a[i.parents[r]]===e&&i.parents[r]!==t.jstree.root&&(a[i.parents[r]]=!0,d.push(i.parents[r]))}else if(h.original&&h.original.state&&h.original.state.undetermined&&!0===h.original.state.undetermined)for(a[h.id]===e&&h.id!==t.jstree.root&&(a[h.id]=!0,d.push(h.id)),r=0,s=h.parents.length;s>r;r++)a[h.parents[r]]===e&&h.parents[r]!==t.jstree.root&&(a[h.parents[r]]=!0,d.push(h.parents[r]))}),n=0,o=d.length;o>n;n++)l[d[n]].state[h?"selected":"checked"]||f.push(i?l[d[n]]:d[n]);return f},this._undetermined=function(){if(null!==this.element){var t,e,i,n=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),t=0,e=n.length;e>t;t++)(i=this.get_node(n[t],!0))&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,i,o){if(e=n.redraw_node.apply(this,arguments)){var r,s,a=null,l=null;for(r=0,s=e.childNodes.length;s>r;r++)if(e.childNodes[r]&&e.childNodes[r].className&&-1!==e.childNodes[r].className.indexOf("jstree-anchor")){a=e.childNodes[r];break}a&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(a.className+=" jstree-checked"),l=d.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(l.className+=" jstree-checkbox-disabled"),a.insertBefore(l,a.childNodes[0]))}return o||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(t.proxy(this._undetermined,this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(e){e=this.get_node(e);var i,n,o=this.settings.checkbox.cascade,r=this.settings.checkbox.tie_selection,s=this._data[r?"core":"checkbox"].selected,a=this._model.data;if(!e||!0===e.state[r?"selected":"checked"]||-1===o.indexOf("undetermined")||-1===o.indexOf("down")&&-1===o.indexOf("up"))return!1;if(!e.state.loaded&&!0===e.original.state.undetermined)return!0;for(i=0,n=e.children_d.length;n>i;i++)if(-1!==t.inArray(e.children_d[i],s)||!a[e.children_d[i]].state.loaded&&a[e.children_d[i]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(e){var i,n,o;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.disable_checkbox(e[i]);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(o=this.get_node(e,!0),void(e.state.checkbox_disabled||(e.state.checkbox_disabled=!0,o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:e}))))},this.enable_checkbox=function(e){var i,n,o;if(t.isArray(e)){for(i=0,n=(e=e.slice()).length;n>i;i++)this.enable_checkbox(e[i]);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(o=this.get_node(e,!0),void(e.state.checkbox_disabled&&(e.state.checkbox_disabled=!1,o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:e}))))},this.activate_node=function(e,i){return!t(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||t(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!t(i.target).hasClass("jstree-checkbox")?n.activate_node.call(this,e,i):!this.is_disabled(e)&&(this.is_checked(e)?this.uncheck_node(e,i):this.check_node(e,i),void this.trigger("activate_node",{node:this.get_node(e)})))},this._cascade_new_checked_state=function(t,e){var i,n,o,r=this,s=this.settings.checkbox.tie_selection,a=this._model.data[t],l=[],h=[];if(!this.settings.checkbox.cascade_to_disabled&&a.state.disabled||!this.settings.checkbox.cascade_to_hidden&&a.state.hidden)o=this.get_checked_descendants(t),a.state[s?"selected":"checked"]&&o.push(a.id),l=l.concat(o);else{if(a.children)for(i=0,n=a.children.length;n>i;i++){var c=a.children[i];o=r._cascade_new_checked_state(c,e),l=l.concat(o),o.indexOf(c)>-1&&h.push(c)}var d=r.get_node(a,!0),u=h.length>0&&h.length<a.children.length;a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=u),u?(a.state[s?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked")):e&&h.length===a.children.length?(a.state[s?"selected":"checked"]=e,l.push(a.id),d.attr("aria-selected",!0).children(".jstree-anchor").addClass(s?"jstree-clicked":"jstree-checked")):(a.state[s?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked"))}return l},this.get_checked_descendants=function(t){var e=this,i=e.settings.checkbox.tie_selection;return e._model.data[t].children_d.filter(function(t){return e._model.data[t].state[i?"selected":"checked"]})},this.check_node=function(e,i){if(this.settings.checkbox.tie_selection)return this.select_node(e,!1,!0,i);var n,o,r;if(t.isArray(e)){for(o=0,r=(e=e.slice()).length;r>o;o++)this.check_node(e[o],i);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(n=this.get_node(e,!0),void(e.state.checked||(e.state.checked=!0,this._data.checkbox.selected.push(e.id),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:e,selected:this._data.checkbox.selected,event:i}))))},this.uncheck_node=function(e,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(e,!1,i);var n,o,r;if(t.isArray(e)){for(n=0,o=(e=e.slice()).length;o>n;n++)this.uncheck_node(e[n],i);return!0}return!(!(e=this.get_node(e))||e.id===t.jstree.root)&&(r=this.get_node(e,!0),void(e.state.checked&&(e.state.checked=!1,this._data.checkbox.selected=t.vakata.array_remove_item(this._data.checkbox.selected,e.id),r.length&&r.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:e,selected:this._data.checkbox.selected,event:i}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var e,i;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[t.jstree.root].children_d.concat(),e=0,i=this._data.checkbox.selected.length;i>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var t,e,i=this._data.checkbox.selected.concat([]);for(t=0,e=this._data.checkbox.selected.length;e>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):!(!(e=this.get_node(e))||e.id===t.jstree.root)&&e.state.checked},this.get_checked=function(e){return this.settings.checkbox.tie_selection?this.get_selected(e):e?t.map(this._data.checkbox.selected,t.proxy(function(t){return this.get_node(t)},this)):this._data.checkbox.selected},this.get_top_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_top_selected(e);var i,n,o,r,s=this.get_checked(!0),a={};for(i=0,n=s.length;n>i;i++)a[s[i].id]=s[i];for(i=0,n=s.length;n>i;i++)for(o=0,r=s[i].children_d.length;r>o;o++)a[s[i].children_d[o]]&&delete a[s[i].children_d[o]];for(i in s=[],a)a.hasOwnProperty(i)&&s.push(i);return e?t.map(s,t.proxy(function(t){return this.get_node(t)},this)):s},this.get_bottom_checked=function(e){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(e);var i,n,o=this.get_checked(!0),r=[];for(i=0,n=o.length;n>i;i++)o[i].children.length||r.push(o[i].id);return e?t.map(r,t.proxy(function(t){return this.get_node(t)},this)):r},this.load_node=function(e){var i,o,r;if(!t.isArray(e)&&!this.settings.checkbox.tie_selection&&((r=this.get_node(e))&&r.state.loaded))for(i=0,o=r.children_d.length;o>i;i++)this._model.data[r.children_d[i]].state.checked&&(!0,this._data.checkbox.selected=t.vakata.array_remove_item(this._data.checkbox.selected,r.children_d[i]));return n.load_node.apply(this,arguments)},this.get_state=function(){var t=n.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?t:(t.checkbox=this._data.checkbox.selected.slice(),t)},this.set_state=function(e,i){var o=n.set_state.apply(this,arguments);if(o&&e.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var r=this;t.each(e.checkbox,function(t,e){r.check_node(e)})}return delete e.checkbox,this.set_state(e,i),!1}return o},this.refresh=function(){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),n.refresh.apply(this,arguments)}},t.jstree.defaults.conditionalselect=function(){return!0},t.jstree.plugins.conditionalselect=function(t,e){this.activate_node=function(t,i){return this.settings.conditionalselect.call(this,this.get_node(t),i)?e.activate_node.call(this,t,i):void 0}},t.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(e){var i=t.jstree.reference(e.reference),n=i.get_node(e.reference);i.create_node(n,{},"last",function(t){try{i.edit(t)}catch(e){setTimeout(function(){i.edit(t)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(e){var i=t.jstree.reference(e.reference),n=i.get_node(e.reference);i.edit(n)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(e){var i=t.jstree.reference(e.reference),n=i.get_node(e.reference);i.is_selected(n)?i.delete_node(i.get_selected()):i.delete_node(n)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){var i=t.jstree.reference(e.reference),n=i.get_node(e.reference);i.is_selected(n)?i.cut(i.get_top_selected()):i.cut(n)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){var i=t.jstree.reference(e.reference),n=i.get_node(e.reference);i.is_selected(n)?i.copy(i.get_top_selected()):i.copy(n)}},paste:{separator_before:!1,icon:!1,_disabled:function(e){return!t.jstree.reference(e.reference).can_paste()},separator_after:!1,label:"Paste",action:function(e){var i=t.jstree.reference(e.reference),n=i.get_node(e.reference);i.paste(n)}}}}}}},t.jstree.plugins.contextmenu=function(i,n){this.bind=function(){n.bind.call(this);var e,i,o=0,r=null;this.element.on("init.jstree loading.jstree ready.jstree",t.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",t.proxy(function(t,e){"input"!==t.target.tagName.toLowerCase()&&(t.preventDefault(),o=t.ctrlKey?+new Date:0,(e||r)&&(o=+new Date+1e4),r&&clearTimeout(r),this.is_loading(t.currentTarget)||this.show_contextmenu(t.currentTarget,t.pageX,t.pageY,t))},this)).on("click.jstree",".jstree-anchor",t.proxy(function(){this._data.contextmenu.visible&&(!o||+new Date-o>250)&&t.vakata.context.hide(),o=0},this)).on("touchstart.jstree",".jstree-anchor",function(n){n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(e=n.originalEvent.changedTouches[0].clientX,i=n.originalEvent.changedTouches[0].clientY,r=setTimeout(function(){t(n.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(n){r&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(Math.abs(e-n.originalEvent.changedTouches[0].clientX)>10||Math.abs(i-n.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(r),t.vakata.context.hide())}).on("touchend.vakata.jstree",function(){r&&clearTimeout(r)}),t(l).on("context_hide.vakata.jstree",t.proxy(function(e,i){this._data.contextmenu.visible=!1,t(i.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&t.vakata.context.hide(),n.teardown.call(this)},this.show_contextmenu=function(i,n,o,r){if(!(i=this.get_node(i))||i.id===t.jstree.root)return!1;var s=this.settings.contextmenu,a=this.get_node(i,!0).children(".jstree-anchor"),l=!1,h=!1;(s.show_at_node||n===e||o===e)&&(l=a.offset(),n=l.left,o=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,r),h=s.items,t.isFunction(h)&&(h=h.call(this,i,t.proxy(function(t){this._show_contextmenu(i,n,o,t)},this))),t.isPlainObject(h)&&this._show_contextmenu(i,n,o,h)},this._show_contextmenu=function(e,i,n,o){var r=this.get_node(e,!0).children(".jstree-anchor");t(l).one("context_show.vakata.jstree",t.proxy(function(e,i){var n="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";t(i.element).addClass(n),r.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,t.vakata.context.show(r,{x:i,y:n},o),this.trigger("show_contextmenu",{node:e,x:i,y:n})}},function(t){var e=!1,i={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};t.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(e){t(l).triggerHandler("context_"+e+".vakata",{reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_execute:function(e){return!(!(e=i.items[e])||e._disabled&&(!t.isFunction(e._disabled)||e._disabled({item:e,reference:i.reference,element:i.element}))||!e.action)&&e.action.call(null,{item:e,reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_parse:function(e,n){if(!e)return!1;n||(i.html="",i.items=[]);var o,r="",s=!1;return n&&(r+="<ul>"),t.each(e,function(e,n){return!n||(i.items.push(n),!s&&n.separator_before&&(r+="<li class='vakata-context-separator'><a href='#' "+(t.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),s=!1,r+="<li class='"+(n._class||"")+(!0===n._disabled||t.isFunction(n._disabled)&&n._disabled({item:n,reference:i.reference,element:i.element})?" vakata-contextmenu-disabled ":"")+"' "+(n.shortcut?" data-shortcut='"+n.shortcut+"' ":"")+">",r+="<a href='#' rel='"+(i.items.length-1)+"' "+(n.title?"title='"+n.title+"'":"")+">",t.vakata.context.settings.icons&&(r+="<i ",n.icon&&(r+=-1!==n.icon.indexOf("/")||-1!==n.icon.indexOf(".")?" style='background:url(\""+n.icon+"\") center center no-repeat' ":" class='"+n.icon+"' "),r+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),r+=(t.isFunction(n.label)?n.label({item:e,reference:i.reference,element:i.element}):n.label)+(n.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+n.shortcut+'">'+(n.shortcut_label||"")+"</span>":"")+"</a>",n.submenu&&((o=t.vakata.context._parse(n.submenu,!0))&&(r+=o)),r+="</li>",void(n.separator_after&&(r+="<li class='vakata-context-separator'><a href='#' "+(t.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",s=!0)))}),r=r.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),n&&(r+="</ul>"),n||(i.html=r,t.vakata.context._trigger("parse")),r.length>10&&r},_show_submenu:function(i){if((i=t(i)).length&&i.children("ul").length){var n=i.children("ul"),o=i.offset().left,r=o+i.outerWidth(),s=i.offset().top,a=n.width(),l=n.height(),h=t(window).width()+t(window).scrollLeft(),c=t(window).height()+t(window).scrollTop();e?i[r-(a+10+i.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):i[r+a>h&&o>h-r?"addClass":"removeClass"]("vakata-context-right"),s+l+10>c&&n.css("bottom","-1px"),i.hasClass("vakata-context-right")?a>o&&n.css("margin-right",o-a):a>h-r&&n.css("margin-left",h-r-a),n.show()}},show:function(n,o,r){var s,a,h,c,d,u,f,p,g=!0;switch(i.element&&i.element.length&&i.element.width(""),g){case!o&&!n:return!1;case!!o&&!!n:i.reference=n,i.position_x=o.x,i.position_y=o.y;break;case!o&&!!n:i.reference=n,s=n.offset(),i.position_x=s.left+n.outerHeight(),i.position_y=s.top;break;case!!o&&!n:i.position_x=o.x,i.position_y=o.y}n&&!r&&t(n).data("vakata_contextmenu")&&(r=t(n).data("vakata_contextmenu")),t.vakata.context._parse(r)&&i.element.html(i.html),i.items.length&&(i.element.appendTo(l.body),a=i.element,h=i.position_x,c=i.position_y,d=a.width(),u=a.height(),f=t(window).width()+t(window).scrollLeft(),p=t(window).height()+t(window).scrollTop(),e&&((h-=a.outerWidth()-t(n).outerWidth())<t(window).scrollLeft()+20&&(h=t(window).scrollLeft()+20)),h+d+20>f&&(h=f-(d+20)),c+u+20>p&&(c=p-(u+20)),i.element.css({left:h,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),i.is_visible=!0,t.vakata.context._trigger("show"))},hide:function(){i.is_visible&&(i.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),i.is_visible=!1,t.vakata.context._trigger("hide"))}},t(function(){e="rtl"===t(l.body).css("direction");var n=!1;i.element=t("<ul class='vakata-context'></ul>"),i.element.on("mouseenter","li",function(e){e.stopImmediatePropagation(),t.contains(this,e.relatedTarget)||(n&&clearTimeout(n),i.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),t(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),t.vakata.context._show_submenu(this))}).on("mouseleave","li",function(e){t.contains(this,e.relatedTarget)||t(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(){t(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),
t.vakata.context.settings.hide_onmouseleave&&(n=setTimeout(function(){t.vakata.context.hide()},t.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(e){e.preventDefault(),t(this).blur().parent().hasClass("vakata-context-disabled")||!1===t.vakata.context._execute(t(this).attr("rel"))||t.vakata.context.hide()}).on("keydown","a",function(e){var n=null;switch(e.which){case 13:case 32:e.type="click",e.preventDefault(),t(e.currentTarget).trigger(e);break;case 37:i.is_visible&&(i.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 38:i.is_visible&&((n=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(n=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),n.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 39:i.is_visible&&(i.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 40:i.is_visible&&((n=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(n=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),n.addClass("vakata-context-hover").children("a").focus(),e.stopImmediatePropagation(),e.preventDefault());break;case 27:t.vakata.context.hide(),e.preventDefault()}}).on("keydown",function(t){t.preventDefault();var e=i.element.find(".vakata-contextmenu-shortcut-"+t.which).parent();e.parent().not(".vakata-context-disabled")&&e.click()}),t(l).on("mousedown.vakata.jstree",function(e){i.is_visible&&i.element[0]!==e.target&&!t.contains(i.element[0],e.target)&&t.vakata.context.hide()}).on("context_show.vakata.jstree",function(){i.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),e&&i.element.addClass("vakata-context-rtl").css("direction","rtl"),i.element.find("ul").hide().end()})})}(t),t.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},t.jstree.plugins.dnd=function(e,i){this.init=function(t,e){i.init.call(this,t,e),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){i.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",t.proxy(function(e){if(this.settings.dnd.large_drag_target&&t(e.target).closest(".jstree-node")[0]!==e.currentTarget)return!0;if("touchstart"===e.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!t(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(e.target),n=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,o=n>1?n+" "+this.get_string("nodes"):this.get_text(e.currentTarget);if(this.settings.core.force_text&&(o=t.vakata.html.escape(o)),i&&i.id&&i.id!==t.jstree.root&&(1===e.which||"touchstart"===e.type||"dragstart"===e.type)&&(!0===this.settings.dnd.is_draggable||t.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,n>1?this.get_top_selected(!0):[i],e))){if(h={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:n>1?this.get_top_selected():[i.id]},c=e.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),t.vakata.dnd.start(e,h,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+o+'<ins class="jstree-copy" style="display:none;">+</ins></div>');t.vakata.dnd._trigger("start",e,{helper:t(),element:c,data:h})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(e){return e.preventDefault(),t.vakata.dnd._trigger("move",e,{helper:t(),element:c,data:h}),!1}).on("drop.jstree",t.proxy(function(e){return e.preventDefault(),t.vakata.dnd._trigger("stop",e,{helper:t(),element:c,data:h}),!1},this))},this.redraw_node=function(t){if((t=i.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)t.setAttribute("draggable",!0);else{var e,n,o=null;for(e=0,n=t.childNodes.length;n>e;e++)if(t.childNodes[e]&&t.childNodes[e].className&&-1!==t.childNodes[e].className.indexOf("jstree-anchor")){o=t.childNodes[e];break}o&&o.setAttribute("draggable",!0)}return t}},t(function(){var i=!1,n=!1,o=!1,r=!1,s=t('<div id="jstree-marker">&#160;</div>').hide();t(l).on("dragover.vakata.jstree",function(e){c&&t.vakata.dnd._trigger("move",e,{helper:t(),element:c,data:h})}).on("drop.vakata.jstree",function(e){c&&(t.vakata.dnd._trigger("stop",e,{helper:t(),element:c,data:h}),c=null,h=null)}).on("dnd_start.vakata.jstree",function(t,e){i=!1,o=!1,e&&e.data&&e.data.jstree&&s.appendTo(l.body)}).on("dnd_move.vakata.jstree",function(a,l){var h=l.event.target!==o.target;if(r&&(!l.event||"dragover"!==l.event.type||h)&&clearTimeout(r),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){o=l.event;var c,d,u,f,p,g,m,_,v,y,b,x,w,k,C,T,M=t.jstree.reference(l.event.target),S=!1,D=!1,j=!1;if(M&&M._data&&M._data.dnd)if(s.attr("class","jstree-"+M.get_theme()+(M.settings.core.themes.responsive?" jstree-dnd-responsive":"")),C=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+M.get_theme()+" jstree-"+M.get_theme()+"-"+M.get_theme_variant()+" "+(M.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[C?"show":"hide"](),l.event.target!==M.element[0]&&l.event.target!==M.get_container_ul()[0]||0!==M.get_container_ul().children().length){if((S=M.settings.dnd.large_drop_target?t(l.event.target).closest(".jstree-node").children(".jstree-anchor"):t(l.event.target).closest(".jstree-anchor"))&&S.length&&S.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(D=S.offset(),j=(l.event.pageY!==e?l.event.pageY:l.event.originalEvent.pageY)-D.top,u=S.outerHeight(),g=u/3>j?["b","i","a"]:j>u-u/3?["a","i","b"]:j>u/2?["i","a","b"]:["i","b","a"],t.each(g,function(e,o){switch(o){case"b":c=D.left-6,d=D.top,f=M.get_parent(S),p=S.parent().index();break;case"i":w=M.settings.dnd.inside_pos,k=M.get_node(S.parent()),c=D.left-2,d=D.top+u/2+1,f=k.id,p="first"===w?0:"last"===w?k.children.length:Math.min(w,k.children.length);break;case"a":c=D.left-6,d=D.top+u,f=M.get_parent(S),p=S.parent().index()+1}for(m=!0,_=0,v=l.data.nodes.length;v>_;_++)if(y=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",b=p,"move_node"===y&&"a"===o&&l.data.origin&&l.data.origin===M&&f===M.get_parent(l.data.nodes[_])&&(x=M.get_node(f),b>t.inArray(l.data.nodes[_],x.children)&&(b-=1)),!(m=m&&(M&&M.settings&&M.settings.dnd&&!1===M.settings.dnd.check_while_dragging||M.check(y,l.data.origin&&l.data.origin!==M?l.data.origin.get_node(l.data.nodes[_]):l.data.nodes[_],f,b,{dnd:!0,ref:M.get_node(S.parent()),pos:o,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==M,is_foreign:!l.data.origin})))){M&&M.last_error&&(n=M.last_error());break}return"i"===o&&S.parent().is(".jstree-closed")&&M.settings.dnd.open_timeout&&(!l.event||"dragover"!==l.event.type||h)&&(r&&clearTimeout(r),r=setTimeout(function(t,e){return function(){t.open_node(e)}}(M,S),M.settings.dnd.open_timeout)),m?((T=M.get_node(f,!0)).hasClass(".jstree-dnd-parent")||(t(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T.addClass("jstree-dnd-parent")),i={ins:M,par:f,pos:"i"!==o||"last"!==w||0!==p||M.is_loaded(k)?p:"last"},s.css({left:c+"px",top:d+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=C?"copy":"move"),n={},g=!0,!1):void 0}),!0===g))return}else{for(m=!0,_=0,v=l.data.nodes.length;v>_&&(m=m&&M.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==M?l.data.origin.get_node(l.data.nodes[_]):l.data.nodes[_],t.jstree.root,"last",{dnd:!0,ref:M.get_node(t.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==M,is_foreign:!l.data.origin}));_++);if(m)return i={ins:M,par:t.jstree.root,pos:"last"},s.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=C?"copy":"move"))}t(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,s.hide()}}).on("dnd_scroll.vakata.jstree",function(t,e){e&&e.data&&e.data.jstree&&(s.hide(),i=!1,o=!1,e.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(e,a){if(t(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),r&&clearTimeout(r),a&&a.data&&a.data.jstree){s.hide().detach();var l,h,c=[];if(i){for(l=0,h=a.data.nodes.length;h>l;l++)c[l]=a.data.origin?a.data.origin.get_node(a.data.nodes[l]):a.data.nodes[l];i.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](c,i.par,i.pos,!1,!1,!1,a.data.origin)}else(l=t(a.event.target).closest(".jstree")).length&&n&&n.error&&"check"===n.error&&((l=l.jstree(!0))&&l.settings.core.error.call(this,n));o=!1,i=!1}}).on("keyup.jstree keydown.jstree",function(e,a){(a=t.vakata.dnd._get())&&a.data&&a.data.jstree&&("keyup"===e.type&&27===e.which?(r&&clearTimeout(r),i=!1,n=!1,o=!1,r=!1,s.hide().detach(),t.vakata.dnd._clean()):(a.helper.find(".jstree-copy").first()[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(e.metaKey||e.ctrlKey))?"show":"hide"](),o&&(o.metaKey=e.metaKey,o.ctrlKey=e.ctrlKey,t.vakata.dnd._trigger("move",o))))})}),function(t){t.vakata.html={div:t("<div />"),escape:function(e){return t.vakata.html.div.text(e).html()},strip:function(e){return t.vakata.html.div.empty().append(t.parseHTML(e)).text()}};var i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};t.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(i,n,o){o===e&&(o=t.vakata.dnd._get()),o.event=n,t(l).triggerHandler("dnd_"+i+".vakata",o)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove(),i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},t(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",t.vakata.dnd.drag),t(l).off("mouseup.vakata.jstree touchend.vakata.jstree",t.vakata.dnd.stop)},_scroll:function(e){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(t.vakata.dnd._scroll,100),!1;if(!0===e)return!1;var n=i.scroll_e.scrollTop(),o=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(n+i.scroll_t*t.vakata.dnd.settings.scroll_speed),i.scroll_e.scrollLeft(o+i.scroll_l*t.vakata.dnd.settings.scroll_speed),(n!==i.scroll_e.scrollTop()||o!==i.scroll_e.scrollLeft())&&t.vakata.dnd._trigger("scroll",i.scroll_e)},start:function(e,n,o){"touchstart"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=l.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag&&t.vakata.dnd.stop({});try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.touchAction="none",e.currentTarget.style.msTouchAction="none",e.currentTarget.style.MozUserSelect="none")}catch(r){}return i.init_x=e.pageX,i.init_y=e.pageY,i.data=n,i.is_down=!0,i.element=e.currentTarget,i.target=e.target,i.is_touch="touchstart"===e.type,!1!==o&&(i.helper=t("<div id='vakata-dnd'></div>").html(o).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),t(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",t.vakata.dnd.drag),t(l).on("mouseup.vakata.jstree touchend.vakata.jstree",t.vakata.dnd.stop),!1},drag:function(e){if("touchmove"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=l.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(e.pageX-i.init_x)>(i.is_touch?t.vakata.dnd.settings.threshold_touch:t.vakata.dnd.settings.threshold)||Math.abs(e.pageY-i.init_y)>(i.is_touch?t.vakata.dnd.settings.threshold_touch:t.vakata.dnd.settings.threshold)))return;i.helper&&(i.helper.appendTo(l.body),i.helper_w=i.helper.outerWidth()),i.is_drag=!0,t(i.target).one("click.vakata",!1),t.vakata.dnd._trigger("start",e)}var n=!1,o=!1,r=!1,s=!1,a=!1,h=!1,c=!1,d=!1,u=!1,f=!1;return i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,t(t(e.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(t(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var n=t(this),o=n.offset();return this.scrollHeight>this.offsetHeight&&(o.top+n.height()-e.pageY<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),e.pageY-o.top<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(o.left+n.width()-e.pageX<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),e.pageX-o.left<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l?(i.scroll_e=t(this),!1):void 0}),i.scroll_e||(n=t(l),o=t(window),r=n.height(),s=o.height(),a=n.width(),h=o.width(),c=n.scrollTop(),d=n.scrollLeft(),r>s&&e.pageY-c<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),r>s&&s-(e.pageY-c)<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),a>h&&e.pageX-d<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),a>h&&h-(e.pageX-d)<t.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=n)),i.scroll_e&&t.vakata.dnd._scroll(!0),i.helper&&(u=parseInt(e.pageY+t.vakata.dnd.settings.helper_top,10),f=parseInt(e.pageX+t.vakata.dnd.settings.helper_left,10),r&&u+25>r&&(u=r-50),a&&f+i.helper_w>a&&(f=a-(i.helper_w+2)),i.helper.css({left:f+"px",top:u+"px"})),t.vakata.dnd._trigger("move",e),!1}},stop:function(e){if("touchend"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=l.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag)e.target!==i.target&&t(i.target).off("click.vakata"),t.vakata.dnd._trigger("stop",e);else if("touchend"===e.type&&e.target===i.target){var n=setTimeout(function(){t(e.target).click()},100);t(e.target).one("click",function(){n&&clearTimeout(n)})}return t.vakata.dnd._clean(),!1}}}(t),t.jstree.defaults.massload=null,t.jstree.plugins.massload=function(e,i){this.init=function(t,e){this._data.massload={},i.init.call(this,t,e)},this._load_nodes=function(e,n,o,r){var s,a,l,h=this.settings.massload,c=(JSON.stringify(e),[]),d=this._model.data;if(!o){for(s=0,a=e.length;a>s;s++)(!d[e[s]]||!d[e[s]].state.loaded&&!d[e[s]].state.failed||r)&&(c.push(e[s]),(l=this.get_node(e[s],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},c.length){if(t.isFunction(h))return h.call(this,c,t.proxy(function(t){var s,a;if(t)for(s in t)t.hasOwnProperty(s)&&(this._data.massload[s]=t[s]);for(s=0,a=e.length;a>s;s++)(l=this.get_node(e[s],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,e,n,o,r)},this));if("object"==typeof h&&h&&h.url)return h=t.extend(!0,{},h),t.isFunction(h.url)&&(h.url=h.url.call(this,c)),t.isFunction(h.data)&&(h.data=h.data.call(this,c)),t.ajax(h).done(t.proxy(function(t){var s,a;if(t)for(s in t)t.hasOwnProperty(s)&&(this._data.massload[s]=t[s]);for(s=0,a=e.length;a>s;s++)(l=this.get_node(e[s],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,e,n,o,r)},this)).fail(t.proxy(function(){i._load_nodes.call(this,e,n,o,r)},this))}}return i._load_nodes.call(this,e,n,o,r)},this._load_node=function(e,n){var o,r=this._data.massload[e.id],s=null;return r?(s=this["string"==typeof r?"_append_html_data":"_append_json_data"](e,"string"==typeof r?t(t.parseHTML(r)).filter(function(){return 3!==this.nodeType}):r,function(t){n.call(this,t)}),(o=this.get_node(e.id,!0))&&o.length&&o.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[e.id],s):i._load_node.call(this,e,n)}},t.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},t.jstree.plugins.search=function(i,n){this.bind=function(){n.bind.call(this),this._data.search.str="",this._data.search.dom=t(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",t.proxy(function(e,i){if(this._data.search.som&&i.res.length){var n,o,r,s,a=this._model.data,l=[];for(n=0,o=i.res.length;o>n;n++)if(a[i.res[n]]&&!a[i.res[n]].state.hidden&&(l.push(i.res[n]),l=l.concat(a[i.res[n]].parents),this._data.search.smc))for(r=0,s=a[i.res[n]].children_d.length;s>r;r++)a[a[i.res[n]].children_d[r]]&&!a[a[i.res[n]].children_d[r]].state.hidden&&l.push(a[i.res[n]].children_d[r]);l=t.vakata.array_remove_item(t.vakata.array_unique(l),t.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}},this)).on("clear_search.jstree",t.proxy(function(t,e){this._data.search.som&&e.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(i,n,o,r,s,a){if(!1===i||""===t.trim(i.toString()))return this.clear_search();r=(r=this.get_node(r))&&r.id?r.id:null,i=i.toString();var l,h,c=this.settings.search,d=!!c.ajax&&c.ajax,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!s&&this.clear_search(),o===e&&(o=c.show_only_matches),a===e&&(a=c.show_only_matches_children),!n&&!1!==d)return t.isFunction(d)?d.call(this,i,t.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(t.isArray(e)?t.vakata.array_unique(e):[],function(){this.search(i,!0,o,r,s,a)})},this),r):((d=t.extend({},d)).data||(d.data={}),d.data.str=i,r&&(d.data.inside=r),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=t.ajax(d).fail(t.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(d)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(t.proxy(function(e){e&&e.d&&(e=e.d),this._load_nodes(t.isArray(e)?t.vakata.array_unique(e):[],function(){this.search(i,!0,o,r,s,a)})},this)),this._data.search.lastRequest);if(s||(this._data.search.str=i,this._data.search.dom=t(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=o,this._data.search.smc=a),f=new t.vakata.search(i,!0,{caseSensitive:c.case_sensitive,fuzzy:c.fuzzy}),t.each(u[r||t.jstree.root].children_d,function(t,e){var n=u[e];n.text&&!n.state.hidden&&(!c.search_leaves_only||n.state.loaded&&0===n.children.length)&&(c.search_callback&&c.search_callback.call(this,i,n)||!c.search_callback&&f.search(n.text).isMatch)&&(p.push(e),g=g.concat(n.parents))}),p.length){for(l=0,h=(g=t.vakata.array_unique(g)).length;h>l;l++)g[l]!==t.jstree.root&&u[g[l]]&&!0===this.open_node(g[l],null,0)&&this._data.search.opn.push(g[l]);s?(this._data.search.dom=this._data.search.dom.add(t(this.element[0].querySelectorAll("#"+t.map(p,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(t.jstree.idregex,"\\$&"):e.replace(t.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=t.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=t(this.element[0].querySelectorAll("#"+t.map(p,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(t.jstree.idregex,"\\$&"):e.replace(t.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:o})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=t(this.element[0].querySelectorAll("#"+t.map(this._data.search.res,function(e){return-1!=="0123456789".indexOf(e[0])?"\\3"+e[0]+" "+e.substr(1).replace(t.jstree.idregex,"\\$&"):e.replace(t.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=t()},this.redraw_node=function(e){if((e=n.redraw_node.apply(this,arguments))&&-1!==t.inArray(e.id,this._data.search.res)){var i,o,r=null;for(i=0,o=e.childNodes.length;o>i;i++)if(e.childNodes[i]&&e.childNodes[i].className&&-1!==e.childNodes[i].className.indexOf("jstree-anchor")){r=e.childNodes[i];break}r&&(r.className+=" jstree-search")}return e}},function(t){t.vakata.search=function(e,i,n){n=n||{},!1!==(n=t.extend({},t.vakata.search.defaults,n)).fuzzy&&(n.fuzzy=!0),e=n.caseSensitive?e:e.toLowerCase();var o,r,s,a,l=n.location,h=n.distance,c=n.threshold,d=e.length;return d>32&&(n.fuzzy=!1),n.fuzzy&&(o=1<<d-1,r=function(){var t={},i=0;for(i=0;d>i;i++)t[e.charAt(i)]=0;for(i=0;d>i;i++)t[e.charAt(i)]|=1<<d-i-1;return t}(),s=function(t,e){var i=t/d,n=Math.abs(l-e);return h?i+n/h:n?1:i}),a=function(t){if(t=n.caseSensitive?t:t.toLowerCase(),e===t||-1!==t.indexOf(e))return{isMatch:!0,score:0};if(!n.fuzzy)return{isMatch:!1,score:1};var i,a,h,u,f,p,g,m,_,v=t.length,y=c,b=t.indexOf(e,l),x=d+v,w=1,k=[];for(-1!==b&&(y=Math.min(s(0,b),y),-1!==(b=t.lastIndexOf(e,l+d))&&(y=Math.min(s(0,b),y))),b=-1,i=0;d>i;i++){for(h=0,u=x;u>h;)s(i,l+u)<=y?h=u:x=u,u=Math.floor((x-h)/2+h);for(x=u,p=Math.max(1,l-u+1),g=Math.min(l+u,v)+d,(m=new Array(g+2))[g+1]=(1<<i)-1,a=g;a>=p;a--)if(_=r[t.charAt(a-1)],m[a]=0===i?(m[a+1]<<1|1)&_:(m[a+1]<<1|1)&_|(f[a+1]|f[a])<<1|1|f[a+1],m[a]&o&&y>=(w=s(i,a-1))){if(y=w,b=a-1,k.push(b),!(b>l))break;p=Math.max(1,2*l-b)}if(s(i+1,l)>y)break;f=m}return{isMatch:b>=0,score:w}},!0===i?{search:a}:a(i)},t.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(t),t.jstree.defaults.sort=function(t,e){return this.get_text(t)>this.get_text(e)?1:-1},t.jstree.plugins.sort=function(e,i){this.bind=function(){i.bind.call(this),this.element.on("model.jstree",t.proxy(function(t,e){this.sort(e.parent,!0)},this)).on("rename_node.jstree create_node.jstree",t.proxy(function(t,e){this.sort(e.parent||e.node.parent,!1),this.redraw_node(e.parent||e.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",t.proxy(function(t,e){this.sort(e.parent,!1),this.redraw_node(e.parent,!0)},this))},this.sort=function(e,i){var n,o;if((e=this.get_node(e))&&e.children&&e.children.length&&(e.children.sort(t.proxy(this.settings.sort,this)),i))for(n=0,o=e.children_d.length;o>n;n++)this.sort(e.children_d[n],!1)}};var u=!1;t.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},t.jstree.plugins.state=function(e,i){this.bind=function(){i.bind.call(this);var e=t.proxy(function(){this.element.on(this.settings.state.events,t.proxy(function(){u&&clearTimeout(u),u=setTimeout(t.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",t.proxy(function(){this.element.one("restore_state.jstree",e),this.restore_state()||e()},this))},this.save_state=function(){var e=this.get_state();this.settings.state.preserve_loaded||delete e.core.loaded;var i={state:e,ttl:this.settings.state.ttl,sec:+new Date};t.vakata.storage.set(this.settings.state.key,JSON.stringify(i))},this.restore_state=function(){var e=t.vakata.storage.get(this.settings.state.key);if(e)try{e=JSON.parse(e)}catch(i){return!1}return!(e&&e.ttl&&e.sec&&+new Date-e.sec>e.ttl)&&(e&&e.state&&(e=e.state),e&&t.isFunction(this.settings.state.filter)&&(e=this.settings.state.filter.call(this,e)),!!e&&(this.settings.state.preserve_loaded||delete e.core.loaded,this.element.one("set_state.jstree",function(i,n){n.instance.trigger("restore_state",{state:t.extend(!0,{},e)})}),this.set_state(e),!0))},this.clear_state=function(){return t.vakata.storage.del(this.settings.state.key)}},function(t){t.vakata.storage={set:function(t,e){return window.localStorage.setItem(t,e)},get:function(t){return window.localStorage.getItem(t)},del:function(t){return window.localStorage.removeItem(t)}}}(t),t.jstree.defaults.types={"default":{}},t.jstree.defaults.types[t.jstree.root]={},t.jstree.plugins.types=function(i,n){this.init=function(i,o){var r,s;if(o&&o.types&&o.types["default"])for(r in o.types)if("default"!==r&&r!==t.jstree.root&&o.types.hasOwnProperty(r))for(s in o.types["default"])o.types["default"].hasOwnProperty(s)&&o.types[r][s]===e&&(o.types[r][s]=o.types["default"][s]);n.init.call(this,i,o),this._model.data[t.jstree.root].type=t.jstree.root},this.refresh=function(e,i){n.refresh.call(this,e,i),this._model.data[t.jstree.root].type=t.jstree.root},this.bind=function(){this.element.on("model.jstree",t.proxy(function(i,n){var o,r,s,a=this._model.data,l=n.nodes,h=this.settings.types,c="default";for(o=0,r=l.length;r>o;o++){if(c="default",a[l[o]].original&&a[l[o]].original.type&&h[a[l[o]].original.type]&&(c=a[l[o]].original.type),a[l[o]].data&&a[l[o]].data.jstree&&a[l[o]].data.jstree.type&&h[a[l[o]].data.jstree.type]&&(c=a[l[o]].data.jstree.type),a[l[o]].type=c,!0===a[l[o]].icon&&h[c].icon!==e&&(a[l[o]].icon=h[c].icon),h[c].li_attr!==e&&"object"==typeof h[c].li_attr)for(s in h[c].li_attr)if(h[c].li_attr.hasOwnProperty(s)){if("id"===s)continue;a[l[o]].li_attr[s]===e?a[l[o]].li_attr[s]=h[c].li_attr[s]:"class"===s&&(a[l[o]].li_attr["class"]=h[c].li_attr["class"]+" "+a[l[o]].li_attr["class"])}if(h[c].a_attr!==e&&"object"==typeof h[c].a_attr)for(s in h[c].a_attr)if(h[c].a_attr.hasOwnProperty(s)){if("id"===s)continue;a[l[o]].a_attr[s]===e?a[l[o]].a_attr[s]=h[c].a_attr[s]:"href"===s&&"#"===a[l[o]].a_attr[s]?a[l[o]].a_attr.href=h[c].a_attr.href:"class"===s&&(a[l[o]].a_attr["class"]=h[c].a_attr["class"]+" "+a[l[o]].a_attr["class"])}}a[t.jstree.root].type=t.jstree.root},this)),n.bind.call(this)},this.get_json=function(e,i,o){var r,s,a=this._model.data,l=i?t.extend(!0,{},i,{no_id:!1}):{},h=n.get_json.call(this,e,l,o);if(!1===h)return!1;if(t.isArray(h))for(r=0,s=h.length;s>r;r++)h[r].type=h[r].id&&a[h[r].id]&&a[h[r].id].type?a[h[r].id].type:"default",i&&i.no_id&&(delete h[r].id,h[r].li_attr&&h[r].li_attr.id&&delete h[r].li_attr.id,h[r].a_attr&&h[r].a_attr.id&&delete h[r].a_attr.id);else h.type=h.id&&a[h.id]&&a[h.id].type?a[h.id].type:"default",i&&i.no_id&&(h=this._delete_ids(h));return h},this._delete_ids=function(e){if(t.isArray(e)){for(var i=0,n=e.length;n>i;i++)e[i]=this._delete_ids(e[i]);return e}return delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.a_attr&&e.a_attr.id&&delete e.a_attr.id,e.children&&t.isArray(e.children)&&(e.children=this._delete_ids(e.children)),e},this.check=function(i,o,r,s,a){if(!1===n.check.call(this,i,o,r,s,a))return!1;o=o&&o.id?o:this.get_node(o),r=r&&r.id?r:this.get_node(r);var l,h,c,d,u=o&&o.id?a&&a.origin?a.origin:t.jstree.reference(o.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===t.inArray(o.id,r.children)){if((l=this.get_rules(r)).max_children!==e&&-1!==l.max_children&&l.max_children===r.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:s,obj:!(!o||!o.id)&&o.id,par:!(!r||!r.id)&&r.id})},!1;if(l.valid_children!==e&&-1!==l.valid_children&&-1===t.inArray(o.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:s,obj:!(!o||!o.id)&&o.id,par:!(!r||!r.id)&&r.id})},!1;if(u&&o.children_d&&o.parents){for(h=0,c=0,d=o.children_d.length;d>c;c++)h=Math.max(h,u[o.children_d[c]].parents.length);h=h-o.parents.length+1}(0>=h||h===e)&&(h=1);do{if(l.max_depth!==e&&-1!==l.max_depth&&l.max_depth<h)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:s,obj:!(!o||!o.id)&&o.id,par:!(!r||!r.id)&&r.id})},!1;r=this.get_node(r.parent),l=this.get_rules(r),h++}while(r)}}return!0},this.get_rules=function(t){if(!(t=this.get_node(t)))return!1;var i=this.get_type(t,!0);return i.max_depth===e&&(i.max_depth=-1),i.max_children===e&&(i.max_children=-1),i.valid_children===e&&(i.valid_children=-1),i},this.get_type=function(e,i){return!!(e=this.get_node(e))&&(i?t.extend({type:e.type},this.settings.types[e.type]):e.type)},this.set_type=function(i,n){var o,r,s,a,l,h,c,d,u=this._model.data;if(t.isArray(i)){for(r=0,s=(i=i.slice()).length;s>r;r++)this.set_type(i[r],n);return!0}if(o=this.settings.types,i=this.get_node(i),!o[n]||!i)return!1;if((c=this.get_node(i,!0))&&c.length&&(d=c.children(".jstree-anchor")),a=i.type,l=this.get_icon(i),i.type=n,(!0===l||!o[a]||o[a].icon!==e&&l===o[a].icon)&&this.set_icon(i,o[n].icon===e||o[n].icon),o[a]&&o[a].li_attr!==e&&"object"==typeof o[a].li_attr)for(h in o[a].li_attr)if(o[a].li_attr.hasOwnProperty(h)){if("id"===h)continue;"class"===h?(u[i.id].li_attr["class"]=(u[i.id].li_attr["class"]||"").replace(o[a].li_attr[h],""),c&&c.removeClass(o[a].li_attr[h])):u[i.id].li_attr[h]===o[a].li_attr[h]&&(u[i.id].li_attr[h]=null,c&&c.removeAttr(h))}if(o[a]&&o[a].a_attr!==e&&"object"==typeof o[a].a_attr)for(h in o[a].a_attr)if(o[a].a_attr.hasOwnProperty(h)){if("id"===h)continue;"class"===h?(u[i.id].a_attr["class"]=(u[i.id].a_attr["class"]||"").replace(o[a].a_attr[h],""),d&&d.removeClass(o[a].a_attr[h])):u[i.id].a_attr[h]===o[a].a_attr[h]&&("href"===h?(u[i.id].a_attr[h]="#",d&&d.attr("href","#")):(delete u[i.id].a_attr[h],d&&d.removeAttr(h)))}if(o[n].li_attr!==e&&"object"==typeof o[n].li_attr)for(h in o[n].li_attr)if(o[n].li_attr.hasOwnProperty(h)){if("id"===h)continue;u[i.id].li_attr[h]===e?(u[i.id].li_attr[h]=o[n].li_attr[h],c&&("class"===h?c.addClass(o[n].li_attr[h]):c.attr(h,o[n].li_attr[h]))):"class"===h&&(u[i.id].li_attr["class"]=o[n].li_attr[h]+" "+u[i.id].li_attr["class"],c&&c.addClass(o[n].li_attr[h]))}if(o[n].a_attr!==e&&"object"==typeof o[n].a_attr)for(h in o[n].a_attr)if(o[n].a_attr.hasOwnProperty(h)){if("id"===h)continue
;u[i.id].a_attr[h]===e?(u[i.id].a_attr[h]=o[n].a_attr[h],d&&("class"===h?d.addClass(o[n].a_attr[h]):d.attr(h,o[n].a_attr[h]))):"href"===h&&"#"===u[i.id].a_attr[h]?(u[i.id].a_attr.href=o[n].a_attr.href,d&&d.attr("href",o[n].a_attr.href)):"class"===h&&(u[i.id].a_attr["class"]=o[n].a_attr["class"]+" "+u[i.id].a_attr["class"],d&&d.addClass(o[n].a_attr[h]))}return!0}},t.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(t,e){return t+" ("+e+")"}},t.jstree.plugins.unique=function(i,n){this.check=function(e,i,o,r,s){if(!1===n.check.call(this,e,i,o,r,s))return!1;if(i=i&&i.id?i:this.get_node(i),!(o=o&&o.id?o:this.get_node(o))||!o.children)return!0;var a,l,h,c="rename_node"===e?r:i.text,d=[],u=this.settings.unique.case_sensitive,f=this.settings.unique.trim_whitespace,p=this._model.data;for(a=0,l=o.children.length;l>a;a++)h=p[o.children[a]].text,u||(h=h.toLowerCase()),f&&(h=h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),d.push(h);switch(u||(c=c.toLowerCase()),f&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),e){case"delete_node":return!0;case"rename_node":return h=i.text||"",u||(h=h.toLowerCase()),f&&(h=h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(a=-1===t.inArray(c,d)||i.text&&h===c)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!o||!o.id)&&o.id})}),a;case"create_node":return(a=-1===t.inArray(c,d))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!o||!o.id)&&o.id})}),a;case"copy_node":return(a=-1===t.inArray(c,d))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!o||!o.id)&&o.id})}),a;case"move_node":return(a=i.parent===o.id&&(!s||!s.is_multi)||-1===t.inArray(c,d))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+e,data:JSON.stringify({chk:e,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!o||!o.id)&&o.id})}),a}return!0},this.create_node=function(i,o,r,s,a){if(!o||o.text===e){if(null===i&&(i=t.jstree.root),!(i=this.get_node(i)))return n.create_node.call(this,i,o,r,s,a);if(!(r=r===e?"last":r).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return n.create_node.call(this,i,o,r,s,a);o||(o={});var l,h,c,d,u,f,p=this._model.data,g=this.settings.unique.case_sensitive,m=this.settings.unique.trim_whitespace,_=this.settings.unique.duplicate;for(h=l=this.get_string("New node"),c=[],d=0,u=i.children.length;u>d;d++)f=p[i.children[d]].text,g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(f);for(d=1,f=h,g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==t.inArray(f,c);)f=h=_.call(this,l,++d).toString(),g||(f=f.toLowerCase()),m&&(f=f.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));o.text=h}return n.create_node.call(this,i,o,r,s,a)}};var f=l.createElement("DIV");if(f.setAttribute("unselectable","on"),f.setAttribute("role","presentation"),f.className="jstree-wholerow",f.innerHTML="&#160;",t.jstree.plugins.wholerow=function(e,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",t.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",t.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",t.proxy(function(){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",t.proxy(function(t,e){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i,n,o=!1;for(i=0,n=e.selected.length;n>i;i++)(o=this.get_node(e.selected[i],!0))&&o.length&&o.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",t.proxy(function(t,e){this.get_node(e.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",t.proxy(function(t,e){"hover_node"===t.type&&this.is_disabled(e.node)||this.get_node(e.node,!0).children(".jstree-wholerow")["hover_node"===t.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",t.proxy(function(e){if(this._data.contextmenu){e.preventDefault();var i=t.Event("contextmenu",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,pageX:e.pageX,pageY:e.pageY});t(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)}},this)).on("click.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var i=t.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});t(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("dblclick.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var i=t.Event("dblclick",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});t(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",t.proxy(function(e){e.stopImmediatePropagation();var i=t.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});t(e.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",t.proxy(function(t){return t.stopImmediatePropagation(),this.is_disabled(t.currentTarget)||this.hover_node(t.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",t.proxy(function(t){this.dehover_node(t.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(e){if(e=i.redraw_node.apply(this,arguments)){var n=f.cloneNode(!0);-1!==t.inArray(e.id,this._data.core.selected)&&(n.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===e.id&&(n.className+=" jstree-wholerow-hovered"),e.insertBefore(n,e.childNodes[0])}return e}},window.customElements&&Object&&Object.create){var p=Object.create(HTMLElement.prototype);p.createdCallback=function(){var e,i={core:{},plugins:[]};for(e in t.jstree.plugins)t.jstree.plugins.hasOwnProperty(e)&&this.attributes[e]&&(i.plugins.push(e),this.getAttribute(e)&&JSON.parse(this.getAttribute(e))&&(i[e]=JSON.parse(this.getAttribute(e))));for(e in t.jstree.defaults.core)t.jstree.defaults.core.hasOwnProperty(e)&&this.attributes[e]&&(i.core[e]=JSON.parse(this.getAttribute(e))||this.getAttribute(e));t(this).jstree(i)};try{window.customElements.define("vakata-jstree",function(){},{prototype:p})}catch(g){}}}}),
/*!
 * Cropper.js v1.4.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-07-15T09:55:31.170Z
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Cropper=e()}(this,function(){"use strict";function t(t){return"number"==typeof t&&!jt(t)}function e(t){return void 0===t}function i(t){return"object"===(void 0===t?"undefined":Tt(t))&&null!==t}function n(t){if(!i(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&At.call(n,"isPrototypeOf")}catch(o){return!1}}function o(t){return"function"==typeof t}function r(e,n){if(e&&o(n))if(Array.isArray(e)||t(e.length)){var r=e.length,s=void 0;for(s=0;s<r&&!1!==n.call(e,e[s],s,e);s+=1);}else i(e)&&Object.keys(e).forEach(function(t){n.call(e,e[t],t,e)});return e}function s(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e11;return Et.test(t)?Math.round(t*e)/e:t}function a(e,i){var n=e.style;r(i,function(e,i){It.test(i)&&t(e)&&(e+="px"),n[i]=e})}function l(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function h(e,i){if(i)if(t(e.length))r(e,function(t){h(t,i)});else if(e.classList)e.classList.add(i);else{var n=e.className.trim();n?n.indexOf(i)<0&&(e.className=n+" "+i):e.className=i}}function c(e,i){i&&(t(e.length)?r(e,function(t){c(t,i)}):e.classList?e.classList.remove(i):e.className.indexOf(i)>=0&&(e.className=e.className.replace(i,"")))}function d(e,i,n){i&&(t(e.length)?r(e,function(t){d(t,i,n)}):n?h(e,i):c(e,i))}function u(t){return t.replace(Lt,"$1-$2").toLowerCase()}function f(t,e){return i(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-"+u(e))}function p(t,e,n){i(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-"+u(e),n)}function g(t,e){if(i(t[e]))try{delete t[e]}catch(n){t[e]=undefined}else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=undefined}else t.removeAttribute("data-"+u(e))}function m(t,e,i){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},o=i;e.trim().split(Ot).forEach(function(e){if(!zt){var r=t.listeners;r&&r[e]&&r[e][i]&&(o=r[e][i],delete r[e][i],0===Object.keys(r[e]).length&&delete r[e],0===Object.keys(r).length&&delete t.listeners)}t.removeEventListener(e,o,n)})}function _(t,e,i){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},o=i;e.trim().split(Ot).forEach(function(e){if(n.once&&!zt){var r=t.listeners,s=r===undefined?{}:r;o=function(){for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];delete s[e][i],t.removeEventListener(e,o,n),i.apply(t,a)},s[e]||(s[e]={}),s[e][i]&&t.removeEventListener(e,s[e][i],n),s[e][i]=o,t.listeners=s}t.addEventListener(e,o,n)})}function v(t,e,i){var n=void 0;return o(Event)&&o(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function y(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function b(t){var e=t.match(Ft);return e&&(e[1]!==Nt.protocol||e[2]!==Nt.hostname||e[3]!==Nt.port)}function x(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function w(e){var i=e.rotate,n=e.scaleX,o=e.scaleY,r=e.translateX,s=e.translateY,a=[];t(r)&&0!==r&&a.push("translateX("+r+"px)"),t(s)&&0!==s&&a.push("translateY("+s+"px)"),t(i)&&0!==i&&a.push("rotate("+i+"deg)"),t(n)&&1!==n&&a.push("scaleX("+n+")"),t(o)&&1!==o&&a.push("scaleY("+o+")");var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function k(t){var e=Pt({},t),i=[];return r(t,function(t,n){delete e[n],r(e,function(e){var n=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),r=Math.abs(t.endX-e.endX),s=Math.abs(t.endY-e.endY),a=Math.sqrt(n*n+o*o),l=(Math.sqrt(r*r+s*s)-a)/a;i.push(l)})}),i.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),i[0]}function C(t,e){var i=t.pageX,n=t.pageY,o={endX:i,endY:n};return e?o:Pt({startX:i,startY:n},o)}function T(t){var e=0,i=0,n=0;return r(t,function(t){var o=t.startX,r=t.startY;e+=o,i+=r,n+=1}),{pageX:e/=n,pageY:i/=n}}function M(t){var e=t.aspectRatio,i=t.height,n=t.width,o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"contain",r=function(t){return Rt(t)&&t>0};if(r(n)&&r(i)){var s=i*e;"contain"===o&&s>n||"cover"===o&&s<n?i=n/e:n=i*e}else r(n)?i=n/e:r(i)&&(n=i*e);return{width:n,height:i}}function S(t){var e=t.width,i=t.height,n=t.degree;if(90===(n=Math.abs(n)%180))return{width:i,height:e};var o=n%90*Math.PI/180,r=Math.sin(o),s=Math.cos(o),a=e*s+i*r,l=e*r+i*s;return n>90?{width:l,height:a}:{width:a,height:l}}function D(t,e,i,n){var o=e.aspectRatio,r=e.naturalWidth,a=e.naturalHeight,l=e.rotate,h=l===undefined?0:l,c=e.scaleX,d=c===undefined?1:c,u=e.scaleY,f=u===undefined?1:u,p=i.aspectRatio,g=i.naturalWidth,m=i.naturalHeight,_=n.fillColor,v=_===undefined?"transparent":_,y=n.imageSmoothingEnabled,b=y===undefined||y,x=n.imageSmoothingQuality,w=x===undefined?"low":x,k=n.maxWidth,C=k===undefined?Infinity:k,T=n.maxHeight,S=T===undefined?Infinity:T,D=n.minWidth,j=D===undefined?0:D,A=n.minHeight,P=A===undefined?0:A,E=document.createElement("canvas"),I=E.getContext("2d"),L=M({aspectRatio:p,width:C,height:S}),O=M({aspectRatio:p,width:j,height:P},"cover"),z=Math.min(L.width,Math.max(O.width,g)),N=Math.min(L.height,Math.max(O.height,m)),F=M({aspectRatio:o,width:C,height:S}),R=M({aspectRatio:o,width:j,height:P},"cover"),H=Math.min(F.width,Math.max(R.width,r)),B=Math.min(F.height,Math.max(R.height,a)),W=[-H/2,-B/2,H,B];return E.width=s(z),E.height=s(N),I.fillStyle=v,I.fillRect(0,0,z,N),I.save(),I.translate(z/2,N/2),I.rotate(h*Math.PI/180),I.scale(d,f),I.imageSmoothingEnabled=b,I.imageSmoothingQuality=w,I.drawImage.apply(I,[t].concat(Dt(W.map(function(t){return Math.floor(s(t))})))),I.restore(),E}function j(t,e,i){var n="",o=void 0;for(i+=e,o=e;o<i;o+=1)n+=Ht(t.getUint8(o));return n}function A(t){var e=t.replace(Bt,""),i=atob(e),n=new ArrayBuffer(i.length),o=new Uint8Array(n);return r(o,function(t,e){o[e]=i.charCodeAt(e)}),n}function P(t,e){var i=new Uint8Array(t),n="";return o(i.forEach)?i.forEach(function(t){n+=Ht(t)}):r(i,function(t){n+=Ht(t)}),"data:"+e+";base64,"+btoa(n)}function E(t){var e=new DataView(t),i=void 0,n=void 0,o=void 0,r=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var s=e.byteLength,a=2;a<s;){if(255===e.getUint8(a)&&225===e.getUint8(a+1)){o=a;break}a+=1}if(o){var l=o+10;if("Exif"===j(e,o+4,4)){var h=e.getUint16(l);if(((n=18761===h)||19789===h)&&42===e.getUint16(l+2,n)){var c=e.getUint32(l+4,n);c>=8&&(r=l+c)}}}if(r){var d=e.getUint16(r,n),u=void 0,f=void 0;for(f=0;f<d;f+=1)if(u=r+12*f+2,274===e.getUint16(u,n)){u+=8,i=e.getUint16(u,n),e.setUint16(u,1,n);break}}return i}function I(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}var L="undefined"!=typeof window,O=L?window:{},z="cropper",N="all",F="crop",R="move",H="zoom",B="e",W="w",$="s",Y="n",q="ne",U="nw",V="se",Z="sw",K=z+"-crop",G=z+"-disabled",X=z+"-hidden",J=z+"-hide",Q=z+"-invisible",tt=z+"-modal",et=z+"-move",it=z+"Action",nt=z+"Preview",ot="crop",rt="move",st="none",at="crop",lt="cropend",ht="cropmove",ct="cropstart",dt="dblclick",ut=O.PointerEvent?"pointerdown":"touchstart mousedown",ft=O.PointerEvent?"pointermove":"touchmove mousemove",pt=O.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",gt="ready",mt="resize",_t="wheel mousewheel DOMMouseScroll",vt="zoom",yt=/^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,bt=/^data:/,xt=/^data:image\/jpeg;base64,/,wt=/^(?:img|canvas)$/i,kt={viewMode:0,dragMode:ot,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ct='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},St=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Dt=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},jt=Number.isNaN||O.isNaN,At=Object.prototype.hasOwnProperty,Pt=Object.assign||function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return i(t)&&n.length>0&&n.forEach(function(e){i(e)&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},Et=/\.\d*(?:0|9){12}\d*$/i,It=/^(?:width|height|left|top|marginLeft|marginTop)$/,Lt=/([a-z\d])([A-Z])/g,Ot=/\s\s*/,zt=function(){var t=!1;if(L){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});O.addEventListener("test",i,n),O.removeEventListener("test",i,n)}return t}(),Nt=O.location,Ft=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,Rt=Number.isFinite||O.isFinite,Ht=String.fromCharCode,Bt=/^data:.*,/,Wt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper;h(n,X),c(t,X);var o={width:Math.max(i.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(e.minContainerHeight)||100)};this.containerData=o,a(n,{width:o.width,height:o.height}),h(t,X),c(n,X)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,o=n?e.naturalHeight:e.naturalWidth,r=n?e.naturalWidth:e.naturalHeight,s=o/r,a=t.width,l=t.height;t.height*s>t.width?3===i?a=t.height*s:l=t.width/s:3===i?l=t.width/s:a=t.height*s;var h={aspectRatio:s,naturalWidth:o,naturalHeight:r,width:a,height:l};h.left=(t.width-a)/2,h.top=(t.height-l)/2,h.oldLeft=h.left,h.oldTop=h.top,this.canvasData=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=Pt({},e),this.initialCanvasData=Pt({},h)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,s=i.viewMode,a=o.aspectRatio,l=this.cropped&&r;if(t){var h=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;s>1?(h=Math.max(h,n.width),c=Math.max(c,n.height),3===s&&(c*a>h?h=c*a:c=h/a)):s>0&&(h?h=Math.max(h,l?r.width:0):c?c=Math.max(c,l?r.height:0):l&&(h=r.width,(c=r.height)*a>h?h=c*a:c=h/a));var d=M({aspectRatio:a,width:h,height:c});h=d.width,c=d.height,o.minWidth=h,o.minHeight=c,o.maxWidth=Infinity,o.maxHeight=Infinity}if(e)if(s>(l?0:1)){var u=n.width-o.width,f=n.height-o.height;o.minLeft=Math.min(0,u),o.minTop=Math.min(0,f),o.maxLeft=Math.max(0,u),o.maxTop=Math.max(0,f),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+(r.width-o.width)),o.minTop=Math.min(r.top,r.top+(r.height-o.height)),o.maxLeft=r.left,o.maxTop=r.top,2===s&&(o.width>=n.width&&(o.minLeft=Math.min(0,u),o.maxLeft=Math.max(0,u)),o.height>=n.height&&(o.minTop=Math.min(0,f),o.maxTop=Math.max(0,f))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var o=S({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=o.width,s=o.height,l=i.width*(r/i.naturalWidth),h=i.height*(s/i.naturalHeight);i.left-=(l-i.width)/2,i.top-=(h-i.height)/2,i.width=l,i.height=h,i.aspectRatio=r/s,i.naturalWidth=r,i.naturalHeight=s,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,a(this.canvas,Pt({width:i.width,height:i.height},w({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),o=i.naturalHeight*(e.height/e.naturalHeight);Pt(i,{width:n,height:o,left:(e.width-n)/2,top:(e.height-o)/2}),a(this.image,Pt({width:i.width,height:i.height},w(Pt({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};i&&(e.height*i>e.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=Pt({},o)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,s=this.limited,a=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=s?Math.min(n.width,o.width,o.width+o.left,n.width-o.left):n.width,d=s?Math.min(n.height,o.height,o.height+o.top,n.height-o.top):n.height;l=Math.min(l,n.width),h=Math.min(h,n.height),a&&(l&&h?h*a>l?h=l/a:l=h*a:l?h=l/a:h&&(l=h*a),d*a>c?d=c/a:c=d*a),r.minWidth=Math.min(l,c),r.minHeight=Math.min(h,d),r.maxWidth=c,r.maxHeight=d}e&&(s?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(n.width,o.left+o.width)-r.width,r.maxTop=Math.min(n.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&p(this.face,it,i.width>=e.width&&i.height>=e.height?R:N),a(this.cropBox,Pt({width:i.width,height:i.height},w({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),v(this.element,at,this.getData())}},$t={initPreview:function(){var t=this.crossOrigin,e=this.options.preview,i=t?this.crossOriginUrl:this.url,n=document.createElement("img");if(t&&(n.crossOrigin=t),n.src=i,this.viewBox.appendChild(n),this.viewBoxImage=n,e){var o=e;"string"==typeof e?o=this.element.ownerDocument.querySelectorAll(e):e.querySelector&&(o=[e]),this.previews=o,r(o,function(e){var n=document.createElement("img");p(e,nt,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)})}},resetPreview:function(){r(this.previews,function(t){var e=f(t,nt);a(t,{width:e.width,height:e.height}),t.innerHTML=e.html,g(t,nt)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,o=i.height,s=t.width,l=t.height,h=i.left-e.left-t.left,c=i.top-e.top-t.top;this.cropped&&!this.disabled&&(a(this.viewBoxImage,Pt({width:s,height:l},w(Pt({translateX:-h,translateY:-c},t)))),r(this.previews,function(e){var i=f(e,nt),r=i.width,d=i.height,u=r,p=d,g=1;n&&(p=o*(g=r/n)),o&&p>d&&(u=n*(g=d/o),p=d),a(e,{width:u,height:p}),a(e.getElementsByTagName("img")[0],Pt({width:s*g,height:l*g},w(Pt({translateX:-h*g,translateY:-c*g},t))))}))}},Yt={bind:function(){var t=this.element,e=this.options,i=this.cropper;o(e.cropstart)&&_(t,ct,e.cropstart),o(e.cropmove)&&_(t,ht,e.cropmove),o(e.cropend)&&_(t,lt,e.cropend),o(e.crop)&&_(t,at,e.crop),o(e.zoom)&&_(t,vt,e.zoom),_(i,ut,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&_(i,_t,this.onWheel=this.wheel.bind(this)),e.toggleDragModeOnDblclick&&_(i,dt,this.onDblclick=this.dblclick.bind(this)),_(t.ownerDocument,ft,this.onCropMove=this.cropMove.bind(this)),_(t.ownerDocument,pt,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&_(window,mt,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;o(e.cropstart)&&m(t,ct,e.cropstart),o(e.cropmove)&&m(t,ht,e.cropmove),o(e.cropend)&&m(t,lt,e.cropend),o(e.crop)&&m(t,at,e.crop),o(e.zoom)&&m(t,vt,e.zoom),m(i,ut,this.onCropStart),e.zoomable&&e.zoomOnWheel&&m(i,_t,this.onWheel),e.toggleDragModeOnDblclick&&m(i,dt,this.onDblclick),m(t.ownerDocument,ft,this.onCropMove),m(t.ownerDocument,pt,this.onCropEnd),e.responsive&&m(window,mt,this.onResize)}},qt={resize:function(){var t=this.options,e=this.container,i=this.containerData,n=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=n||i.height<=o)){var s=e.offsetWidth/i.width;if(1!==s||e.offsetHeight!==i.height){var a=void 0,l=void 0;t.restore&&(a=this.getCanvasData(),l=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(r(a,function(t,e){a[e]=t*s})),this.setCropBoxData(r(l,function(t,e){l[e]=t*s})))}}},dblclick:function(){this.disabled||this.options.dragMode===st||this.setDragMode(l(this.dragBox,K)?rt:ot)},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){if(!this.disabled){var e=this.options,i=this.pointers,n=void 0;t.changedTouches?r(t.changedTouches,function(t){i[t.identifier]=C(t)}):i[t.pointerId||0]=C(t),n=Object.keys(i).length>1&&e.zoomable&&e.zoomOnTouch?H:f(t.target,it),yt.test(n)&&!1!==v(this.element,ct,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===F&&(this.cropping=!0,h(this.dragBox,tt)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==v(this.element,ht,{originalEvent:t,action:e})&&(t.changedTouches?r(t.changedTouches,function(t){Pt(i[t.identifier],C(t,!0))}):Pt(i[t.pointerId||0],C(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?r(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,d(this.dragBox,tt,this.cropped&&this.options.modal)),v(this.element,lt,{originalEvent:t,action:e}))}}},Ut={change:function(t){var e=this.options,i=this.canvasData,n=this.containerData,o=this.cropBoxData,s=this.pointers,a=this.action,l=e.aspectRatio,h=o.left,d=o.top,u=o.width,f=o.height,p=h+u,g=d+f,m=0,_=0,v=n.width,b=n.height,x=!0,w=void 0;!l&&t.shiftKey&&(l=u&&f?u/f:1),this.limited&&(m=o.minLeft,_=o.minTop,v=m+Math.min(n.width,i.width,i.left+i.width),b=_+Math.min(n.height,i.height,i.top+i.height));var C=s[Object.keys(s)[0]],T={x:C.endX-C.startX,y:C.endY-C.startY},M=function(t){switch(t){case B:p+T.x>v&&(T.x=v-p);break;case W:h+T.x<m&&(T.x=m-h);break;case Y:d+T.y<_&&(T.y=_-d);break;case $:g+T.y>b&&(T.y=b-g)}};switch(a){case N:h+=T.x,d+=T.y;break;case B:if(T.x>=0&&(p>=v||l&&(d<=_||g>=b))){x=!1;break}M(B),(u+=T.x)<0&&(a=W,h-=u=-u),l&&(f=u/l,d+=(o.height-f)/2);break;case Y:if(T.y<=0&&(d<=_||l&&(h<=m||p>=v))){x=!1;break}M(Y),f-=T.y,d+=T.y,f<0&&(a=$,d-=f=-f),l&&(u=f*l,h+=(o.width-u)/2);break;case W:if(T.x<=0&&(h<=m||l&&(d<=_||g>=b))){x=!1;break}M(W),u-=T.x,h+=T.x,u<0&&(a=B,h-=u=-u),l&&(f=u/l,d+=(o.height-f)/2);break;case $:if(T.y>=0&&(g>=b||l&&(h<=m||p>=v))){x=!1;break}M($),(f+=T.y)<0&&(a=Y,d-=f=-f),l&&(u=f*l,h+=(o.width-u)/2);break;case q:if(l){if(T.y<=0&&(d<=_||p>=v)){x=!1;break}M(Y),f-=T.y,d+=T.y,u=f*l}else M(Y),M(B),T.x>=0?p<v?u+=T.x:T.y<=0&&d<=_&&(x=!1):u+=T.x,T.y<=0?d>_&&(f-=T.y,d+=T.y):(f-=T.y,d+=T.y);u<0&&f<0?(a=Z,d-=f=-f,h-=u=-u):u<0?(a=U,h-=u=-u):f<0&&(a=V,d-=f=-f);break;case U:if(l){if(T.y<=0&&(d<=_||h<=m)){x=!1;break}M(Y),f-=T.y,d+=T.y,u=f*l,h+=o.width-u}else M(Y),M(W),T.x<=0?h>m?(u-=T.x,h+=T.x):T.y<=0&&d<=_&&(x=!1):(u-=T.x,h+=T.x),T.y<=0?d>_&&(f-=T.y,d+=T.y):(f-=T.y,d+=T.y);u<0&&f<0?(a=V,d-=f=-f,h-=u=-u):u<0?(a=q,h-=u=-u):f<0&&(a=Z,d-=f=-f);break;case Z:if(l){if(T.x<=0&&(h<=m||g>=b)){x=!1;break}M(W),u-=T.x,h+=T.x,f=u/l}else M($),M(W),T.x<=0?h>m?(u-=T.x,h+=T.x):T.y>=0&&g>=b&&(x=!1):(u-=T.x,h+=T.x),T.y>=0?g<b&&(f+=T.y):f+=T.y;u<0&&f<0?(a=q,d-=f=-f,h-=u=-u):u<0?(a=V,h-=u=-u):f<0&&(a=U,d-=f=-f);break;case V:if(l){if(T.x>=0&&(p>=v||g>=b)){x=!1;break}M(B),f=(u+=T.x)/l}else M($),M(B),T.x>=0?p<v?u+=T.x:T.y>=0&&g>=b&&(x=!1):u+=T.x,T.y>=0?g<b&&(f+=T.y):f+=T.y;u<0&&f<0?(a=U,d-=f=-f,h-=u=-u):u<0?(a=Z,h-=u=-u):f<0&&(a=q,d-=f=-f);break;case R:this.move(T.x,T.y),x=!1;break;case H:this.zoom(k(s),t),x=!1;break;case F:if(!T.x||!T.y){x=!1;break}w=y(this.cropper),h=C.startX-w.left,d=C.startY-w.top,u=o.minWidth,f=o.minHeight,T.x>0?a=T.y>0?V:q:T.x<0&&(h-=u,a=T.y>0?Z:U),T.y<0&&(d-=f),this.cropped||(c(this.cropBox,X),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(o.width=u,o.height=f,o.left=h,o.top=d,this.action=a,this.renderCropBox()),r(s,function(t){t.startX=t.endX,t.startY=t.endY})}},Vt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&h(this.dragBox,tt),c(this.cropBox,X),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Pt({},this.initialImageData),this.canvasData=Pt({},this.initialCanvasData),this.cropBoxData=Pt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Pt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),c(this.dragBox,tt),h(this.cropBox,X)),this},replace:function(t){var e=arguments.length>1&&arguments[1]!==undefined&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,r(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,c(this.cropper,G)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,h(this.cropper,G)),this},destroy:function(){var t=this.element;return f(t,z)?(this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),g(t,z),this):this},move:function(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,n=this.canvasData,o=n.left,r=n.top;return this.moveTo(e(t)?t:o+Number(t),e(i)?i:r+Number(i))},moveTo:function(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e,n=this.canvasData,o=!1;return e=Number(e),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(t(e)&&(n.left=e,o=!0),t(i)&&(n.top=i,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(e,i,o){var r=this.options,s=this.canvasData,a=s.width,l=s.height,h=s.naturalWidth,c=s.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var d=h*e,u=c*e;if(!1===v(this.element,vt,{ratio:e,oldRatio:a/h,originalEvent:o}))return this;if(o){var f=this.pointers,p=y(this.cropper),g=f&&Object.keys(f).length?T(f):{pageX:o.pageX,pageY:o.pageY};s.left-=(d-a)*((g.pageX-p.left-s.left)/a),s.top-=(u-l)*((g.pageY-p.top-s.top)/l)}else n(i)&&t(i.x)&&t(i.y)?(s.left-=(d-a)*((i.x-s.left)/a),s.top-=(u-l)*((i.y-s.top)/l)):(s.left-=(d-a)/2,s.top-=(u-l)/2);s.width=d,s.height=u,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(e){return t(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var i=this.imageData.scaleY;return this.scale(e,t(i)?i:1)},scaleY:function(e){var i=this.imageData.scaleX;return this.scale(t(i)?i:1,e)},scale:function(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e,n=this.imageData,o=!1;return e=Number(e),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(t(e)&&(n.scaleX=e,o=!0),t(i)&&(n.scaleY=i,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==undefined&&arguments[0],e=this.options,i=this.imageData,n=this.canvasData,o=this.cropBoxData,s=void 0;if(this.ready&&this.cropped){s={x:o.left-n.left,y:o.top-n.top,width:o.width,height:o.height};var a=i.width/i.naturalWidth;if(r(s,function(t,e){s[e]=t/a}),t){var l=Math.round(s.y+s.height),h=Math.round(s.x+s.width);s.x=Math.round(s.x),s.y=Math.round(s.y),s.width=h-s.x,s.height=l-s.y}}else s={x:0,y:0,width:0,height:0};return e.rotatable&&(s.rotate=i.rotate||0),e.scalable&&(s.scaleX=i.scaleX||1,s.scaleY=i.scaleY||1),s},setData:function(e){var i=this.options,o=this.imageData,r=this.canvasData,s={};if(this.ready&&!this.disabled&&n(e)){var a=!1;i.rotatable&&t(e.rotate)&&e.rotate!==o.rotate&&(o.rotate=e.rotate,a=!0),i.scalable&&(t(e.scaleX)&&e.scaleX!==o.scaleX&&(o.scaleX=e.scaleX,a=!0),t(e.scaleY)&&e.scaleY!==o.scaleY&&(o.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=o.width/o.naturalWidth;t(e.x)&&(s.left=e.x*l+r.left),t(e.y)&&(s.top=e.y*l+r.top),t(e.width)&&(s.width=e.width*l),t(e.height)&&(s.height=e.height*l),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Pt({},this.containerData):{}},getImageData:function(){return this.sized?Pt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&r(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(e){var i=this.canvasData,o=i.aspectRatio;return this.ready&&!this.disabled&&n(e)&&(t(e.left)&&(i.left=e.left),t(e.top)&&(i.top=e.top),t(e.width)?(i.width=e.width,i.height=e.width/o):t(e.height)&&(i.height=e.height,i.width=e.height*o),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,e=void 0;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var i=this.cropBoxData,o=this.options.aspectRatio,r=void 0,s=void 0;return this.ready&&this.cropped&&!this.disabled&&n(e)&&(t(e.left)&&(i.left=e.left),t(e.top)&&(i.top=e.top),t(e.width)&&e.width!==i.width&&(r=!0,i.width=e.width),t(e.height)&&e.height!==i.height&&(s=!0,i.height=e.height),o&&(r?i.height=i.width/o:s&&(i.width=i.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=D(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),o=n.x,r=n.y,a=n.width,l=n.height,h=i.width/Math.floor(e.naturalWidth);1!==h&&(o*=h,r*=h,a*=h,l*=h);var c=a/l,d=M({aspectRatio:c,width:t.maxWidth||Infinity,height:t.maxHeight||Infinity}),u=M({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),f=M({aspectRatio:c,width:t.width||(1!==h?i.width:a),height:t.height||(1!==h?i.height:l)}),p=f.width,g=f.height;p=Math.min(d.width,Math.max(u.width,p)),g=Math.min(d.height,Math.max(u.height,g));var m=document.createElement("canvas"),_=m.getContext("2d");m.width=s(p),m.height=s(g),_.fillStyle=t.fillColor||"transparent",_.fillRect(0,0,p,g);var v=t.imageSmoothingEnabled,y=v===undefined||v,b=t.imageSmoothingQuality;_.imageSmoothingEnabled=y,b&&(_.imageSmoothingQuality=b);var x=i.width,w=i.height,k=o,C=r,T=void 0,S=void 0,j=void 0,A=void 0,P=void 0,E=void 0;k<=-a||k>x?(k=0,T=0,j=0,P=0):k<=0?(j=-k,k=0,P=T=Math.min(x,a+k)):k<=x&&(j=0,P=T=Math.min(a,x-k)),T<=0||C<=-l||C>w?(C=0,S=0,A=0,E=0):C<=0?(A=-C,C=0,E=S=Math.min(w,l+C)):C<=w&&(A=0,E=S=Math.min(l,w-C));var I=[k,C,T,S];if(P>0&&E>0){var L=p/a;I.push(j*L,A*L,P*L,E*L)}return _.drawImage.apply(_,[i].concat(Dt(I.map(function(t){return Math.floor(s(t))})))),m},setAspectRatio:function(t){var i=this.options;return this.disabled||e(t)||(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var o=t===ot,r=e.movable&&t===rt;t=o||r?t:st,e.dragMode=t,p(i,it,t),d(i,K,o),d(i,et,r),e.cropBoxMovable||(p(n,it,t),d(n,K,o),d(n,et,r))}return this}},Zt=O.Cropper,Kt=function(){function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(Mt(this,t),!e||!wt.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Pt({},kt,n(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return St(t,[{key:"init",value:function(){var t=this.element,e=t.tagName.toLowerCase(),i=void 0;if(!f(t,z)){if(p(t,z,this),"img"===e){if(this.isImg=!0,i=t.getAttribute("src")||"",this.originalUrl=i,!i)return;i=t.src}else"canvas"===e&&window.HTMLCanvasElement&&(i=t.toDataURL());this.load(i)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(bt.test(t))xt.test(t)?this.read(A(t)):this.clone();else{var o=new XMLHttpRequest;this.reloading=!0,this.xhr=o;var r=function(){e.reloading=!1,e.xhr=null};o.ontimeout=r,o.onabort=r,o.onerror=function(){r(),e.clone()},o.onload=function(){r(),e.read(o.response)},n.checkCrossOrigin&&b(t)&&i.crossOrigin&&(t=x(t)),o.open("get",t),o.responseType="arraybuffer",o.withCredentials="use-credentials"===i.crossOrigin,o.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=E(t),o=0,r=1,s=1;if(n>1){this.url=P(t,"image/jpeg");var a=I(n);o=a.rotate,r=a.scaleX,s=a.scaleY}e.rotatable&&(i.rotate=o),e.scalable&&(i.scaleX=r,i.scaleY=s),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=void 0,n=void 0;this.options.checkCrossOrigin&&b(e)&&((i=t.crossOrigin)?n=e:(i="anonymous",n=x(e))),this.crossOrigin=i,this.crossOriginUrl=n;var o=document.createElement("img");i&&(o.crossOrigin=i),o.src=n||e,this.image=o,
o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),h(o,J),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.isImg?this.element:this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=O.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(O.navigator.userAgent),n=function(e,i){Pt(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var o=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),i||r.removeChild(o)},o.src=e.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(o))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,r=document.createElement("div");r.innerHTML=Ct;var s=r.querySelector("."+z+"-container"),a=s.querySelector("."+z+"-canvas"),l=s.querySelector("."+z+"-drag-box"),d=s.querySelector("."+z+"-crop-box"),u=d.querySelector("."+z+"-face");this.container=n,this.cropper=s,this.canvas=a,this.dragBox=l,this.cropBox=d,this.viewBox=s.querySelector("."+z+"-view-box"),this.face=u,a.appendChild(i),h(t,X),n.insertBefore(s,t.nextSibling),this.isImg||c(i,J),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,h(d,X),e.guides||h(d.getElementsByClassName(z+"-dashed"),X),e.center||h(d.getElementsByClassName(z+"-center"),X),e.background&&h(s,z+"-bg"),e.highlight||h(u,Q),e.cropBoxMovable&&(h(u,et),p(u,it,N)),e.cropBoxResizable||(h(d.getElementsByClassName(z+"-line"),X),h(d.getElementsByClassName(z+"-point"),X)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),o(e.ready)&&_(t,gt,e.ready,{once:!0}),v(t,gt)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),c(this.element,X))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?this.xhr.abort():this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Zt,t}},{key:"setDefaults",value:function(t){Pt(kt,n(t)&&t)}}]),t}();return Pt(Kt.prototype,Wt,$t,Yt,qt,Ut,Vt),Kt}),function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):"object"==typeof exports&&"string"!=typeof exports.nodeName?e(exports):e(t.commonJsStrict={})}(this,function(t){function e(t){if(t in I)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=E.length;i--;)if((t=E[i]+e)in I)return t}function i(t,e){for(var n in t=t||{},e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},i(t[n],e[n])):t[n]=e[n];return t}function n(t){return i({},t)}function o(t){if("createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),t.dispatchEvent(e)}else t.fireEvent("onchange")}function r(t,e,i){if("string"==typeof e){var n=e;(e={})[n]=i}for(var o in e)t.style[o]=e[o]}function s(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function a(t,e){for(var i in e)t.setAttribute(i,e[i])}function l(t){return parseInt(t,10)}function h(t,e){var i=t.naturalWidth,n=t.naturalHeight,o=e||c(t);if(o&&o>=5){var r=i;i=n,n=r}return{width:i,height:n}}function c(t){return t.exifdata?t.exifdata.Orientation:1}function d(t,e,i){var n=e.width,o=e.height,r=t.getContext("2d");switch(t.width=e.width,t.height=e.height,r.save(),i){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,o),r.rotate(180*Math.PI/180);break;case 4:r.translate(0,o),r.scale(1,-1);break;case 5:t.width=o,t.height=n,r.rotate(90*Math.PI/180),r.scale(1,-1);break;case 6:t.width=o,t.height=n,r.rotate(90*Math.PI/180),r.translate(0,-o);break;case 7:t.width=o,t.height=n,r.rotate(-90*Math.PI/180),r.translate(-n,o),r.scale(1,-1);break;case 8:t.width=o,t.height=n,r.translate(0,n),r.rotate(-90*Math.PI/180)}r.drawImage(e,0,0,n,o),r.restore()}function u(){var t,e,i,n,l,h=this.options.viewport.type?"cr-vp-"+this.options.viewport.type:null;this.options.useCanvas=this.options.enableOrientation||f.call(this),this.data={},this.elements={},t=this.elements.boundary=document.createElement("div"),e=this.elements.viewport=document.createElement("div"),this.elements.img=document.createElement("img"),i=this.elements.overlay=document.createElement("div"),this.options.useCanvas?(this.elements.canvas=document.createElement("canvas"),this.elements.preview=this.elements.canvas):this.elements.preview=this.elements.img,s(t,"cr-boundary"),t.setAttribute("aria-dropeffect","none"),n=this.options.boundary.width,l=this.options.boundary.height,r(t,{width:n+(isNaN(n)?"":"px"),height:l+(isNaN(l)?"":"px")}),s(e,"cr-viewport"),h&&s(e,h),r(e,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),e.setAttribute("tabindex",0),s(this.elements.preview,"cr-image"),a(this.elements.preview,{alt:"preview","aria-grabbed":"false"}),s(i,"cr-overlay"),this.element.appendChild(t),t.appendChild(this.elements.preview),t.appendChild(e),t.appendChild(i),s(this.element,"croppie-container"),this.options.customClass&&s(this.element,this.options.customClass),function(){function t(t,e){var i=u.elements.preview.getBoundingClientRect(),n=d.y+e,o=d.x+t;u.options.enforceBoundary?(c.top>i.top+e&&c.bottom<i.bottom+e&&(d.y=n),c.left>i.left+t&&c.right<i.right+t&&(d.x=o)):(d.y=n,d.x=o)}function e(t){u.elements.preview.setAttribute("aria-grabbed",t),u.elements.boundary.setAttribute("aria-dropeffect",t?"move":"none")}function i(t){if((void 0===t.button||0===t.button)&&(t.preventDefault(),!f)){if(f=!0,a=t.pageX,l=t.pageY,t.touches){var i=t.touches[0];a=i.pageX,l=i.pageY}e(f),d=N.parse(u.elements.preview),window.addEventListener("mousemove",n),window.addEventListener("touchmove",n),window.addEventListener("mouseup",s),window.addEventListener("touchend",s),document.body.style[P]="none",c=u.elements.viewport.getBoundingClientRect()}}function n(e){e.preventDefault();var i=e.pageX,n=e.pageY;if(e.touches){var s=e.touches[0];i=s.pageX,n=s.pageY}var c=i-a,f=n-l,g={};if("touchmove"===e.type&&e.touches.length>1){var m=e.touches[0],v=e.touches[1],y=Math.sqrt((m.pageX-v.pageX)*(m.pageX-v.pageX)+(m.pageY-v.pageY)*(m.pageY-v.pageY));h||(h=y/u._currentZoom);var b=y/h;return p.call(u,b),void o(u.elements.zoomer)}t(c,f),g[A]=d.toString(),r(u.elements.preview,g),_.call(u),l=n,a=i}function s(){e(f=!1),window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s),document.body.style[P]="",m.call(u),v.call(u),h=0}var a,l,h,c,d,u=this,f=!1;u.elements.overlay.addEventListener("mousedown",i),u.elements.viewport.addEventListener("keydown",function(e){var i=37,n=38,o=39,s=40;if(!e.shiftKey||e.keyCode!==n&&e.keyCode!==s){if(u.options.enableKeyMovement&&e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var a=function(t){switch(t){case i:return[1,0];case n:return[0,1];case o:return[-1,0];case s:return[0,-1]}}(e.keyCode);d=N.parse(u.elements.preview),document.body.style[P]="none",c=u.elements.viewport.getBoundingClientRect(),function(e){var i={};t(e[0],e[1]),i[A]=d.toString(),r(u.elements.preview,i),_.call(u),document.body.style[P]="",m.call(u),v.call(u),h=0}(a)}}else{var l=0;l=e.keyCode===n?parseFloat(u.elements.zoomer.value,10)+parseFloat(u.elements.zoomer.step,10):parseFloat(u.elements.zoomer.value,10)-parseFloat(u.elements.zoomer.step,10),u.setZoom(l)}}),u.elements.overlay.addEventListener("touchstart",i)}.call(this),this.options.enableZoom&&function(){function t(){g.call(i,{value:parseFloat(o.value),origin:new F(i.elements.preview),viewportRect:i.elements.viewport.getBoundingClientRect(),transform:N.parse(i.elements.preview)})}function e(e){var n,o;if("ctrl"===i.options.mouseWheelZoom&&!0!==e.ctrlKey)return 0;n=e.wheelDelta?e.wheelDelta/1200:e.deltaY?e.deltaY/1060:e.detail?e.detail/-60:0,o=i._currentZoom+n*i._currentZoom,e.preventDefault(),p.call(i,o),t.call(i)}var i=this,n=i.elements.zoomerWrap=document.createElement("div"),o=i.elements.zoomer=document.createElement("input");s(n,"cr-slider-wrap"),s(o,"cr-slider"),o.type="range",o.step="0.0001",o.value=1,o.style.display=i.options.showZoomer?"":"none",o.setAttribute("aria-label","zoom"),i.element.appendChild(n),n.appendChild(o),i._currentZoom=1,i.elements.zoomer.addEventListener("input",t),i.elements.zoomer.addEventListener("change",t),i.options.mouseWheelZoom&&(i.elements.boundary.addEventListener("mousewheel",e),i.elements.boundary.addEventListener("DOMMouseScroll",e))}.call(this),this.options.enableResize&&function(){function t(t){if((void 0===t.button||0===t.button)&&(t.preventDefault(),!p)){var r=u.elements.overlay.getBoundingClientRect();if(p=!0,o=t.pageX,a=t.pageY,n=-1!==t.currentTarget.className.indexOf("vertical")?"v":"h",l=r.width,h=r.height,t.touches){var s=t.touches[0];o=s.pageX,a=s.pageY}window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),window.addEventListener("mouseup",i),window.addEventListener("touchend",i),document.body.style[P]="none"}}function e(t){var e=t.pageX,i=t.pageY;if(t.preventDefault(),t.touches){var s=t.touches[0];e=s.pageX,i=s.pageY}var c=e-o,d=i-a,p=u.options.viewport.height+d,y=u.options.viewport.width+c;"v"===n&&p>=g&&p<=h?(r(f,{height:p+"px"}),u.options.boundary.height+=d,r(u.elements.boundary,{height:u.options.boundary.height+"px"}),u.options.viewport.height+=d,r(u.elements.viewport,{height:u.options.viewport.height+"px"})):"h"===n&&y>=g&&y<=l&&(r(f,{width:y+"px"}),u.options.boundary.width+=c,r(u.elements.boundary,{width:u.options.boundary.width+"px"}),u.options.viewport.width+=c,r(u.elements.viewport,{width:u.options.viewport.width+"px"})),_.call(u),x.call(u),m.call(u),v.call(u),a=i,o=e}function i(){p=!1,window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e),window.removeEventListener("mouseup",i),window.removeEventListener("touchend",i),document.body.style[P]=""}var n,o,a,l,h,c,d,u=this,f=document.createElement("div"),p=!1,g=50;s(f,"cr-resizer"),r(f,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(s(c=document.createElement("div"),"cr-resizer-vertical"),f.appendChild(c)),this.options.resizeControls.width&&(s(d=document.createElement("div"),"cr-resizer-horisontal"),f.appendChild(d)),c&&(c.addEventListener("mousedown",t),c.addEventListener("touchstart",t)),d&&(d.addEventListener("mousedown",t),d.addEventListener("touchstart",t)),this.elements.boundary.appendChild(f)}.call(this)}function f(){return this.options.enableExif&&window.EXIF}function p(t){if(this.options.enableZoom){var e=this.elements.zoomer,i=C(t,4);e.value=Math.max(e.min,Math.min(e.max,i))}}function g(t){function e(){var t={};t[A]=n.toString(),t[j]=s.toString(),r(i.elements.preview,t)}var i=this,n=t?t.transform:N.parse(i.elements.preview),o=t?t.viewportRect:i.elements.viewport.getBoundingClientRect(),s=t?t.origin:new F(i.elements.preview);if(i._currentZoom=t?t.value:i._currentZoom,n.scale=i._currentZoom,i.elements.zoomer.setAttribute("aria-valuenow",i._currentZoom),e(),i.options.enforceBoundary){var a=function(t){var e=this._currentZoom,i=t.width,n=t.height,o=this.elements.boundary.clientWidth/2,r=this.elements.boundary.clientHeight/2,s=this.elements.preview.getBoundingClientRect(),a=s.width,l=s.height,h=i/2,c=n/2,d=-1*(h/e-o),u=-1*(c/e-r),f=1/e*h,p=1/e*c;return{translate:{maxX:d,minX:d-(a*(1/e)-i*(1/e)),maxY:u,minY:u-(l*(1/e)-n*(1/e))},origin:{maxX:a*(1/e)-f,minX:f,maxY:l*(1/e)-p,minY:p}}}.call(i,o),l=a.translate,h=a.origin;n.x>=l.maxX&&(s.x=h.minX,n.x=l.maxX),n.x<=l.minX&&(s.x=h.maxX,n.x=l.minX),n.y>=l.maxY&&(s.y=h.minY,n.y=l.maxY),n.y<=l.minY&&(s.y=h.maxY,n.y=l.minY)}e(),$.call(i),v.call(i)}function m(){var t=this._currentZoom,e=this.elements.preview.getBoundingClientRect(),i=this.elements.viewport.getBoundingClientRect(),n=N.parse(this.elements.preview.style[A]),o=new F(this.elements.preview),s=i.top-e.top+i.height/2,a=i.left-e.left+i.width/2,l={},h={};l.y=s/t,l.x=a/t,h.y=(l.y-o.y)*(1-t),h.x=(l.x-o.x)*(1-t),n.x-=h.x,n.y-=h.y;var c={};c[j]=l.x+"px "+l.y+"px",c[A]=n.toString(),r(this.elements.preview,c)}function _(){if(this.elements){var t=this.elements.boundary.getBoundingClientRect(),e=this.elements.preview.getBoundingClientRect();r(this.elements.overlay,{width:e.width+"px",height:e.height+"px",top:e.top-t.top+"px",left:e.left-t.left+"px"})}}function v(){var t,e=this.get();y.call(this)&&(this.options.update.call(this,e),this.$&&"undefined"==typeof Prototype?this.$(this.element).trigger("update.croppie",e):(window.CustomEvent?t=new CustomEvent("update",{detail:e}):(t=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,e),this.element.dispatchEvent(t)))}function y(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function b(){var t,e={},i=this.elements.preview,n=new N(0,0,1),o=new F;y.call(this)&&!this.data.bound&&(this.data.bound=!0,e[A]=n.toString(),e[j]=o.toString(),e.opacity=1,r(i,e),t=this.elements.preview.getBoundingClientRect(),this._originalImageWidth=t.width,this._originalImageHeight=t.height,this.data.orientation=c(this.elements.img),this.options.enableZoom?x.call(this,!0):this._currentZoom=1,n.scale=this._currentZoom,e[A]=n.toString(),r(i,e),this.data.points.length?function(t){if(4!==t.length)throw"Croppie - Invalid number of points supplied: "+t;var e=t[2]-t[0],i=this.elements.viewport.getBoundingClientRect(),n=this.elements.boundary.getBoundingClientRect(),o={left:i.left-n.left,top:i.top-n.top},s=i.width/e,a=t[1],l=t[0],h=-1*t[1]+o.top,c=-1*t[0]+o.left,d={};d[j]=l+"px "+a+"px",d[A]=new N(c,h,s).toString(),r(this.elements.preview,d),p.call(this,s),this._currentZoom=s}.call(this,this.data.points):function(){var t=this.elements.preview.getBoundingClientRect(),e=this.elements.viewport.getBoundingClientRect(),i=this.elements.boundary.getBoundingClientRect(),n=e.left-i.left,o=e.top-i.top,s=n-(t.width-e.width)/2,a=o-(t.height-e.height)/2,l=new N(s,a,this._currentZoom);r(this.elements.preview,A,l.toString())}.call(this),m.call(this),_.call(this))}function x(t){var e,i,n,r,s=0,a=this.options.maxZoom||1.5,l=this.elements.zoomer,c=parseFloat(l.value),d=this.elements.boundary.getBoundingClientRect(),u=h(this.elements.img,this.data.orientation),f=this.elements.viewport.getBoundingClientRect();this.options.enforceBoundary&&(n=f.width/u.width,r=f.height/u.height,s=Math.max(n,r)),s>=a&&(a=s+1),l.min=C(s,4),l.max=C(a,4),!t&&(c<l.min||c>l.max)?p.call(this,c<l.min?l.min:l.max):t&&(i=Math.max(d.width/u.width,d.height/u.height),e=null!==this.data.boundZoom?this.data.boundZoom:i,p.call(this,e)),o(l)}function w(t){var e=t.points,i=l(e[0]),n=l(e[1]),o=l(e[2])-i,r=l(e[3])-n,s=t.circle,a=document.createElement("canvas"),h=a.getContext("2d"),c=t.outputWidth||o,d=t.outputHeight||r;return t.outputWidth&&t.outputHeight,a.width=c,a.height=d,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,c,d)),!1!==this.options.enforceBoundary&&(o=Math.min(o,this._originalImageWidth),r=Math.min(r,this._originalImageHeight)),h.drawImage(this.elements.preview,i,n,o,r,0,0,c,d),s&&(h.fillStyle="#fff",h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(a.width/2,a.height/2,a.width/2,0,2*Math.PI,!0),h.closePath(),h.fill()),a}function k(t,e){var i,n,o,r,s=this,a=[],u=null,p=f.call(s);if("string"==typeof t)i=t,t={};else if(Array.isArray(t))a=t.slice();else{if(void 0===t&&s.data.url)return b.call(s),v.call(s),null;i=t.url,a=t.points||[],u=void 0===t.zoom?null:t.zoom}return s.data.bound=!1,s.data.url=i||s.data.url,s.data.boundZoom=u,(n=i,o=p,r=new Image,r.style.opacity=0,new Promise(function(t){function e(){r.style.opacity=1,setTimeout(function(){t(r)},1)}r.removeAttribute("crossOrigin"),n.match(/^https?:\/\/|^\/\//)&&r.setAttribute("crossOrigin","anonymous"),r.onload=function(){o?EXIF.getData(r,function(){e()}):e()},r.src=n})).then(function(i){if(function(t){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(e){t.classList.add(e)}),this.elements.img.parentNode.replaceChild(t,this.elements.img),this.elements.preview=t),this.elements.img=t}.call(s,i),a.length)s.options.relative&&(a=[a[0]*i.naturalWidth/100,a[1]*i.naturalHeight/100,a[2]*i.naturalWidth/100,a[3]*i.naturalHeight/100]);else{var n,o,r=h(i),u=s.elements.viewport.getBoundingClientRect(),p=u.width/u.height;r.width/r.height>p?n=(o=r.height)*p:(n=r.width,o=r.height/p);var g=(r.width-n)/2,m=(r.height-o)/2,_=g+n,y=m+o;s.data.points=[g,m,_,y]}s.data.points=a.map(function(t){return parseFloat(t)}),s.options.useCanvas&&function(t){var e=this.elements.canvas,i=this.elements.img,n=e.getContext("2d"),o=f.call(this);t=this.options.enableOrientation&&t,n.clearRect(0,0,e.width,e.height),e.width=i.width,e.height=i.height,o&&!t?d(e,i,l(c(i)||0)):t&&d(e,i,t)}.call(s,t.orientation||1),b.call(s),v.call(s),e&&e()})["catch"](function(t){console.error("Croppie:"+t)})}function C(t,e){return parseFloat(t).toFixed(e||0)}function T(){var t=this.elements.preview.getBoundingClientRect(),e=this.elements.viewport.getBoundingClientRect(),i=e.left-t.left,n=e.top-t.top,o=(e.width-this.elements.viewport.offsetWidth)/2,r=(e.height-this.elements.viewport.offsetHeight)/2,s=i+this.elements.viewport.offsetWidth+o,a=n+this.elements.viewport.offsetHeight+r,l=this._currentZoom;(l===1/0||isNaN(l))&&(l=1);var h=this.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return i=Math.max(h,i/l),n=Math.max(h,n/l),s=Math.max(h,s/l),a=Math.max(h,a/l),{points:[C(i),C(n),C(s),C(a)],zoom:l,orientation:this.data.orientation}}function M(t){var e=this,o=T.call(e),a=i(n(Y),n(t)),l="string"==typeof t?t:a.type||"base64",h=a.size||"viewport",c=a.format,d=a.quality,u=a.backgroundColor,f="boolean"==typeof a.circle?a.circle:"circle"===e.options.viewport.type,p=e.elements.viewport.getBoundingClientRect(),g=p.width/p.height;return"viewport"===h?(o.outputWidth=p.width,o.outputHeight=p.height):"object"==typeof h&&(h.width&&h.height?(o.outputWidth=h.width,o.outputHeight=h.height):h.width?(o.outputWidth=h.width,o.outputHeight=h.width/g):h.height&&(o.outputWidth=h.height*g,o.outputHeight=h.height)),q.indexOf(c)>-1&&(o.format="image/"+c,o.quality=d),o.circle=f,o.url=e.data.url,o.backgroundColor=u,new Promise(function(t){switch(l.toLowerCase()){case"rawcanvas":t(w.call(e,o));break;case"canvas":case"base64":t(function(t){return w.call(this,t).toDataURL(t.format,t.quality)}.call(e,o));break;case"blob":(function(t){var e=this;return new Promise(function(i){w.call(e,t).toBlob(function(t){i(t)},t.format,t.quality)})}).call(e,o).then(t);break;default:t(function(t){var e=t.points,i=document.createElement("div"),n=document.createElement("img"),o=e[2]-e[0],a=e[3]-e[1];return s(i,"croppie-result"),i.appendChild(n),r(n,{left:-1*e[0]+"px",top:-1*e[1]+"px"}),n.src=t.url,r(i,{width:o+"px",height:a+"px"}),i}.call(e,o))}})}function S(t){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var e,i,n,o,r,s=this.elements.canvas;this.data.orientation=(e=this.data.orientation,i=t,o=(n=L.indexOf(e)>-1?L:O).indexOf(e),r=i/90%n.length,n[(n.length+o+r%n.length)%n.length]),d(s,this.elements.img,this.data.orientation),x.call(this),g.call(this),copy=null}function D(t,e){if(t.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=t,this.options=i(n(D.defaults),e),"img"===this.element.tagName.toLowerCase()){var o=this.element;s(o,"cr-original-image"),a(o,{"aria-hidden":"true",alt:""});var r=document.createElement("div");this.element.parentNode.appendChild(r),r.appendChild(o),this.element=r,this.options.url=this.options.url||o.src}if(u.call(this),this.options.url){var l={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,k.call(this,l)}}"function"!=typeof Promise&&function(t){function e(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,e(o,this),e(r,this))}function n(t){var e=this;return null===this._state?void this._deferreds.push(t):void h(function(){var i=e._state?t.onFulfilled:t.onRejected;if(null!==i){var n;try{n=i(e._value)}catch(e){return void t.reject(e)}t.resolve(n)}else(e._state?t.resolve:t.reject)(e._value)})}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void a(e(i,t),e(o,this),e(r,this))}this._state=!0,this._value=t,s.call(this)}catch(t){r.call(this,t)}}function r(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds.length;e>t;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function a(t,e,i){var n=!1;try{t(function(t){n||(n=!0,e(t))},function(t){n||(n=!0,i(t))})}catch(t){if(n)return;n=!0,i(t)}}var l=setTimeout,h="function"==typeof setImmediate&&setImmediate||function(t){l(t,1)},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var o=this;return new i(function(i,r){n.call(o,new function(t,e,i,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=i,this.reject=n}(t,e,i,r))})},i.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new i(function(e,i){function n(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){n(r,t)},i)}t[r]=s,0==--o&&e(t)}catch(t){i(t)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)n(r,t[r])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,i){i(t)})},i.race=function(t){return new i(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},i._setImmediateFn=function(t){h=t},"undefined"!=typeof module&&module.exports?module.exports=i:t.Promise||(t.Promise=i)}(this),"function"!=typeof window.CustomEvent&&function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}t.prototype=window.Event.prototype,window.CustomEvent=t}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,i){for(var n=atob(this.toDataURL(e,i).split(",")[1]),o=n.length,r=new Uint8Array(o),s=0;s<o;s++)r[s]=n.charCodeAt(s);t(new Blob([r],{type:e||"image/png"}))}});var j,A,P,E=["Webkit","Moz","ms"],I=document.createElement("div").style,L=[1,8,3,6],O=[2,7,4,5];A=e("transform"),j=e("transformOrigin"),P=e("userSelect");var z={translate3d:{suffix:", 0px"},translate:{suffix:""}},N=function(t,e,i){this.x=parseFloat(t),this.y=parseFloat(e),this.scale=parseFloat(i)};N.parse=function(t){return t.style?N.parse(t.style[A]):t.indexOf("matrix")>-1||t.indexOf("none")>-1?N.fromMatrix(t):N.fromString(t)},N.fromMatrix=function(t){var e=t.substring(7).split(",");return e.length&&"none"!==t||(e=[1,0,0,1,0,0]),new N(l(e[4]),l(e[5]),parseFloat(e[0]))},N.fromString=function(t){var e=t.split(") "),i=e[0].substring(D.globals.translate.length+1).split(","),n=e.length>1?e[1].substring(6):1,o=i.length>1?i[0]:0,r=i.length>1?i[1]:0;return new N(o,r,n)},N.prototype.toString=function(){var t=z[D.globals.translate].suffix||"";return D.globals.translate+"("+this.x+"px, "+this.y+"px"+t+") scale("+this.scale+")"};var F=function(t){if(!t||!t.style[j])return this.x=0,void(this.y=0);var e=t.style[j].split(" ");this.x=parseFloat(e[0]),this.y=parseFloat(e[1])};F.prototype.toString=function(){return this.x+"px "+this.y+"px"};var R,H,B,W,$=(R=_,H=500,function(){var t=this,e=arguments,i=B&&!W;clearTimeout(W),W=setTimeout(function(){W=null,B||R.apply(t,e)},H),i&&R.apply(t,e)}),Y={type:"canvas",format:"png",quality:1},q=["jpeg","webp","png"];if(window.jQuery){var U=window.jQuery;U.fn.croppie=function(t){if("string"==typeof t){var e=Array.prototype.slice.call(arguments,1),i=U(this).data("croppie");return"get"===t?i.get():"result"===t?i.result.apply(i,e):"bind"===t?i.bind.apply(i,e):this.each(function(){var i=U(this).data("croppie");if(i){var n=i[t];if(!U.isFunction(n))throw"Croppie "+t+" method not found";n.apply(i,e),"destroy"===t&&U(this).removeData("croppie")}})}return this.each(function(){var e=new D(this,t);e.$=U,U(this).data("croppie",e)})}}D.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},D.globals={translate:"translate3d"},i(D.prototype,{bind:function(t,e){return k.call(this,t,e)},get:function(){var t=T.call(this),e=t.points;return this.options.relative&&(e[0]/=this.elements.img.naturalWidth/100,e[1]/=this.elements.img.naturalHeight/100,e[2]/=this.elements.img.naturalWidth/100,e[3]/=this.elements.img.naturalHeight/100),t},result:function(t){return M.call(this,t)},refresh:function(){return function(){b.call(this)}.call(this)},setZoom:function(t){p.call(this,t),o(this.elements.zoomer)},rotate:function(t){S.call(this,t)},destroy:function(){return function(){var t,e;this.element.removeChild(this.elements.boundary),e="croppie-container",(t=this.element).classList?t.classList.remove(e):t.className=t.className.replace(e,""),this.options.enableZoom&&this.element.removeChild(this.elements.zoomerWrap),delete this.elements}.call(this)}}),t.Croppie=window.Croppie=D}),function(t,e){"function"==typeof define&&define.amd?define("i18n",function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):t.I18n=e(t)}(this,function(t){"use strict";var e=t&&t.I18n||{},i=Array.prototype.slice,n=function(t){return("0"+t.toString()).substr(-2)},o=function(t,e){return f("round",t,-e).toFixed(e)},r=function(t){var e=typeof t;return"function"===e||"object"===e},s=function(t){return"function"===typeof t},a=function(t){return null!=t},l=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},h=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},c=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},d=function(t){return!0===t||!1===t},u=function(t){return null===t},f=function(t,e,i){return void 0===i||0==+i?Math[t](e):(e=+e,i=+i,isNaN(e)||"number"!=typeof i||i%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-i:-i)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+i:i))))},p=function(t,e){return s(t)?t(e):t},g=function(t,e){var i,n;for(i in e)e.hasOwnProperty(i)&&(n=e[i],h(n)||c(n)||d(n)||l(n)||u(n)?t[i]=n:(null==t[i]&&(t[i]={}),g(t[i],n)));return t},m={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},_={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},v={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},y={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},b=[null,"kb","mb","gb","tb"],x={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return e.reset=function(){var t;for(t in x)this[t]=x[t]},e.initializeOptions=function(){var t;for(t in x)a(this[t])||(this[t]=x[t])},e.initializeOptions(),e.locales={},e.locales.get=function(t){var i=this[t]||this[e.locale]||this["default"];return s(i)&&(i=i(t)),!1===l(i)&&(i=[i]),i},e.locales["default"]=function(t){var i=[],n=[];return t&&i.push(t),!t&&e.locale&&i.push(e.locale),e.fallbacks&&e.defaultLocale&&i.push(e.defaultLocale),i.forEach(function(t){var i=t.split("-"),o=null,r=null;3===i.length?(o=[i[0],i[1]].join("-"),r=i[0]):2===i.length&&(o=i[0]),-1===n.indexOf(t)&&n.push(t),e.fallbacks&&[o,r].forEach(function(e){null!=e&&e!==t&&-1===n.indexOf(e)&&n.push(e)})}),i.length||i.push("en"),n},e.pluralization={},e.pluralization.get=function(t){return this[t]||this[e.locale]||this["default"]},e.pluralization["default"]=function(t){switch(t){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},e.currentLocale=function(){return this.locale||this.defaultLocale},e.isSet=a,e.lookup=function(t,e){e=e||{};var i,n,o,r,s=this.locales.get(e.locale).slice();for(o=this.getFullScope(t,e);s.length;)if(i=s.shift(),n=o.split(e.separator||this.defaultSeparator),r=this.translations[i]){for(;n.length&&(r=r[n.shift()])!==undefined&&null!==r;);if(r!==undefined&&null!==r)return r}if(a(e.defaultValue))return p(e.defaultValue,t)},e.pluralizationLookupWithoutFallback=function(t,e,i){var n,o,s=this.pluralization.get(e)(t);if(i&&r(i))for(;s.length;)if(n=s.shift(),a(i[n])){o=i[n];break}return o},e.pluralizationLookup=function(t,e,i){i=i||{};var n,o,s,l,h=this.locales.get(i.locale).slice();for(e=this.getFullScope(e,i);h.length;)if(n=h.shift(),o=e.split(i.separator||this.defaultSeparator),s=this.translations[n]){for(;o.length&&(s=s[o.shift()],r(s));)0===o.length&&(l=this.pluralizationLookupWithoutFallback(t,n,s));if(null!=l)break}return null==l&&a(i.defaultValue)&&(l=r(i.defaultValue)?this.pluralizationLookupWithoutFallback(t,i.locale,i.defaultValue):i.defaultValue,s=i.defaultValue),{message:l,translations:s}},e.meridian=function(){var t=this.lookup("time"),e=this.lookup("date");return t&&t.am&&t.pm?[t.am,t.pm]:e&&e.meridian?e.meridian:m.meridian},e.prepareOptions=function(){for(var t,e=i.call(arguments),n={};e.length;)if("object"==typeof(t=e.shift()))for(var o in t)t.hasOwnProperty(o)&&(a(n[o])||(n[o]=t[o]));return n},e.createTranslationOptions=function(t,e){var i=[{scope:t}];return a(e.defaults)&&(i=i.concat(e.defaults)),a(e.defaultValue)&&i.push({message:e.defaultValue}),i},e.translate=function(t,e){e=e||{};var i,n=this.createTranslationOptions(t,e),o=t,s=this.prepareOptions(e);return delete s.defaultValue,n.some(function(e){if(a(e.scope)?(o=e.scope,i=this.lookup(o,s)):a(e.message)&&(i=p(e.message,t)),i!==undefined&&null!==i)return!0},this)?("string"==typeof i?i=this.interpolate(i,e):l(i)?i=i.map(function(t){return"string"==typeof t?this.interpolate(t,e):t},this):r(i)&&a(e.count)&&(i=this.pluralize(e.count,o,e)),i):this.missingTranslation(t,e)},e.interpolate=function(t,e){if(null==t)return t;e=e||{};var i,n,o,r,s=t.match(this.placeholder);if(!s)return t;for(;s.length;)o=(i=s.shift()).replace(this.placeholder,"$1"),n=a(e[o])?e[o].toString().replace(/\$/gm,"_#$#_"):o in e?this.nullPlaceholder(i,t,e):this.missingPlaceholder(i,t,e),r=new RegExp(i.replace(/{/gm,"\\{").replace(/}/gm,"\\}")),t=t.replace(r,n);return t.replace(/_#\$#_/g,"$")},e.pluralize=function(t,e,i){var n,o;return i=this.prepareOptions({count:String(t)},i),"undefined"==typeof(o=this.pluralizationLookup(t,e,i)).translations||null==o.translations?this.missingTranslation(e,i):"undefined"!=typeof o.message&&null!=o.message?this.interpolate(o.message,i):(n=this.pluralization.get(i.locale),this.missingTranslation(e+"."+n(t)[0],i))},e.missingTranslation=function(t,e){if("guess"===this.missingBehaviour){var i=t.split(".").slice(-1)[0];return(this.missingTranslationPrefix.length>0?this.missingTranslationPrefix:"")+i.replace(/_/g," ").replace(/([a-z])([A-Z])/g,function(t,e,i){return e+" "+i.toLowerCase()})}return'[missing "'+[null!=e&&null!=e.locale?e.locale:this.currentLocale(),this.getFullScope(t,e)].join(e.separator||this.defaultSeparator)+'" translation]'},e.missingPlaceholder=function(t){
return"[missing "+t+" value]"},e.nullPlaceholder=function(){return e.missingPlaceholder.apply(e,arguments)},e.toNumber=function(t,e){e=this.prepareOptions(e,this.lookup("number.format"),_);var i,n,r=t<0,s=o(Math.abs(t),e.precision).toString().split("."),a=[],l=e.format||"%n",h=r?"-":"";for(t=s[0],i=s[1];t.length>0;)a.unshift(t.substr(Math.max(0,t.length-3),3)),t=t.substr(0,t.length-3);return n=a.join(e.delimiter),e.strip_insignificant_zeros&&i&&(i=i.replace(/0+$/,"")),e.precision>0&&i&&(n+=e.separator+i),n=(l=e.sign_first?"%s"+l:l.replace("%n","%s%n")).replace("%u",e.unit).replace("%n",n).replace("%s",h)},e.toCurrency=function(t,e){return e=this.prepareOptions(e,this.lookup("number.currency.format",e),this.lookup("number.format",e),v),this.toNumber(t,e)},e.localize=function(t,e,i){switch(i||(i={}),t){case"currency":return this.toCurrency(e,i);case"number":return t=this.lookup("number.format",i),this.toNumber(e,t);case"percentage":return this.toPercentage(e,i);default:var n;return n=t.match(/^(date|time)/)?this.toTime(t,e,i):e.toString(),this.interpolate(n,i)}},e.parseDate=function(t){var e,i,n;if(null==t)return t;if("object"==typeof t)return t;if(e=t.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var o=1;o<=6;o++)e[o]=parseInt(e[o],10)||0;e[2]-=1,n=e[7]?1e3*("0"+e[7]):null,i=e[8]?new Date(Date.UTC(e[1],e[2],e[3],e[4],e[5],e[6],n)):new Date(e[1],e[2],e[3],e[4],e[5],e[6],n)}else"number"==typeof t?(i=new Date).setTime(t):t.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(i=new Date).setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" "))):(t.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),(i=new Date).setTime(Date.parse(t)));return i},e.strftime=function(t,i,o){o=this.lookup("date",o);var r=e.meridian();if(o||(o={}),o=this.prepareOptions(o,m),isNaN(t.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var s=t.getDay(),a=t.getDate(),l=t.getFullYear(),h=t.getMonth()+1,c=t.getHours(),d=c,u=c>11?1:0,f=t.getSeconds(),p=t.getMinutes(),g=t.getTimezoneOffset(),_=Math.floor(Math.abs(g/60)),v=Math.abs(g)-60*_,y=(g>0?"-":"+")+(_.toString().length<2?"0"+_:_)+(v.toString().length<2?"0"+v:v);return d>12?d-=12:0===d&&(d=12),i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace("%a",o.abbr_day_names[s])).replace("%A",o.day_names[s])).replace("%b",o.abbr_month_names[h])).replace("%B",o.month_names[h])).replace("%d",n(a))).replace("%e",a)).replace("%-d",a)).replace("%H",n(c))).replace("%-H",c)).replace("%k",c)).replace("%I",n(d))).replace("%-I",d)).replace("%l",d)).replace("%m",n(h))).replace("%-m",h)).replace("%M",n(p))).replace("%-M",p)).replace("%p",r[u])).replace("%P",r[u].toLowerCase())).replace("%S",n(f))).replace("%-S",f)).replace("%w",s)).replace("%y",n(l))).replace("%-y",n(l).replace(/^0+/,""))).replace("%Y",l)).replace("%z",y)).replace("%Z",y)},e.toTime=function(t,e,i){var n=this.parseDate(e),o=this.lookup(t,i);if(null==n)return n;var r=n.toString();return r.match(/invalid/i)?r:o?this.strftime(n,o,i):r},e.toPercentage=function(t,e){return e=this.prepareOptions(e,this.lookup("number.percentage.format",e),this.lookup("number.format",e),y),this.toNumber(t,e)},e.toHumanSize=function(t,e){for(var i,n,o,r=1024,s=t,a=0;s>=r&&a<4;)s/=r,a+=1;return 0===a?(o=this.getFullScope("number.human.storage_units.units.byte",e),i=this.t(o,{count:s}),n=0):(o=this.getFullScope("number.human.storage_units.units."+b[a],e),i=this.t(o),n=s-Math.floor(s)==0?0:1),e=this.prepareOptions(e,{unit:i,precision:n,format:"%n%u",delimiter:""}),this.toNumber(s,e)},e.getFullScope=function(t,e){return e=e||{},l(t)&&(t=t.join(e.separator||this.defaultSeparator)),e.scope&&(t=[e.scope,t].join(e.separator||this.defaultSeparator)),t},e.extend=function(t,e){return void 0===t&&void 0===e?{}:g(t,e)},e.t=e.translate.bind(e),e.l=e.localize.bind(e),e.p=e.pluralize.bind(e),e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!=n&&n!=Infinity&&n!=-Infinity&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var o=n>=0?n:Math.max(i-Math.abs(n),0);o<i;o++)if(o in e&&e[o]===t)return o;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("[object Function]"!=={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),n=0;n<r;){var s;Object.prototype.hasOwnProperty.call(o,n)&&(s=o[n],t.call(i,s,n,o)),n++}}),Array.prototype.some||(Array.prototype.some=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments.length>=2?arguments[1]:void 0,o=0;o<i;o++)if(o in e&&t.call(n,e[o],o,e))return!0;return!1}),Array.prototype.map||(Array.prototype.map=function(t){var e,i,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),i=new Array(r),n=0;n<r;){var s,a;n in o&&(s=o[n],a=t.call(e,s,n,o),i[n]=a),n++}return i}),Function.prototype.bind||function(){var t=Array.prototype.slice;Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var i=t.call(arguments,1),n=i.length,o=this,r=function(){},s=function(){return i.length=n,i.push.apply(i,arguments),o.apply(r.prototype.isPrototypeOf(this)?this:e,i)};return this.prototype&&(r.prototype=this.prototype),s.prototype=new r,s}}(),function(t,e){"function"==typeof define&&define.amd?define(["i18n"],e):"object"==typeof module&&module.exports?e(require("i18n")):e(t.I18n)}(this,function(t){"use strict";t.translations={de:{aussendung:{js:{loschen_bestaetigen:"Wollen Sie das Filter '%{filtername}' wirklich entfernen?",notendurchschnitt:"Werte werden zwischen 1,0 und 5,0 akzeptiert. Das Komma-Zeichen kann ein Beistrich (,) oder ein Punkt (.) sein"}},fragebogen:{js:{fragezeile_loeschen_bestaetigung:"Wollen Sie diese Frage wirklich l\xf6schen?",moeglichkeit_loeschen_bestaetigung:"Wollen Sie diese M\xf6glichkeit wirklich l\xf6schen?"}}},en:{aussendung:{js:{loschen_bestaetigen:"Do you really want to remove the Filter '%{filtername}'?",notendurchschnitt:"Values are accepted between 1.0 and 5.0. The period-sign can be a dot(.) or a comma (,)"}},fragebogen:{js:{fragezeile_loeschen_bestaetigung:"Do you really want to delete this question?",moeglichkeit_loeschen_bestaetigung:"Do you really want to delete this option?"}}}}});